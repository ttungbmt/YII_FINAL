(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[92],{1246:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(22),r=a(35),l=a(1166),c=a(3),i=a(0),o=a.n(i),s=a(47),u=a(1210),d=a(27),b=a(6),p=a(1);var f=function(e){var t=Object(s.a)(),a=Object(b.d)(Object(d.c)(t.palette.primary.main));return Object(p.a)("div",{className:e.classes.header},e.header&&Object(p.a)(u.a,{theme:a},e.header))},m=a(14),j=a(116),O=a(1177),g=a(1230);var v=function(e){var t=Object(s.a)(),a=Object(b.d)(Object(d.c)(t.palette.primary.main)),n=e.classes;return Object(p.a)(o.a.Fragment,null,e.header&&Object(p.a)(u.a,{theme:a},Object(p.a)("div",{className:Object(c.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&Object(p.a)(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var h=o.a.forwardRef((function(e,t){var a=Object(i.useState)(!1),n=Object(m.a)(a,2),r=n[0],l=n[1],s=e.classes;Object(i.useImperativeHandle)(t,(function(){return{toggleSidebar:u}}));var u=function(){l(!r)};return Object(p.a)(o.a.Fragment,null,Object(p.a)(O.a,{lgUp:"permanent"===e.variant},Object(p.a)(g.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return u()},disableSwipeToOpen:!0,classes:{root:Object(c.default)(s.sidebarWrapper,e.variant),paper:Object(c.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},Object(p.a)(v,e))),"permanent"===e.variant&&Object(p.a)(O.a,{mdDown:!0},Object(p.a)(j.a,{variant:"permanent",className:Object(c.default)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(c.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},Object(p.a)(v,e))))})),x=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[1],minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),y=o.a.forwardRef((function(e,t){var a=Object(i.useRef)(null),n=Object(i.useRef)(null),l=Object(i.useRef)(null),s=x(e),u=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return o.a.useImperativeHandle(t,(function(){return{rootRef:l,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),Object(p.a)("div",{className:Object(c.default)(s.root,e.innerScroll&&s.innerScroll),ref:l},Object(p.a)("div",{className:s.topBg}),Object(p.a)("div",{className:"flex container w-full"},d&&Object(p.a)(h,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:l}),Object(p.a)("div",{className:Object(c.default)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",u&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},Object(p.a)(f,{header:e.header,classes:s}),Object(p.a)("div",{className:Object(c.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&Object(p.a)("div",{className:s.toolbar},e.contentToolbar),e.content&&Object(p.a)(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),u&&Object(p.a)(h,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));y.defaultProps={};var S=o.a.memo(y)},1303:function(e,t,a){"use strict";var n=a(2),r=a(7),l=a(0),c=(a(5),a(3)),i=a(10),o=l.forwardRef((function(e,t){var a=e.classes,i=e.className,o=e.dividers,s=void 0!==o&&o,u=Object(r.a)(e,["classes","className","dividers"]);return l.createElement("div",Object(n.a)({className:Object(c.default)(a.root,i,s&&a.dividers),ref:t},u))}));t.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(o)},1317:function(e,t,a){"use strict";var n=a(2),r=a(7),l=a(0),c=(a(5),a(3)),i=a(10),o=l.forwardRef((function(e,t){var a=e.disableSpacing,i=void 0!==a&&a,o=e.classes,s=e.className,u=Object(r.a)(e,["disableSpacing","classes","className"]);return l.createElement("div",Object(n.a)({className:Object(c.default)(o.root,s,!i&&o.spacing),ref:t},u))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(o)},1389:function(e,t,a){var n=a(1472),r=a(1473),l=a(1420),c=a(1474);e.exports=function(e,t){return n(e)||r(e,t)||l(e,t)||c()}},1420:function(e,t,a){var n=a(1421);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}},1421:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}},1472:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},1473:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(o){r=!0,l=o}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}}},1474:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},1555:function(e,t){e.exports=u,e.exports.match=function(e,t){var a=[];return r(u(e,a,t),a)},e.exports.regexpToFunction=r,e.exports.parse=n,e.exports.compile=function(e,t){return l(n(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=s;var a=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function n(e,t){for(var n,r=[],l=0,o=0,s="",u=t&&t.delimiter||"/",d=t&&t.whitelist||void 0,b=!1;null!==(n=a.exec(e));){var p=n[0],f=n[1],m=n.index;if(s+=e.slice(o,m),o=m+p.length,f)s+=f[1],b=!0;else{var j="",O=n[2],g=n[3],v=n[4],h=n[5];if(!b&&s.length){var x=s.length-1,y=s[x];(!d||d.indexOf(y)>-1)&&(j=y,s=s.slice(0,x))}s&&(r.push(s),s="",b=!1);var S="+"===h||"*"===h,N="?"===h||"*"===h,w=g||v,k=j||u;r.push({name:O||l++,prefix:j,delimiter:k,optional:N,repeat:S,pattern:w?i(w):"[^"+c(k===u?k:k+u)+"]+?"})}}return(s||o<e.length)&&r.push(s+e.substr(o)),r}function r(e,t){return function(a,n){var r=e.exec(a);if(!r)return!1;for(var l=r[0],c=r.index,i={},o=n&&n.decode||decodeURIComponent,s=1;s<r.length;s++)if(void 0!==r[s]){var u=t[s-1];u.repeat?i[u.name]=r[s].split(u.delimiter).map((function(e){return o(e,u)})):i[u.name]=o(r[s],u)}return{path:l,index:c,params:i}}}function l(e,t){for(var a=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(a[n]=new RegExp("^(?:"+e[n].pattern+")$",o(t)));return function(t,n){for(var r="",l=n&&n.encode||encodeURIComponent,c=!n||!1!==n.validate,i=0;i<e.length;i++){var o=e[i];if("string"!==typeof o){var s,u=t?t[o.name]:void 0;if(Array.isArray(u)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===u.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(s=l(u[d],o),c&&!a[i].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');r+=(0===d?o.prefix:o.delimiter)+s}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"))}else{if(s=l(String(u),o),c&&!a[i].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+s+'"');r+=o.prefix+s}}else r+=o}return r}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e.replace(/([=!:$/()])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,t,a){for(var n=(a=a||{}).strict,r=!1!==a.start,l=!1!==a.end,i=a.delimiter||"/",s=[].concat(a.endsWith||[]).map(c).concat("$").join("|"),u=r?"^":"",d=0;d<e.length;d++){var b=e[d];if("string"===typeof b)u+=c(b);else{var p=b.repeat?"(?:"+b.pattern+")(?:"+c(b.delimiter)+"(?:"+b.pattern+"))*":b.pattern;t&&t.push(b),b.optional?b.prefix?u+="(?:"+c(b.prefix)+"("+p+"))?":u+="("+p+")?":u+=c(b.prefix)+"("+p+")"}}if(l)n||(u+="(?:"+c(i)+")?"),u+="$"===s?"$":"(?="+s+")";else{var f=e[e.length-1],m="string"===typeof f?f[f.length-1]===i:void 0===f;n||(u+="(?:"+c(i)+"(?="+s+"))?"),m||(u+="(?="+c(i)+"|"+s+")")}return new RegExp(u,o(a))}function u(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,a){for(var n=[],r=0;r<e.length;r++)n.push(u(e[r],t,a).source);return new RegExp("(?:"+n.join("|")+")",o(a))}(e,t,a):function(e,t,a){return s(n(e,a),t,a)}(e,t,a)}},2975:function(e,t,a){"use strict";a.r(t);var n=a(1246),r=a(258),l=a(0),c=a.n(l),i=a(6),o=a(52),s=a(14),u=a(129),d=a(9),b=a(1229),p=a(1217),f=a(547),m=a(399),j=a(169),O=a(151),g=a(1166),v=a(3),h=a(1),x=Object(g.a)((function(e){return{root:{display:"flex",alignItems:"center",height:21,borderRadius:2,padding:"0 6px",fontSize:11,backgroundColor:"rgba(0,0,0,.08);"},color:{width:8,height:8,marginRight:4,borderRadius:"50%"}}}));var y,S=function(e){var t=x();return Object(h.a)("div",{className:Object(v.default)(t.root,e.className)},Object(h.a)("div",{className:t.color,style:{backgroundColor:e.color}}),Object(h.a)("div",null,e.title))},N=a(22),w=a(16),k=a.n(w),C=a(37),I=a(13),A=a(51),M=a.n(A),E=Object(I.b)("mailApp/labels/getLabels",Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/mail-app/labels");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),R=Object(I.c)({}),T=R.getSelectors((function(e){return e.mailApp.labels})),P=T.selectAll,L=T.selectEntities,D=(T.selectById,Object(I.d)({name:"mailApp/labels",initialState:R.getInitialState(null),reducers:{},extraReducers:Object(N.a)({},E.fulfilled,R.setAll)}).reducer),B=a(8),H=a(48),z=Object(I.b)("mailApp/mail/getMail",function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/mail-app/mail",{params:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(I.b)("mailApp/mail/updateMail",function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r,l,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,r=a.dispatch,l=n().mailApp.mail.id,e.next=4,M.a.post("/api/mail-app/update-mail",Object(B.a)({id:l},t));case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,r(Object(H.c)({message:"Mail Saved"})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),U=Object(I.d)({name:"mailApp/mail",initialState:null,reducers:{},extraReducers:(y={},Object(N.a)(y,z.fulfilled,(function(e,t){return t.payload})),Object(N.a)(y,W.fulfilled,(function(e,t){return Object(B.a)(Object(B.a)({},e),t.payload)})),y)}).reducer;var F=Object(o.k)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mail})),n=Object(i.d)(L),r=Object(o.j)(),c=Object(l.useState)(!1),g=Object(s.a)(c,2),v=g[0],x=g[1];return Object(O.b)((function(){t(z(r))}),[t,r]),a?Object(h.a)("div",{className:"p-16 sm:p-24"},Object(h.a)("div",{className:"flex items-center justify-between overflow-hidden"},Object(h.a)("div",{className:"flex flex-col"},Object(h.a)(u.a,{delay:100},Object(h.a)(j.a,{variant:"subtitle1",className:"flex"},a.subject)),!d.a.isEmpty(n)&&a.labels.length>0&&Object(h.a)("div",{className:"flex flex-wrap mt-8 -mx-2"},a.labels.map((function(e){return Object(h.a)(S,{className:"mt-4 mx-2",title:n[e].title,color:n[e].color,key:e})}))))),Object(h.a)(p.a,{className:"my-16"}),Object(h.a)(u.a,{animation:"transition.slideUpIn",delay:200},Object(h.a)("div",null,Object(h.a)("div",{className:"flex items-start justify-between"},Object(h.a)("div",{className:"flex items-center justify-start"},a.from.avatar?Object(h.a)(b.a,{alt:a.from.name,src:a.from.avatar}):Object(h.a)(b.a,null,a.from.name[0]),Object(h.a)("div",{className:"flex flex-col mx-8"},Object(h.a)("span",null,a.from.name),Object(h.a)(j.a,{component:"div",color:"textSecondary",variant:"body1",className:"flex items-center justify-start"},Object(h.a)("div",null,"to"),Object(h.a)("div",{className:"mx-4"},a.to[0].name)))),Object(h.a)(m.a,null,Object(h.a)(f.a,null,"more_vert"))),Object(h.a)("div",{className:"my-16"},Object(h.a)(j.a,{color:"primary",className:"cursor-pointer underline mb-8",onClick:function(){x(!v)}},v?Object(h.a)("span",null,"Hide Details"):Object(h.a)("span",null,"Show Details")),v&&Object(h.a)("div",{className:"flex"},Object(h.a)(j.a,{variant:"body2",className:"flex flex-col"},Object(h.a)("span",null,"From:"),Object(h.a)("span",null,"To:"),Object(h.a)("span",null,"Date:")),Object(h.a)(j.a,{variant:"body2",color:"textSecondary",className:"px-4 flex flex-col"},Object(h.a)("span",null,a.from.email),Object(h.a)("span",null,a.to[0].email),Object(h.a)("span",null,a.time)))),Object(h.a)(j.a,{variant:"body2",dangerouslySetInnerHTML:{__html:a.message}}),Object(h.a)(p.a,{className:"my-16"}),a.attachments&&Object(h.a)("div",null,Object(h.a)(j.a,{variant:"subtitle1",className:"mb-16"},Object(h.a)("span",{className:"mx-4"},"Attachments"),Object(h.a)("span",null,"(",a.attachments.length,")")),Object(h.a)("div",{className:"flex flex-wrap -mx-8"},a.attachments.map((function(e){return Object(h.a)("div",{className:"w-192 px-8 pb-16",key:e.fileName},Object(h.a)("img",{className:"w-full rounded-4",src:e.preview,alt:e.fileName}),Object(h.a)("div",{className:"flex flex-col"},Object(h.a)(j.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"View"),Object(h.a)(j.a,{color:"primary",className:"underline cursor-pointer",onClick:function(e){return e.preventDefault()}},"Download"),Object(h.a)(j.a,null,"(",e.size,")")))}))))))):null})),_=a(47),$=a(1555);var V=Object(o.k)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mail})),n=Object(_.a)(),r=$.compile(e.match.path),l=Object(o.j)(),c=Object(B.a)({},l);delete c.mailId;var s=r(c);return a?Object(h.a)("div",{className:"flex flex-1 items-center justify-between overflow-hidden sm:px-16"},Object(h.a)(m.a,{onClick:function(){return e.history.push(s)}},Object(h.a)(f.a,null,"ltr"===n.direction?"arrow_back":"arrow_forward")),Object(h.a)("div",{className:"flex items-center justify-start","aria-label":"Toggle star"},Object(h.a)(u.a,{animation:"transition.expandIn",delay:100},Object(h.a)(m.a,{onClick:function(){return t(W({starred:!a.starred}))}},a.starred?Object(h.a)(f.a,null,"star"):Object(h.a)(f.a,null,"star_border"))),Object(h.a)(u.a,{animation:"transition.expandIn",delay:100},Object(h.a)(m.a,{onClick:function(){return t(W({important:!a.important}))}},a.important?Object(h.a)(f.a,null,"label"):Object(h.a)(f.a,null,"label_off"))))):null})),J=a(1177),Y=a(574),q=a(221),G=a(1210),K=a(1389),Q=a.n(K),X=a(54),Z=a.n(X),ee=a(695);function te(){if(console&&console.warn){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];"string"===typeof a[0]&&(a[0]="react-i18next:: ".concat(a[0])),(e=console).warn.apply(e,a)}}var ae={};function ne(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"string"===typeof t[0]&&ae[t[0]]||("string"===typeof t[0]&&(ae[t[0]]=new Date),te.apply(void 0,t))}function re(e,t,a){e.loadNamespaces(t,(function(){if(e.isInitialized)a();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),a()}))}}))}function le(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return ne("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,l=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var c=function(e,a){var n=t.services.backendConnector.state["".concat(e,"|").concat(a)];return-1===n||2===n};return!(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!c(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!c(n,e)||r&&!c(l,e))))}function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.i18n,n=Object(l.useContext)(ee.a)||{},r=n.i18n,c=n.defaultNS,i=a||r||Object(ee.d)();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new ee.b),!i){ne("You will need to pass in an i18next instance by using initReactI18next");var o=function(e){return Array.isArray(e)?e[e.length-1]:e},s=[o,{},!1];return s.t=o,s.i18n={},s.ready=!1,s}var u=ie(ie(ie({},Object(ee.c)()),i.options.react),t),d=u.useSuspense,b=e||c||i.options&&i.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(b);var p=(i.isInitialized||i.initializedStoreOnce)&&b.every((function(e){return le(e,i,u)}));function f(){return{t:i.getFixedT(null,"fallback"===u.nsMode?b:b[0])}}var m=Object(l.useState)(f()),j=Q()(m,2),O=j[0],g=j[1],v=Object(l.useRef)(!0);Object(l.useEffect)((function(){var e=u.bindI18n,t=u.bindI18nStore;function a(){v.current&&g(f())}return v.current=!0,p||d||re(i,b,(function(){v.current&&g(f())})),e&&i&&i.on(e,a),t&&i&&i.store.on(t,a),function(){v.current=!1,e&&i&&e.split(" ").forEach((function(e){return i.off(e,a)})),t&&i&&t.split(" ").forEach((function(e){return i.store.off(e,a)}))}}),[b.join()]);var h=[O.t,i,p];if(h.t=O.t,h.i18n=i,h.ready=p,p)return h;if(!p&&!d)return h;throw new Promise((function(e){re(i,b,(function(){e()}))}))}var se=a(27),ue=a(18),de=Object(I.b)("mailApp/mails/getMails",function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState,t=t||n().mailApp.mails.routeParams,e.next=4,M.a.get("/api/mail-app/mails",{params:t});case 4:return r=e.sent,e.next=7,r.data;case 7:return l=e.sent,e.abrupt("return",{data:l,routeParams:t});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),be=Object(I.b)("mailApp/mails/setFolderOnSelectedMails",function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r,l,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,l=r().mailApp.mails.selectedMailIds,e.next=4,M.a.post("/api/mail-app/set-folder",{selectedMailIds:l,folderId:t});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,n(de()),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),pe=Object(I.b)("mailApp/mails/toggleLabelOnSelectedMails",function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r,l,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,l=r().mailApp.mails.selectedMailIds,e.next=4,M.a.post("/api/mail-app/toggle-label",{selectedMailIds:l,labelId:t});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,n(de()),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),fe=Object(I.c)({}),me=fe.getSelectors((function(e){return e.mailApp.mails})),je=me.selectAll,Oe=(me.selectById,Object(I.d)({name:"mailApp/mails",initialState:fe.getInitialState({searchText:"",routeParams:{},selectedMailIds:[]}),reducers:{setMailsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},selectAllMails:function(e,t){e.selectedMailIds=e.ids},deselectAllMails:function(e,t){e.selectedMailIds=[]},selectMailsByParameter:function(e,t){var a=Object(s.a)(t.payload,2),n=a[0],r=a[1];e.selectedMailIds=e.ids.filter((function(t){return e.entities[t][n]===r}))},toggleInSelectedMails:function(e,t){var a=t.payload;e.selectedMailIds=e.selectedMailIds.includes(a)?e.selectedMailIds.filter((function(e){return e!==a})):[].concat(Object(ue.a)(e.selectedMailIds),[a])}},extraReducers:Object(N.a)({},de.fulfilled,(function(e,t){var a=t.payload,n=a.data,r=a.routeParams;fe.setAll(e,n),e.routeParams=r,e.selectedMailIds=[]}))})),ge=Oe.actions,ve=ge.setMailsSearchText,he=ge.selectAllMails,xe=ge.deselectAllMails,ye=ge.selectMailsByParameter,Se=ge.toggleInSelectedMails,Ne=Oe.reducer;var we=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.searchText})),n=Object(i.d)(se.e),r=oe("mailApp").t;return Object(h.a)(G.a,{theme:n},Object(h.a)("div",{className:"flex flex-1"},Object(h.a)(q.a,{className:"flex items-center w-full h-48 sm:h-56 p-16 ltr:pl-4 lg:ltr:pl-16 rtl:pr-4 lg:rtl:pr-16 rounded-8",elevation:1},Object(h.a)(J.a,{lgUp:!0},Object(h.a)(m.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},Object(h.a)(f.a,null,"menu"))),Object(h.a)(f.a,{color:"action"},"search"),Object(h.a)(Y.a,{placeholder:r("SEARCH_PLACEHOLDER"),className:"px-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(ve(e))}}))))},ke=a(109),Ce=a(1129),Ie=a(1130),Ae=a(1173),Me=a(1216),Ee=a(1211),Re=a(1170),Te=a(1205),Pe=a(1317),Le=a(1303),De=a(1174),Be=a(1172),He=Object(g.a)({root:{fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},filename:{fontWeight:600},size:{marginLeft:8,fontWeight:300}});var ze=function(e){var t=He();return Object(h.a)("div",{className:Object(v.default)(t.root,e.className)},Object(h.a)("div",{className:"flex"},Object(h.a)(j.a,{variant:"caption",className:t.filename},e.fileName),Object(h.a)(j.a,{variant:"caption",className:t.size},"(",e.size,")")),Object(h.a)(m.a,null,Object(h.a)(f.a,{className:"text-16"},"close")))};var We=function(){var e=Object(l.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(O.c)({from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""}),c=r.form,i=r.handleChange,o=oe("mailApp").t;return Object(h.a)("div",{className:"p-24"},Object(h.a)(Re.a,{variant:"contained",color:"primary",className:"w-full",onClick:function(){n(!0)}},o("COMPOSE")),Object(h.a)(Te.a,{open:a,onClose:function(){n(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:"rounded-8"}},Object(h.a)(Ee.a,{position:"static"},Object(h.a)(Be.a,{className:"flex w-full"},Object(h.a)(j.a,{variant:"subtitle1",color:"inherit"},"New Message"))),Object(h.a)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),n(!1)},className:"flex flex-col"},Object(h.a)(Le.a,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},Object(h.a)(De.a,{className:"mt-8 mb-16",label:"From",id:"from",name:"from",value:c.from,onChange:i,variant:"outlined",fullWidth:!0,disabled:!0}),Object(h.a)(De.a,{className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",name:"to",value:c.to,onChange:i,variant:"outlined",fullWidth:!0,required:!0}),Object(h.a)(De.a,{className:"mt-8 mb-16",label:"Cc",id:"cc",name:"cc",value:c.cc,onChange:i,variant:"outlined",fullWidth:!0}),Object(h.a)(De.a,{className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",value:c.bcc,onChange:i,variant:"outlined",fullWidth:!0}),Object(h.a)(De.a,{className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",value:c.subject,onChange:i,variant:"outlined",fullWidth:!0}),Object(h.a)(De.a,{className:"mt-8 mb-16",id:"message",name:"message",onChange:i,value:c.message,label:"Message",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),Object(h.a)("div",{className:"pt-8"},Object(h.a)(ze,{fileName:"attachment-2.doc",size:"12 kb"}),Object(h.a)(ze,{fileName:"attachment-1.jpg",size:"350 kb"}))),Object(h.a)(Pe.a,{className:"justify-between p-8"},Object(h.a)("div",{className:"px-16"},Object(h.a)(Re.a,{variant:"contained",color:"primary",type:"submit"},"Send"),Object(h.a)(m.a,null,Object(h.a)(f.a,null,"attach_file"))),Object(h.a)(m.a,{onClick:function(){n(!1)}},Object(h.a)(f.a,null,"delete"))))))},Ue=Object(I.b)("mailApp/filters/getFilters",Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/mail-app/filters");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Fe=Object(I.c)({}),_e=Fe.getSelectors((function(e){return e.mailApp.filters})),$e=_e.selectAll,Ve=(_e.selectById,Object(I.d)({name:"mailApp/filters",initialState:Fe.getInitialState({}),reducers:{},extraReducers:Object(N.a)({},Ue.fulfilled,Fe.setAll)}).reducer),Je=Object(I.b)("mailApp/folders/getFolders",Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/api/mail-app/folders");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Ye=Object(I.c)({}),qe=Ye.getSelectors((function(e){return e.mailApp.folders})),Ge=qe.selectAll,Ke=(qe.selectById,Object(I.d)({name:"mailApp/folders",initialState:Ye.getInitialState({}),reducers:{},extraReducers:Object(N.a)({},Je.fulfilled,Ye.setAll)}).reducer),Qe=Object(g.a)((function(e){return{listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}},listSubheader:{paddingLeft:24}}}));var Xe=function(e){var t=Object(i.d)(Ge),a=Object(i.d)(P),n=Object(i.d)($e),r=Qe(),l=oe("mailApp").t;return Object(h.a)(u.a,{animation:"transition.slideUpIn",delay:400},Object(h.a)("div",{className:"flex-auto border-l-1"},Object(h.a)(We,null),Object(h.a)("div",null,Object(h.a)(Ce.a,null,Object(h.a)(Me.a,{className:r.listSubheader,disableSticky:!0},l("FOLDERS")),t.length>0&&t.map((function(e){return Object(h.a)(Ie.a,{button:!0,component:ke.a,to:"/apps/mail/".concat(e.handle),key:e.id,activeClassName:"active",className:r.listItem},Object(h.a)(f.a,{className:"list-item-icon",color:"action"},e.icon),Object(h.a)(Ae.a,{primary:e.translate?l(e.translate):e.title,disableTypography:!0}))}))),Object(h.a)(Ce.a,null,Object(h.a)(Me.a,{className:r.listSubheader,disableSticky:!0},l("FILTERS")),n.length>0&&n.map((function(e){return Object(h.a)(Ie.a,{button:!0,component:ke.a,to:"/apps/mail/filter/".concat(e.handle),activeClassName:"active",className:r.listItem,key:e.id},Object(h.a)(f.a,{className:"list-item-icon",color:"action"},e.icon),Object(h.a)(Ae.a,{primary:e.translate?l(e.translate):e.title,disableTypography:!0}))}))),Object(h.a)(Ce.a,null,Object(h.a)(Me.a,{className:r.listSubheader,disableSticky:!0},l("LABELS")),a&&a.map((function(e){return Object(h.a)(Ie.a,{button:!0,component:ke.a,to:"/apps/mail/label/".concat(e.handle),key:e.id,className:r.listItem},Object(h.a)(f.a,{className:"list-item-icon",style:{color:e.color},color:"action"},"label"),Object(h.a)(Ae.a,{primary:e.title,disableTypography:!0}))}))))))},Ze=a(1167),et={creapond:"johndoe@creapond.com",withinpixels:"johndoe@withinpixels.com"};var tt=function(e){var t=Object(l.useState)("creapond"),a=Object(s.a)(t,2),n=a[0],r=a[1],c=oe("mailApp").t;return Object(h.a)("div",{className:"flex flex-col justify-center h-full p-24"},Object(h.a)("div",{className:"flex items-center flex-1"},Object(h.a)(u.a,{animation:"transition.expandIn",delay:300},Object(h.a)(f.a,{className:"text-32"},"mail")),Object(h.a)(u.a,{animation:"transition.slideLeftIn",delay:300},Object(h.a)("span",{className:"text-24 mx-16"},c("APP_TITLE")))),Object(h.a)(u.a,{animation:"transition.slideUpIn",delay:300},Object(h.a)(De.a,{id:"account-selection",select:!0,label:n,value:n,onChange:function(e){r(e.target.value)},placeholder:"Select Account",margin:"normal"},Object.keys(et).map((function(e,t){return Object(h.a)(Ze.a,{key:e,value:e},et[e])})))))},at=a(153),nt=a(34),rt=a(1176),lt=a(1555),ct=Object(g.a)((function(e){return{mailItem:{borderBottom:"1px solid  ".concat(e.palette.divider),"&.unread":{background:"rgba(0,0,0,0.03)"},"&.selected":{"&::after":{content:'""',position:"absolute",left:0,display:"block",height:"100%",width:3,backgroundColor:e.palette.primary.main}}},avatar:{backgroundColor:e.palette.primary[500]}}})),it=Object(o.k)((function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(i.d)(L),r=Object(o.j)(),l=ct(e),c=lt.compile(e.match.path),s=a.length>0&&void 0!==a.find((function(t){return t===e.mail.id}));return Object(h.a)(Ie.a,{dense:!0,button:!0,onClick:function(){return e.history.push(c(Object(B.a)(Object(B.a)({},r),{},{mailId:e.mail.id})))},className:Object(v.default)(l.mailItem,s&&"selected",!e.mail.read&&"unread","py-16 px-0 md:px-8")},Object(h.a)(rt.a,{tabIndex:-1,disableRipple:!0,checked:s,onChange:function(){return t(Se(e.mail.id))},onClick:function(e){return e.stopPropagation()}}),Object(h.a)("div",{className:"flex flex-1 flex-col relative overflow-hidden"},Object(h.a)("div",{className:"flex items-center justify-between px-16 pb-8"},Object(h.a)("div",{className:"flex items-center"},e.mail.from.avatar?Object(h.a)(b.a,{alt:e.mail.from.name,src:e.mail.from.avatar}):Object(h.a)(b.a,{className:l.avatar},e.mail.from.name[0]),Object(h.a)(j.a,{variant:"subtitle1",className:"mx-8"},e.mail.from.name)),Object(h.a)(j.a,{variant:"subtitle1"},e.mail.time)),Object(h.a)("div",{className:"flex flex-col px-16 py-0"},Object(h.a)(j.a,{className:"truncate"},e.mail.subject),Object(h.a)(j.a,{color:"textSecondary",className:"truncate"},d.a.truncate(e.mail.message.replace(/<(?:.|\n)*?>/gm,""),{length:180}))),Object(h.a)("div",{className:"flex justify-end px-12"},!d.a.isEmpty(n)&&e.mail.labels.map((function(e){return Object(h.a)(S,{className:"mx-2 mt-4",title:n[e].title,color:n[e].color,key:e})})))))}));var ot=Object(o.k)((function(e){var t=Object(i.c)(),a=Object(i.d)(je),n=Object(i.d)((function(e){return e.mailApp.mails.searchText})),r=Object(o.j)(),c=Object(l.useState)(null),d=Object(s.a)(c,2),b=d[0],p=d[1],f=oe("mailApp").t;return Object(O.b)((function(){t(de(r))}),[t,r]),Object(l.useEffect)((function(){a&&p(0===n.length?a:nt.a.filterArrayByString(a,n))}),[a,n]),b?0===b.length?Object(h.a)(u.a,{delay:100},Object(h.a)("div",{className:"flex flex-1 items-center justify-center h-full"},Object(h.a)(j.a,{color:"textSecondary",variant:"h5"},f("NO_MESSAGES")))):Object(h.a)(Ce.a,{className:"p-0"},Object(h.a)(at.a,{enter:{animation:"transition.slideUpBigIn"}},b.map((function(e){return Object(h.a)(it,{mail:e,key:e.id})})))):null})),st=a(445);var ut=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.mailApp.mails.selectedMailIds})),n=Object(i.d)(je),r=Object(i.d)(P),o=Object(i.d)(Ge),u=Object(l.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null}),d=Object(s.a)(u,2),b=d[0],p=d[1];function j(e,t){p(Object(B.a)(Object(B.a)({},t),{},Object(N.a)({},t,e.currentTarget)))}function O(e,t){p(Object(B.a)(Object(B.a)({},t),{},Object(N.a)({},t,null)))}return Object(h.a)("div",{className:"flex flex-1 items-center sm:px-8"},Object(h.a)(rt.a,{onChange:function(e){return e.target.checked?t(he()):t(xe())},checked:a.length===Object.keys(n).length&&a.length>0,indeterminate:a.length!==Object.keys(n).length&&a.length>0}),Object(h.a)(m.a,{className:"",size:"small","aria-label":"More","aria-owns":b.select?"select-menu":null,"aria-haspopup":"true",onClick:function(e){return j(e,"select")}},Object(h.a)(f.a,null,"arrow_drop_down")),Object(h.a)(st.a,{id:"select-menu",anchorEl:b.select,open:Boolean(b.select),onClose:function(e){return O(0,"select")}},Object(h.a)(Ze.a,{onClick:function(e){t(he()),O(0,"select")}},"All"),Object(h.a)(Ze.a,{onClick:function(e){t(xe()),O(0,"select")}},"None"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["read",!0])),O(0,"select")}},"Read"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["read",!1])),O(0,"select")}},"Unread"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["starred",!0])),O(0,"select")}},"Starred"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["starred",!1])),O(0,"select")}},"Unstarred"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["important",!0])),O(0,"select")}},"Important"),Object(h.a)(Ze.a,{onClick:function(e){t(ye(["important",!1])),O(0,"select")}},"Unimportant")),a.length>0&&Object(h.a)(c.a.Fragment,null,Object(h.a)("div",{className:"border-r-1 h-48 w-1 mx-12 my-0"}),Object(h.a)(m.a,{onClick:function(e){return t(be(4))},"aria-label":"Delete"},Object(h.a)(f.a,null,"delete")),Object(h.a)(m.a,{"aria-label":"More","aria-owns":b.folders?"folders-menu":null,"aria-haspopup":"true",onClick:function(e){return j(e,"folders")}},Object(h.a)(f.a,null,"folder")),Object(h.a)(st.a,{id:"folders-menu",anchorEl:b.folders,open:Boolean(b.folders),onClose:function(e){return O(0,"folders")}},o.length>0&&o.map((function(e){return Object(h.a)(Ze.a,{onClick:function(a){t(be(e.id)),O(0,"folders")},key:e.id},e.title)}))),Object(h.a)(m.a,{"aria-label":"More","aria-owns":b.labels?"labels-menu":null,"aria-haspopup":"true",onClick:function(e){return j(e,"labels")}},Object(h.a)(f.a,null,"label")),Object(h.a)(st.a,{id:"folders-menu",anchorEl:b.labels,open:Boolean(b.labels),onClose:function(e){return O(0,"labels")}},r.length>0&&r.map((function(e){return Object(h.a)(Ze.a,{onClick:function(a){t(pe(e.id)),O(0,"labels")},key:e.id},e.title)})))))},dt=a(124),bt=Object(dt.c)({mails:Ne,mail:U,folders:Ke,labels:D,filters:Ve});t.default=Object(r.a)("mailApp",bt)((function(e){var t=Object(i.c)(),a=Object(l.useRef)(null),r=Object(o.j)();return Object(l.useEffect)((function(){t(Ue()),t(Je()),t(E())}),[t]),Object(h.a)(n.a,{classes:{root:"w-full",content:"flex flex-col",header:"items-center min-h-72 h-72 sm:h-136 sm:min-h-136"},header:Object(h.a)(we,{pageLayout:a}),contentToolbar:r.mailId?Object(h.a)(V,null):Object(h.a)(ut,null),content:r.mailId?Object(h.a)(F,null):Object(h.a)(ot,null),leftSidebarHeader:Object(h.a)(tt,null),leftSidebarContent:Object(h.a)(Xe,null),ref:a,innerScroll:!0})}))}}]);