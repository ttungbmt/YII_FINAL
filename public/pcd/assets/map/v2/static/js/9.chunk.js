(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[9],{1178:function(e,t,n){"use strict";var a=n(17),r=n(50),c=n.n(r),l=n(48),o=n(1),i=n.n(o),u=n(1212),m=n(1180),s=(n(1184),function(e){return e?Object(a.k)(e)?e:Object(a.u)(e,(function(e,t){return{value:t,label:e}})):[]}),f=function(e){var t=e.url,n=e.depends,r=e.ajaxSettings,i=e.placeholder,u=void 0===i?"Ch\u1ecdn...":i,s=e.name,f=(Object(l.a)(e,["url","depends","ajaxSettings","placeholder","name"]),Object(m.c)().control);Object(o.useEffect)((function(){if(t&&n){var e=Object(a.h)(f,"fieldsRef.current.".concat(s,".ref"));c()(e).depdrop({depends:n,url:t,loadingText:"\u0110ang t\u1ea3i ...",placeholder:u,emptyMsg:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",ajaxSettings:r})}}),[])};var d=Object(o.memo)((function(e){var t=e.register,n=e.children,r=e.options,c=Object(l.a)(e,["register","children","options"]);f(c);var o=s(r),m=Object(a.x)(c,["ajaxSettings"]);return i.a.createElement(u.a.Control,Object.assign({as:"select",ref:t},m,{defaultValue:c.selected}),o.length>1&&i.a.createElement("option",{value:""},c.placeholder),n,Object(a.u)(o,(function(e,t){var n=e.value,a=e.label;return i.a.createElement("option",{key:t,value:n},a)})))}));n(1185),n(1186),n(1187);var b=Object(o.memo)((function(e){var t=e.register,n=(e.children,Object(l.a)(e,["register","children"]));return function(e,t){var n=e.as,r=e.name,l=Object(m.c)(),i=l.control,u=l.setValue;Object(o.useEffect)((function(){if("datepicker"===n){t.current=Object(a.h)(i,"fields.".concat(r,".ref"));c()(t.current).datepicker({format:"dd/mm/yyyy",todayBtn:"linked",clearBtn:!0,language:"vi",autoclose:!0,todayHighlight:!0}).on("changeDate",(function(e){return u(e.target.value)}))}return function(){"datepicker"===n&&c()(t.current).datepicker("destroy")}}),[])}(n,Object(o.useRef)(n)),i.a.createElement(u.a.Control,Object.assign({ref:t},Object(a.x)(n,["as"])))}));var p=Object(o.memo)((function(e){var t=e.children,n=e.label,a=e.as,r=Object(l.a)(e,["children","label","as"]),c=Object(m.c)().register,o=function(){return i.a.createElement(i.a.Fragment,null)};switch(a){case"select":o=d;break;case"datepicker":case"input":default:o=b}return i.a.createElement(u.a.Group,null,i.a.createElement(u.a.Label,null,n),i.a.createElement(o,Object.assign({register:c},r,{as:a}),t))}));n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return p}));var v=function(e,t){var n=t.control,r=t.register,c=t.setValue;Object(a.u)(e,(function(e,t){Object(a.h)(n,"fieldsRef.current.".concat(t,".ref"))||r(t),c(t,e)}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#btn-submit-form";return c()(e).trigger("click")}},1179:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(187),r=n(38),c=n(48),l=n(1),o=n.n(l),i=n(303),u=n(17),m=n(232),s=n.n(m),f=o.a.createContext(),d={key:null,url:"",page:1,values:{},data:{},filter:"",fields:[]},b={show:!1,loading:!1,forms:{}},p={setLoading:function(e,t){e.loading=t},createForm:function(e,t){var n=t.key,a=Object(c.a)(t,["key"]);e.forms[n]||(e.forms[n]=Object(r.a)({},d,{key:n},a))},nextPage:function(e,t){var n=t.key;Object(c.a)(t,["key"]);e.forms[n].page=e.forms[n].page+1},prevPage:function(e,t){var n=t.key;Object(c.a)(t,["key"]);e.forms[n].page=1===e.forms[n].page?1:e.forms[n].page-1},setShow:function(e,t){e.show=t},setFormData:function(e,t){var n=t.key,a=t.data;n&&a&&(e.forms[n]=Object(r.a)({},e.forms[n],{},a))},setFormValues:function(e,t){var n=t.key,a=t.values;e.forms[n]?e.forms[n].values=a:e.forms[n]=Object(r.a)({},d,{key:n,values:a})},setFormFields:function(e,t){var n=t.key,a=t.fields;e.forms[n].fields=a},refreshData:function(e,t){var n=t.key;e.forms[n].page=1,e.forms[n].values={}}},v=function(e,t){return p[t.type]&&p[t.type](e,t.payload)};t.b=Object(l.memo)((function(e){var t=e.children,n=Object(i.b)(v,b),c=Object(a.a)(n,2),l=c[0],m=c[1],d=Object(u.v)(p,(function(e,t){return function(e){return m({type:t,payload:e})}})),h=function(e){var t=e.actions,n=function(e){var n=e.form;if(n){t.setLoading(!0);var a=Object(r.a)({},n.values,{page:n.page});s.a.get(n.url,{params:a}).then((function(e){var a=e.data;t.setFormData({key:n.key,data:a}),t.setLoading(!1)}))}};return{fetchColumns:function(e){t.setLoading(!0),s.a.get("".concat(e.url,"?columns")).then((function(n){var a=n.data;t.createForm({key:e.key,url:e.url,columns:a.columns,filter:a.form})}))},fetchData:n,fetchForm:function(e,n,a){var r=e.form,c=e.values;r&&(t.setLoading(!0),s.a.post(r.url,c).then((function(e){var n=e.data;t.setFormData({key:r.key,data:n}),a&&a(n),t.setLoading(!1)})))},refreshData:function(e){return n({form:Object(r.a)({},Object(u.A)(e.form,["key","url"]),{page:1})})}}}({actions:d}),g=Object(r.a)({},l,{actions:Object(r.a)({},d,{},h),getForm:function(e){return Object(u.h)(l,"forms.".concat(e),{})}});return o.a.createElement(f.Provider,{value:g},t)}))},1181:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(151),l=n(1168),o=n(1206),i=n(616),u=n(50),m=n.n(u),s=n(17),f=n(265),d=n(1178),b=n(1179);var p=Object(a.memo)((function(e){var t=e.html,n=e.name,u=e.form,p=e.methods,v=Object(a.useContext)(b.a),h=v.show,g=v.actions,j=function(){return m()("#filterForm").find("form")};return Object(c.b)((function(){u.fields&&u.fields.map((function(e){return p.register(e)}))})),Object(c.c)((function(){h&&Object(s.m)(u.fields)&&g.setFormFields({key:n,fields:Object(s.s)(j().inputValues())})}),[h]),r.a.createElement(l.a,{id:"filterForm",show:h,onHide:function(){return g.setShow(!1)},onEntered:function(){var e=p.getValues();j().inputValues(e),m()("#drop-phuong1").on("depdrop:afterChange",(function(t,n,a,r,c){j().inputValues({maphuong:e.maphuong})}))}},r.a.createElement(l.a.Header,{closeButton:!0,style:{padding:"10px 10px",borderBottom:"1px solid #ddd"}},r.a.createElement(l.a.Title,{className:"font-weight-semibold",style:{fontSize:17}},r.a.createElement("i",{className:"icon-filter4 mr-2"})," B\u1ed9 l\u1ecdc")),r.a.createElement(l.a.Body,null,r.a.createElement(f.f,{html:t})),r.a.createElement(l.a.Footer,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{variant:"light",onClick:function(){var e=m()("#filterForm").find("form").get(0);e&&e.reset(),p.reset(),Object(d.c)(),g.setShow(!1)},size:"sm"},"X\xf3a"),r.a.createElement(i.a,{variant:"primary",onClick:function(){Object(d.b)(j().inputValues(),p),Object(d.c)(),g.setShow(!1)},size:"sm"},"L\u1ecdc"))))})),v=n(1212),h=n(1207),g=n(1192),j=n(266);var E=Object(a.memo)((function(e){var t=e.handleSubmit,n=(e.register,e.onSubmit),a=j.b.getCat("dm_quan"),c=j.b.getCat("dm_phuong"),l=function(e){"maquan"===e.target.name?m()("#drop-phuong").on("depdrop:afterChange",(function(e,t,n,a,r){Object(d.c)()})):Object(d.c)()};return r.a.createElement(v.a,{onSubmit:t(n)},r.a.createElement("div",{style:{padding:"10px 10px 0 10px"}},r.a.createElement(h.a,null,r.a.createElement(g.a,{md:6},r.a.createElement(d.a,{id:"drop-quan",as:"select",label:"Qu\u1eadn huy\u1ec7n",name:"maquan",placeholder:"Ch\u1ecdn qu\u1eadn huy\u1ec7n...",onChange:l,options:a})),r.a.createElement(g.a,{md:6},r.a.createElement(d.a,{id:"drop-phuong",as:"select",label:"Ph\u01b0\u1eddng x\xe3",name:"maphuong",placeholder:"Ch\u1ecdn ph\u01b0\u1eddng x\xe3...",options:c,depends:["drop-quan"],onChange:l,url:"/api/dm/phuong?role=true"})))),r.a.createElement("input",{id:"btn-submit-form",type:"submit",className:"d-none"}))})),O=n(1208);var y=Object(a.memo)((function(e){var t=e.form,n=e.name,c=e.methods,l=e.pageQl,o=Object(a.useContext)(b.a).actions,i=[{title:"\u0110\u1ebfn trang qu\u1ea3n l\xfd",icon:"icon-link2",href:l},{title:"B\u1ed9 l\u1ecdc",icon:"icon-filter4",onClick:function(){return o.setShow(!0)}},{title:"T\u1ea3i l\u1ea1i trang",icon:"icon-reset",onClick:function(){c.reset(),o.refreshData({form:t})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{items:i}),r.a.createElement("div",{className:"ml-auto"},r.a.createElement(f.i,{title:"Trang tr\u01b0\u1edbc"},r.a.createElement("button",{onClick:function(){return o.prevPage({key:n})}},r.a.createElement("i",{className:"icon-square-left"})))),r.a.createElement("div",{className:"align-self-center pl-1 pr-1"},r.a.createElement(O.a,{variant:"success"},t.page)),r.a.createElement("div",null,r.a.createElement(f.i,{title:"Trang ti\u1ebfp theo"},r.a.createElement("button",{onClick:function(){return o.nextPage({key:n})}},r.a.createElement("i",{className:"icon-square-right"})))))})),k=n(1169);var C=Object(a.memo)((function(e){var t=e.items;return r.a.createElement(k.a,{display:"flex",width:"100%"},t.map((function(e,t){var n=e.className,a=e.title,c=e.icon,l=e.onClick,o=e.visible;return(void 0===o||o)&&r.a.createElement("div",{key:t,className:n},r.a.createElement(f.i,{title:a,key:t},r.a.createElement("button",{onClick:l},r.a.createElement("i",{className:c}))))})))})),x=n(48),N=n(212);var F=Object(a.memo)((function(e){var t=e.title,n=e.onClick,a=e.icon,c=e.href,l=e.to,o=(e.link,function(e){e.stopPropagation(),n&&n(e)}),i=r.a.createElement("button",{onClick:o},r.a.createElement("i",{className:a}));return l&&(i=r.a.createElement(N.a,{to:l,onClick:o},r.a.createElement("i",{className:a}))),c&&(i=r.a.createElement("button",{onClick:function(){return window.open(c)}},r.a.createElement("i",{className:a}))),t?r.a.createElement(f.i,{title:t},i):i}));var w=Object(a.memo)((function(e){return e.items.map((function(e,t){var n=e.className,a=Object(x.a)(e,["className"]);return r.a.createElement("div",{className:n,key:t},r.a.createElement(F,a))}))}));n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"a",(function(){return F}))},1182:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(265),l=n(39),o=n.n(l),i=n(17),u=Object(a.memo)((function(e){var t=e.items,n=e.model,a=e.html;return r.a.createElement("div",null,r.a.createElement("div",{className:"font-weight-semibold"},r.a.createElement(c.f,{html:a})),r.a.createElement("ul",{className:"list-inline mt-1"},t.map((function(e,t){var a=e.color,l=e.title,u=e.icon,m=e.href,s=e.visible,f=e.onClick;return r.a.createElement("li",{className:o()("list-inline-item",{color:a}),key:t},s||Object(i.r)(s)?r.a.createElement(c.i,{title:l},m?r.a.createElement("a",{href:Object(i.o)(m)?m(n):m,target:"_blank"},r.a.createElement("i",{className:u})):r.a.createElement("button",{className:"btn-link",onClick:f},r.a.createElement("i",{className:u}))):"")}))))}));t.a=Object(a.memo)((function(e){var t=e.index,n=e.col,a=e.options,l=e.model,o=n.attribute?n.attribute:Object(i.q)(n.value)?n.value:"",m=Object(i.h)(l,o,"");return r.a.createElement("td",null,0===t?r.a.createElement(u,{items:a.items,html:m,model:l}):r.a.createElement(c.f,{html:m}))}))},1183:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(17);var l=Object(a.memo)((function(e){var t=e.form;return Object(c.m)(t.columns)?r.a.createElement(r.a.Fragment,null):r.a.createElement("thead",null,r.a.createElement("tr",null,t.columns.map((function(e,t){var n=e.label,a=e.width;return r.a.createElement("th",{key:t,style:{width:a}},n)}))))})),o=n(163);function i(){var e=Object(o.a)(["\n    .table-responsive {height: 100%;}\n    .list-inline-item {\n        margin-right: 5px;\n        cursor: pointer;\n        i {font-size: 14px; color: #2196f3}\n        button {outline: none;}\n    }\n"]);return i=function(){return e},e}var u=n(84).b.div(i()),m=n(38),s=n(151),f=n(1118),d=n(1179),b=n(50),p=n.n(b);function v(e){var t=e.children,n=e.form,c=e.style;return Object(s.b)((function(){setTimeout((function(){var e=p()("#sb-body"),t=e.height()-e.find("form").height();e.find(".tb-scrollable").css("max-height",t).freezeTable({scrollable:!0,shadow:!0})}),100)})),r.a.createElement("table",{className:"table table-sm table-bordered",style:Object(m.a)({},c)},r.a.createElement(l,{form:n}),Object(a.cloneElement)(t,{form:n}))}var h=Object(a.memo)((function(e){var t=e.style,n=e.children,c=e.form,l=e.name,o=e.url,i=Object(a.useContext)(d.a),m=i.loading,b=i.actions;return Object(s.b)((function(){c.columns||b.fetchColumns({key:l,url:o})})),Object(s.c)((function(){c.columns&&b.fetchData({form:c})}),[c.page,JSON.stringify(c.values)]),r.a.createElement(u,null,r.a.createElement("div",{className:"table-responsive tb-scrollable"},m?r.a.createElement(f.a,{animated:!0,now:100,className:"m-2"}):c.columns&&r.a.createElement(v,{form:c,style:t},n)))}));n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return h}));var g=function(e){var t=e.recordsFiltered;return t?"(".concat(t,")"):""}},1218:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(17),l=n(151),o=n(1180),i=n(1181),u=n(1178),m=n(1179),s=n(1183),f=(n(265),n(15)),d=n(168),b=n(1182);var p=Object(a.memo)((function(e){var t=e.form,n=Object(f.l)(),a=Object(c.h)(t,"columns"),l=Object(c.h)(t,"data");return!l&&Object(c.m)(Object(c.h)(l,"data"))?r.a.createElement(r.a.Fragment,null):r.a.createElement("tbody",null,Object(c.u)(l,(function(e,t){var c=function(){return n(d.b.clickDnc(e))},l={items:[{title:"\u0110\u1ecbnh v\u1ecb",color:"text-success",icon:"icon-location4",visible:!!e.geometry,onClick:c},{title:"Xem chi ti\u1ebft",color:"text-primary",icon:"icon-pencil7",href:function(e){var t=e.gid;return"/pt_nguyco/default/update?id=".concat(t)}}]};return r.a.createElement("tr",{key:t,onClick:c},a.map((function(t,n){return r.a.createElement(b.a,{key:n,index:n,col:t,options:l,model:e})})))})))})),v="dnc";t.default=Object(a.memo)((function(e){var t=e.SidebarLayout,n=e.defaultValues,f=Object(a.useContext)(m.a),d=f.getForm,b=f.actions,h=d(v),g=Object(o.b)({defaultValues:n});return Object(l.b)((function(){h.values&&Object(u.b)(h.values,g)})),r.a.createElement(o.a,g,r.a.createElement(t,{title:"\u0110i\u1ec3m nguy c\u01a1 "+Object(s.d)(h),icon:"icon-brain",subTitle:r.a.createElement(i.d,{name:v,form:h,methods:g,pageQl:"/pt_nguyco"}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{name:v,form:h,methods:g,html:Object(c.h)(h,"filter","")}),r.a.createElement(i.c,Object.assign({form:h},g,{onSubmit:function(e){return b.setFormValues({key:v,values:e})}})),r.a.createElement(s.b,{name:v,url:"/sxh/maps/ds-dnc",form:h,style:{minWidth:1300}},r.a.createElement(p,null)))}))}))}}]);
//# sourceMappingURL=9.chunk.js.map