{"version":3,"sources":["@modules/redux-layout/src/LayoutProvider.js","@modules/redux-layout/src/BaseLayout.js","@modules/redux-layout/src/Template.js","@modules/redux-layout/src/Slot.js","@modules/redux-layout/src/useSlot.js","@modules/redux-layout/src/index.js","@core/serviceWorker.js","@core/reducers/layout/slice.js","@core/reducers/layout/actions.js","@core/reducers/layout/hooks.js","@core/reducers/layout/index.js","@core/containers/AppContainer.js","@core/utils/checkStore.js","@core/utils/history.js","@core/reducers/app/slice.js","@core/reducers/app/index.js","@core/reducers/index.js","@core/utils/reducerInjectors.js","@core/utils/injectReducer.js","@core/utils/constants.js","@core/utils/sagaInjectors.js","@core/utils/injectSaga.js","@core/utils.js","app/main/maps/config.js","app/configs/routesConfig.js","@core/layouts/blank/index.js","@core/layouts/Layouts.js","app/layouts/map/partials/Header/index.js","app/features/index.js","app/layouts/map/partials/Main/Map/OdichMap.js","app/layouts/map/partials/Main/Map/KhoanhVungMap.js","app/layouts/map/partials/Main/Map/Leaflet.js","app/layouts/map/partials/Main/Map/Wrapper.js","app/layouts/map/partials/Main/Map/Layout.js","app/layouts/map/partials/Main/Map/index.js","app/layouts/map/partials/Main/Sidebar/Wrapper.js","app/layouts/map/partials/Main/Sidebar/index.js","app/layouts/map/partials/Main/index.js","app/layouts/map/partials/Footer/index.js","app/layouts/map/Layout.js","app/layouts/Layouts.js","app/sagas/app.saga.js","@core/reducers/layout/saga.js","app/reducers/orm/index.js","app/layouts/map/components/NavLink/index.js","app/layouts/map/MapPage.js","app/App.js","@core/plugins/input-values.jquery.js","@core/bootstrap.js","app/bootstrap.js","index.js","@core/configureStore.js","app/reducers/pcd/pcd.slice.js","app/reducers/pcd/pcd.selectors.js","app/reducers/pcd/pcd.saga.js","app/reducers/pcd/index.js","../external \"_\"","app/reducers/odich/odich.actions.js","../../src/utils/emitter.js","../../src/useDidMount.js","../../src/useDidUpdate.js","../../src/useFetch.js","../../src/useModal.js","../../src/useQueryString.js","app/models/Cabenh.js","app/models/Odich.js","app/reducers/orm/orm.js","app/reducers/cabenh/cabenh.selectors.js","app/services/index.js","app/reducers/cabenh/cabenh.saga.js","app/reducers/cabenh/index.js","../../src/getAttrsDOM.js","../../src/getDuplicateIds.js","../../src/updateIn.js","../../src/mergeIn.js","../../src/appendIn.js","../../src/prependIn.js","../../src/filterIn.js","../../src/deleteIn.js","../../src/mergeFilterIn.js","../../src/mergeFilter.js","../../src/replaceFilterIn.js","../../src/uniqid.js","../../src/getOrValue.js","../../src/orValue.js","../../node_modules/voca/helper/number/clip_number.js","../../node_modules/voca/helper/object/is_nil.js","../../node_modules/voca/is_string.js","../../node_modules/voca/helper/string/coerce_to_string.js","../../node_modules/voca/helper/number/const.js","../../node_modules/voca/helper/number/to_integer.js","../../node_modules/voca/helper/string/to_string.js","../../node_modules/voca/includes.js","../../src/toBool.js","../../src/parseJSON.js","../../src/stringifyJSON.js","../../src/isURL.js","../../node_modules/validator/lib/util/assertString.js","../../node_modules/validator/lib/isJSON.js","../../src/isJSONStr.js","../../src/isJSON.js","../../src/template.js","../../src/fieldsToStr.js","../../src/popupToContent.js","app/reducers/cabenh/cabenh.actions.js","app/reducers/odich/odich.selectors.js","@core/selectors/router.js","app/reducers/odich/odich.saga.js","app/reducers/odich/index.js","@core/components/AppLoader/index.js","@core/components/Tooltip/index.js","@core/components/InnerHTML.js","@core/components/RangeSlider.js","@core/components/BtnSubmit.js","@core/components/JsPanel/index.js","@core/components/Box/index.js","@core/components/index.js","app/Store.js","app/utils/index.js","app/utils/moment.js","app/reducers/cabenh/cabenh.slice.js","@core/reducers/auth/slice.js","@core/reducers/auth/index.js","app/reducers/odich/odich.slice.js","@core/components/AppLoader/style.module.scss","../external \"Vue\"","@core/components/Slot.js","../external \"jQuery\"","../../src/TileWMSLayer.js","../.yalc/@ttungbmt/redux-leaflet/dist/redux-leaflet.es.js","../.yalc/@ttungbmt/validator/dist/validator.umd.js","../external \"Vuex\"","@core/components/AmCharts.js","app/main/maps/views/cabenh/TreeChart.js","../external \"L\"","../.yalc/@ttungbmt/geo/dist/geo.es.js","app/features/cabenh/Pop.js","app/features/cabenh_sxh/Pop.js","app/features/dnc/Pop.js","app/features/odich/Pop.js"],"names":["LayoutContext","React","createContext","memo","children","layouts","useImmer","layout","templates","state","setState","value","getLayout","name","getTemplate","slot","setLayout","draft","Provider","getTemplates","parent","isPlainObject","type","isEqual","get","props","isArray","i","c","length","Object","assign","BaseLayout","context","useContext","useCallback","createElement","Error","useEffect","propTypes","PropTypes","string","isRequired","Template","displayName","node","Slot","outerChildren","component","template","any","defaultProps","useSlot","Children","map","castArray","child","isString","Fragment","cloneElement","Boolean","window","location","hostname","match","initialState","fullscreen","header","size","menuItems","sidebar","maximumSize","handleSize","footer","toggleDiv","layoutSlice","createSlice","reducers","payload","headerMenu","toggleSidebar","toggleHeader","toggleAppFullscreen","toggleMapFullscreen","resizeSidebar","createAction","useFullscreen","ref","onClose","dispatch","useDispatch","show","useSelector","layout_sels","getAppFullscreen","baseUseFullscreen","layout_acts","createSelector","r","getMapFullscreen","getHeader","getMenu","getSidebar","getFooter","actions","layoutActions","slice","selectors","utils","pickSpace","pick","hooks","layoutHooks","theme","createMuiTheme","palette","primary","main","blue","dark","typography","fontSize","Wrapper","styled","div","wrapperRef","useRef","layout_hooks","ThemeProvider","id","style","backgroundColor","height","zIndex","checkStore","store","shape","isFunction","subscribe","getState","replaceReducer","runSaga","injectedReducers","isObject","injectedSagas","invariant","conformsTo","history","createHashHistory","appSlice","loaded","setApp","app_name","app_logo","description","initApp","getApp","getLoaded","createReducer","combineReducers","form","formReducer","auth","authReducer","app","appReducer","layoutReducer","router","connectRouter","loadingBar","loadingBarReducer","injectReducerFactory","isValid","key","reducer","isEmpty","Reflect","has","getInjectors","injectReducer","useInjectReducer","ReactReduxContext","DAEMON","ONCE_TILL_UNMOUNT","allowedModes","checkKey","checkDescriptor","descriptor","saga","mode","includes","injectSagaFactory","args","newDescriptor","hasSaga","task","ejectSagaFactory","cancel","injectSaga","ejectSaga","useInjectSaga","injectors","setRoutes","config","routes","settings","route","MapsContainer","lazy","OdichPage","OdichViewPage","OdichListPage","SxhPage","ThongkePage","DncPage","routeConfigs","path","to","configs","allRoutes","generateRoutesFromConfigs","exact","Layouts","blank","HeaderWrapper","Navbar","homeUrl","as","background","overflow","grow","href","Box","display","alignItems","m","className","onClick","cabenh","pop","require","default","cabenh_sxh","dnc","odich","CircleOdich","data","combineCir","radius","selected","odichCir","union","circle","feature","geometry","steps","units","color","k","position","Circle","center","OdichLeaflet","cabenhs","range","options","filter","date","moment","ngaymacbenh_nv","unix","riseOnHover","zIndexOffset","Popup","features","_key","model","pcdSels","getOdichConf","models","odichSels","getOdichMap","FeatureGroup","items","toCenter","legends","label","html","mapReducer","mapSagas","leftTool","rightTool","leaflet","fullScreen","borderBottom","flexGrow","css","borderLeft","ToolItem","icon","text","NavItem","tooltip","title","Nav","Link","Item","Dropdown","Toggle","Menu","v","useHistory","lft_tool_items","push","pcdActs","setCombineCir","rgt_tool_items","removeAllKhoanhVung","mapActs","toggleControl","alert","emitter","emit","sidebarProps","onResizeEnd","footerProps","Helmet","defaultTitle","coreLayouts","appSaga","takeEvery","call","axios","commit","dm","put","authActs","setAuth","layoutActs","appActs","delay","setMap","console","error","layoutSaga","resizeSb","acts","ormReducer","orm","session","action","sessionBoundModels","forEach","modelClass","caseReducers","keys","cx","url","useLocation","A","active","matchPath","pathname","app_sels","src","alt","renderRoutes","hot","pcdKey","pcdReducer","pcdSaga","cabenhKey","cabenhSaga","odichSaga","app_acts","fallback","controlsWrapper","_getSelectOneValue","select","val","_getSelectMultipleValue","values","$","each","option","$option","is","getSelectValue","this","getCheckboxValue","checkbox","getValues","container","keyFilter","formObject","find","disabled","$node","attr","fn","inputValues","opts","includeDisabled","hasOwnProperty","undefined","setSelectValue","prop","_checkCheckableValue","checkable","inArray","checkCheckboxesValue","anyWasChecked","eq","checkRadiosValue","radios","setValues","nodes","paramA","paramB","extend","BASE_URL","Store","sagaMiddleware","createSagaMiddleware","baseConfigureStore","preloadedState","middleware","getDefaultMiddleware","routerMiddleware","loadingBarMiddleware","promiseTypeSuffixes","run","configureStore","MOUNT_NODE","document","getElementById","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","odichSlice","khoanhvung","khoanhVung","getRadius","s","pcdSlice","module","exports","_","create","createMany","remove","removeAll","update","khoanhVungOd","addCabenh","updateRangeValue","setLoading","runSlider","stopSlider","clickOdich","panToCabenhCir","showDetail","searchSemiAutoOD","createAutoOD","showPopDnc","useDidMount","f","useDidUpdate","conditions","didMoutRef","fetchInit","fetchSuccess","fetchFailure","loading","onSuccess","dataFetchReducer","isError","useFetch","trigger","conf","useState","innerTrigger","setInnerTrigger","useReducer","outerTrigger","JSON","err","source","CancelToken","fetchData","cancelToken","token","isShown","refresh","ModalContext","ModalProvider","modals","setModals","onShow","isOpen","isVisible","onHide","timeoutHack","setTimeout","clearTimeout","contextValue","useMemo","generateModalKey","count","useModal","inputs","modal","modalData","useQueryString","URI","Cabenh","Model","modelName","fields","Odich","play","getDefault","timer","runStatus","many","ORM","stateSelector","register","getCabenhById","ormCreateSelector","gid","first","Client","method","request","api","fetch","params","onClickCabenh","onClickDnc","onRowClick","showPopCabenh","cabenhActs","clickCabenh","clickDnc","resetPopup","createPopup","setCenter","getCabenh","KEY","getAttrsDOM","transform","attrs","attribute","getDuplicateIds","ids","updateIn","_update","object","merge","appendIn","prependIn","filterIn","predicate","deleteIn","reject","mergeFilterIn","respTrue","respFalse","v2","mergeFilter","replaceFilterIn","updater","item","findIndex","findKey","baseUniqid","prefix","_formatSeed","reqWidth","seed","parseInt","Array","$global","$locutus","Math","retId","Date","getTime","uniqid","suffix","getOrValue","defaultValue","p","orValue","arguments","defineProperty","downLimit","upLimit","subject","_is_nil2","_is_string2","String","_interopRequireDefault","_is_nil","_is_string","obj","__esModule","MAX_SAFE_INTEGER","Infinity","_const","search","subjectString","_coerce_to_string2","searchString","_to_string2","_clip_number2","_to_integer2","indexOf","_clip_number","_coerce_to_string","_to_integer","_to_string","toBool","parseJSON","json","reviver","regrex1","regrex2","regrex3","Function","jsStr","js","eval","isUndefined","stringifyJSON","replacer","indent","isURL","_typeof","Symbol","iterator","constructor","prototype","input","invalidType","concat","TypeError","str","_assertString","parse","e","require$$0","isJSONStr","_isJSON","isJSON","tpl","content","Handlebars","fieldsToStr","popupToContent","popup","itemTpl","createCabenh","deleteCabenhById","getOdich","odichs","odFn","o","cb","getRange","minMax","getCabenhs","getPathname","onKhoanhVung","changeRangeValue","runSliderOdich","odichActs","takeLatest","mapSels","getPopItemById","cabenhSels","redirect","geoArr","bounds","toBounds","odich_id","setBounds","dates","uniq","getRangeDate","index","head","take","fork","bgSyncTask","cabenhIds","post","transformOdich","geomArr","flatten","g","dbCabenhs","pc","styles","loader_wrapper","loader","divRef","current","RangeSlider","ionSliderRange","watchProps","min","max","from","others","ionRangeSlider","_options","stringify","skin","BtnSubmit","Button","variant","JsPanel","setOpen","contenRef","panelRef","width","setOpts","jsPanel","bgPanel","colorHeader","iconfont","headerLogo","headerTitle","closeOnEscape","headerControls","smallify","borderRadius","resizeit","minWidth","minHeight","stop","panel","paneldata","onclosed","closedByUser","log","resize","reposition","close","flex","row","column","wrap","shrink","bold","regular","h100","uppercase","relative","absolute","outter","inner","flexDirection","flexWrap","flexShrink","isBoolean","fontWeight","textTransform","Vuex","catalog","getters","getCat","mutations","setCat","modules","boundary","plugins","pathify","plugin","arr","field","sort","cabenhSlice","all","withId","delete","authSlice","user","roles","permissions","getAuth","createOdich","last","add","toRefArray","toModelArray","Vue","jQuery","getOptions","format","transparent","TileWMSLayer","initialize","TileLayer","getFeatureInfoUrl","latlng","SingleTileWMSLayer","L","BASEMAP","_classCallCheck","instance","Constructor","_defineProperties","target","enumerable","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","_extends","apply","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_get","property","receiver","base","_superPropBase","desc","_slicedToArray","_arrayWithHoles","toString","_arr","_n","_d","_e","_s","_i","next","done","_iterableToArrayLimit","_nonIterableRest","getConfig","getZoom","zoom","freeze","setConfig","_ref","_ref2","setZoom","_ref3","_ref4","configSlice","isTileLayerProps","str_contains","layerFn","control","uuid","popupTemplate","BaseLayer","LayersControl","Overlay","cloneDeep","wrapper","wrapperProps","checked","layer","type2Component","layerProps","omit","TileLayer$1","WMSTileLayer$1","fnDeactiveAllBasemap","defaults","getLayers","layers","getLayer","getLayersControl","basemap","overlay","getLayersById","l","getFancytreeSource","extraClasses","expanded","folder","radiogroup","chain","selectors$1","baselayers","google","openstreet","here","bing","hcmgis","lidar","satellite","name$1","reducers$1","setLayers","addLayers","addBasemap","_ref3$payload","prepare","clipBasemap","_ref4$payload","b","activeBasemap","_ref5","activeOverlay","_ref6","toggleOverlay","_ref7","fnToggleLayer","deactiveOverlay","_ref8","removeLayer","_ref9","saveLayer","_ref10","_ref10$payload","setZIndex","_ref11","_ref12","layersSlice","getControls","controls","getControl","selectors$2","actions$1","name$2","optionsSlice","enabled","autoZIndex","scale","locate","ruler","exportMap","setControl","setControls","addControls","removeControl","getMapOptions","getLoading","selectors$3","actions$2","name$3","reducers$3","setOptions","setMapOptions","optionsSlice$1","zoomControl","getPopup","getPopupKeys","getPopItems","getCurrentPopup","selectors$4","actions$3","name$4","initialState$4","reducers$4","setPopup","setPopupKeys","updatePopupContent","popupSlice","getMap","generalSelectors","getWMSInfo","setMapLoading","setMapLoaded","generalActions","actions$4","selectors$5","createSymbol","CANCEL","IO","MULTICAST","SELF_CANCELLATION","TASK","undef","notUndef","func","array","t","pattern","pat","symbol","every","channel","ch","stringableFunc","multicast","effect","eff","delayP","ms","timeoutId","promise","Promise","resolve","identity","check","kThrow","kReturn","TAKE","PUT","CALL","FORK","CANCEL$1","SELECT","TEST_HINT","makeEffect","combinator","patternOrChannel","multicastPattern","channel$1","validateFnDescriptor","effectName","fnDescriptor","getFnCallDescriptor","isNotDelayEffect","_len","arg0","arg","_len3","_key3","taskOrTasks","selector","_len5","_key5","bind","qEnd","safeName","fsmIterator","fsm","startState","stateUpdater","errorState","nextState","currentState","thro","meta","throw","return","isSagaIterator","makeIterator","worker","yTake","setAction","ac","q1","q2","yFork","yCancel","setTask","q3","validateTakeEffect","takeEvery$1","takeLatest$1","_len2","_key2","_marked","mark","mapSaga","_marked2","setMap$1","_marked3","getWMSInfo$1","_marked4","_context","prev","setMapLoading$1","setMapLoaded$1","layer_tree","extent","_context2","postData","_context3","sent","orderBy","abrupt","t0","_context4","_ref5$payload","PopManager$1","Component","MapContext","Consumer","isRingBbox","ring","bbox","sumX","sumY","x","y","ExtendMethods","_toMercGeometry","isGeoJSON","mercComponent","mercRing","coords","res","latLng","_map","project","_getOriginalMercBoundary","_mercBoundary","compomentBbox","Util","processGeoJSONObject","geometries","coordinates","_mercBbox","Bounds","_getClippedGeometry","geom","clippedComponent","clippedExternalRing","clippedHoleRing","iC","iR","clippedGeom","PolyUtil","clipPolygon","isOut","isIn","_getTileGeometry","z","skipIntersectionCheck","parentState","cacheID","zCoeff","pow","cache","_boundaryCache","mercBoundary","ts","tileSize","tileBbox","Point","intersects","floor","_drawTileInternal","canvas","tilePoint","callback","_getZoomForUrl","tileX","tileY","ctx","getContext","imageObj","Image","setPattern","beginPath","moveTo","lineTo","clip","createPattern","rect","fillStyle","fill","crossOrigin","onload","complete","onAdd","Canvas","trackAttribution","on","_updateAttribution","onRemove","off","_attributionRemoved","attribution","BoundaryCanvas","getAttribution","attributionControl","removeAttribution","mapBounds","getBounds","mercBounds","getSouthWest","getNorthEast","version","createTile","tile","getTileUrl","async","_url","drawTile","adjustedTilePoint","_adjustTilePoint","tileDrawn","_getTileSize","boundaryCanvas","createFromLayer","withBoundary","EVENTS_RE","WMSTileLayer","_GridLayer","_this$getOptions","tiled","tileWMSLayer","fromProps","toProps","preUuid","prevUrl","prevProps","opacity","_this$getOptions2","prevParams","_this$getOptions3","leafletElement","setUrl","setParams","superOptions","reduce","test","GridLayer","withLeaflet","TileLayer$2","withConnect","connect","PopupWMS$1","compose","popupRef","useLeaflet","showInfo","info","lat","lng","getWMSLayers","infoUrl","usePopupInfo","dangerouslySetInnerHTML","__html","LayersManager$1","layersControl","Layer","SearchControl","_MapControl","geosearch","MapControl","SearchControl$1","FullscreenControl","Control","Fullscreen","FullscreenControl$1","LocateControl","Locate","LocateControl$1","MeasureControl","PolylineMeasure","MeasureControl$1","SideBySideControl","SideBySide","SideBySideControl$1","RulerControl","unit","showClearControl","showUnitControl","showBearings","clearMeasurementsOnStop","measureControlTitleOn","measureControlTitleOff","measureControlLabel","clearControlTitle","RulerControl$1","Header","Modal","Title","Body","Footer","ExportMapModal","_useImmer2","crop","croppedSrc","_useImmer2$","setSrc","imageRef","leafletImage","toDataURL","dialogClassName","closeButton","padding","ProgressBar","animated","now","ReactCrop","ruleOfThirds","onChange","onImageLoaded","image","croppedImgSrc","pixelCrop","drawImage","getCroppedImg","FileSaver","saveAs","ExportMapControl$1","_useModal2","Legend","Evented","Mixin","Events","detectStretched","collapsed","DomUtil","_container","DomEvent","disableClickPropagation","Browser","touch","disableScrollPropagation","empty","link","innerHTML","expand","collapse","android","list","legend","visible","block","closedClass","hasClass","removeClass","addClass","elementContainer","element","_addElement","appendChild","imageData","imageUrl","imgbox","backgroundImage","backgroundSize","colorbox","map$1","legendControl","LegendControl","LegendControl$1","ctrlComps","ZoomControl","ScaleControl","AttributionControl","measure","sidebyside","Empty","ControlsManager$1","ctrls","EventsManager$1","useUpdateZoom","updateMapSize","invalidateSize","onResizeSb","onToggleMapFullscreen","useUpdateMapSize","makeMapOptions","withConnect$1","mapOptions","LeafletContainer$1","Map","getIcon","markerColor","ExtraMarkers","Marker$1","Marker$2","GeoJSON","_Path","GeoJSON$2","setStyle","setStyleIfChanged","isEqual$1","getPathOptions","layerContainer","createLeafletElement","addLayer","Path","GeoJSON$1","lodashEs","unwrapExports","createCommonjsModule","assertString_1","isLatLong$1","pair","split","long","isDataURI","attributes","shift","trim","schemeAndMediaType","substr","mediaType","validMediaType","toLowerCase","validAttribute","validData","merge_1","isByteLength_1","len","encodeURI","isFQDN_1","_merge","default_fqdn_options","allow_trailing_dot","substring","parts","require_tld","tld","part","allow_underscores","replace","isIP_1","isIP","ipv4Maybe","a","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","isEmail","default_email_options","require_display_name","allow_display_name","display_email","splitNameAddress","display_name","_display_email","endsWith","trim_quotes","display_name_without_quotes","validateDisplayName","ignore_max_length","defaultMaxEmailLength","domain","join","lower_domain","domain_specific_validation","username","_isByteLength","_user_parts","gmailUserPart","_isFQDN","allow_ip_domain","_isIP","startsWith","noBracketdomain","allow_utf8_local_part","quotedEmailUserUtf8","quotedEmailUser","emailUserUtf8Part","emailUserPart","user_parts","_i2","isUUID","3","4","5","isElement","isNil","isNull","isNumber","isRegExp","isLatLong","factory","AmCharts","chart","am4core","am4plugins_forceDirected","series","dataFields","truncate","maxRadius","maxLevels","tooltipText","events","event","hoverState","links","states","properties","strokeWidth","strokeOpacity","dataItem","childLinks","isHover","parentLink","dispose","am4themes_animated","getColor","updateValue","d","chartData","arr2tree","parentProperty","customID","chartData1","parent_id","mota","point","latLngToContainerPoint","getSize","toBBoxString","wmsParams","defaultParams","service","srs","env","viewparams","query_layers","info_format","round","getParamString","eachLayer","WMS","timestamp","layerOrdered","_timestamp","toGeoJSON","Buffer","wkx","Geometry","parseGeoJSON","toGeometry","featureCollection","centerGeo","getGeom","getCoords","pointToCir","pt","collection","getType","latLngBounds","flip","bboxPolygon","southWest","northEast","reverse","ma_qg","hoten","phanloai_text","diachi","noi_ph","ngay_ph","noilamviec","tenquan","tenphuong","khupho_to","ngaymacbenh","ngayxuatvien","ngaybaocao","monthField","month","giamsats","setGiamsats","response","ten_cs","maxHeight","nhom","loaihinh","getLoaihinhText","ngaycapnhat","newGss","ok","soca"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, { memo } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { get } from 'lodash-es'\r\n\r\nconst defaultState = {}\r\n\r\nexport const LayoutContext = React.createContext(defaultState)\r\n\r\nfunction LayoutProvider({children, layouts}) {\r\n    const [state, setState] = useImmer({\r\n        layout: null,\r\n        templates: null\r\n    })\r\n\r\n    const getLayout = (name) => layouts[name]\r\n    const getTemplate = (slot) => state.templates[slot] || false\r\n    const setLayout = ({name, templates}) => {\r\n        setState(draft => {\r\n            draft.layout = name\r\n            draft.templates = templates\r\n        })\r\n    }\r\n\r\n\r\n    const value = {\r\n        layout: state.layout,\r\n        layouts,\r\n        templates: state.templates,\r\n        getLayout,\r\n        getTemplate,\r\n        setLayout\r\n    }\r\n\r\n    return (\r\n        <LayoutContext.Provider value={value}>\r\n            {children}\r\n        </LayoutContext.Provider>\r\n    )\r\n}\r\nexport default memo(LayoutProvider)\r\n","import React, { createElement, memo, useContext, useEffect, useCallback } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { isPlainObject, isArray, get, isEqual } from 'lodash-es'\r\nimport { LayoutContext } from \"./LayoutProvider\"\r\n\r\nexport const getTemplates = (parent) => {\r\n    if (isPlainObject(parent)) {\r\n        // Check if the element is a template\r\n        if (parent.type && isEqual(get(parent, 'type.type.displayName'), 'Template')) {\r\n            return {[parent.props.slot]: parent};\r\n        }\r\n        return {};\r\n    } else if (isArray(parent)) {\r\n        let templates = [];\r\n        for (let i = 0, c = parent.length; i < c; i += 1) {\r\n            templates = Object.assign({}, templates, getTemplates(parent[i]));\r\n        }\r\n        return templates;\r\n    }\r\n    return {};\r\n}\r\n\r\nfunction BaseLayout({children, layout: name, ...props}) {\r\n    const context = useContext(LayoutContext)\r\n\r\n    const getLayout = useCallback((name) => {\r\n        const layout = context.getLayout(name)\r\n        return createElement(layout, props, children)\r\n    }, [name])\r\n\r\n    const layout = getLayout(name, props, children)\r\n    const templates = getTemplates(children)\r\n\r\n    if (!layout) throw new Error(`No layout found named: '${name}'`)\r\n\r\n\r\n    useEffect(() => {\r\n        context.setLayout({name, templates})\r\n    }, [name])\r\n\r\n    return layout\r\n}\r\n\r\nBaseLayout.propTypes = {\r\n    layout: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default memo(BaseLayout)","import React, {memo} from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction Template() {\r\n    throw new Error('You must only use <Template> inside a <BaseLayout>')\r\n}\r\n\r\nTemplate.displayName = `Template`\r\nTemplate.propTypes = {\r\n    slot: PropTypes.string.isRequired,\r\n    children: PropTypes.node,\r\n}\r\n\r\nexport default memo(Template)","import React, {memo, createElement, useContext} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { LayoutContext } from \"./LayoutProvider\";\r\n\r\nfunction Slot({children: outerChildren = null, name, component, ...props}) {\r\n    const context = useContext(LayoutContext)\r\n    if(!context.layout) return <></>\r\n\r\n    const template = context.getTemplate(name)\r\n    const children = template ? template.props.children : outerChildren\r\n    return createElement(component, props, children);\r\n}\r\n\r\nSlot.propTypes = {\r\n    name: PropTypes.string,\r\n    component: PropTypes.any,\r\n}\r\n\r\nSlot.defaultProps = {\r\n    component: 'div',\r\n}\r\n\r\nexport default memo(Slot)","import React, { Children, cloneElement, createElement, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { get, castArray, isString } from 'lodash-es'\r\nimport { getTemplates } from \"./BaseLayout\"\r\n\r\nfunction useSlot(children) {\r\n    const templates = getTemplates(children)\r\n    let Slot = ({children: outerChildren = null, name, component, ...props}) => {\r\n        const template = Slot.getTemplate(name)\r\n\r\n        const children = template ? Children.map(castArray(template.props.children), child => {\r\n            if(!child) return false\r\n            child = isString(child) ? createElement(Fragment, {}, child) : child\r\n\r\n            let name = get(child, 'type.name')\r\n            return cloneElement(child, name ? props : {})\r\n        }) : outerChildren\r\n        return children\r\n    }\r\n    Slot.getTemplate = (slot) => templates[slot] || false\r\n    Slot.propTypes = {\r\n        name: PropTypes.string.isRequired,\r\n    }\r\n    Slot.defaultProps = {\r\n        component: 'div'\r\n    }\r\n\r\n    return [Slot]\r\n}\r\n\r\nexport default useSlot","export {default as BaseLayout, getTemplates} from './BaseLayout'\r\nexport {default as LayoutProvider} from './LayoutProvider'\r\nexport {default as Template} from './Template'\r\nexport {default as Slot} from './Slot'\r\nexport {default as useSlot} from './useSlot'","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'layout'\r\n\r\nlet initialState = {\r\n    fullscreen: false,\r\n\r\n    map: {\r\n        fullscreen: false,\r\n    },\r\n    header: {\r\n        size: 55,\r\n        menuItems: [\r\n\r\n        ]\r\n    },\r\n    sidebar: {\r\n        size: 450,\r\n        maximumSize: 600,\r\n        handleSize: 5,\r\n    },\r\n    footer: {\r\n        maximumSize: 350,\r\n        size: 0\r\n    }\r\n}\r\n\r\nconst toggleDiv = (state, name) => {\r\n    state[name].size = state[name].size === 0 ? initialState[name].size : 0\r\n}\r\n\r\nconst layoutSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setLayout(state, {payload}){\r\n            state.header.menuItems = payload.headerMenu\r\n        },\r\n        toggleSidebar(state) {\r\n            toggleDiv(state, 'sidebar')\r\n        },\r\n        toggleHeader(state) {\r\n            toggleDiv(state, 'header')\r\n        },\r\n        toggleAppFullscreen(state) {\r\n            state.fullscreen = !state.fullscreen\r\n        },\r\n        toggleMapFullscreen(state){\r\n            state.map.fullscreen = !state.map.fullscreen\r\n        },\r\n    },\r\n})\r\n\r\nexport default layoutSlice","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nimport { name } from \"./slice\";\r\n\r\nexport const resizeSidebar = createAction(`@${name}/RESIZE_SIDEBAR`)\r\n","import { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts } from './index'\r\nimport { useFullscreen as baseUseFullscreen } from '@ttungbmt/react-hooks'\r\n\r\nexport const useFullscreen = ({ref, onClose}) => {\r\n    const dispatch = useDispatch()\r\n    const show = useSelector(layout_sels.getAppFullscreen)\r\n\r\n    baseUseFullscreen(ref, show, {\r\n        onClose: () =>  {\r\n            onClose ? onClose() : dispatch(layout_acts.toggleAppFullscreen())\r\n        }\r\n    })\r\n\r\n    return [show]\r\n}\r\n","import { pick } from 'lodash-es'\r\nimport { createAction, createSelector } from '@ttungbmt/redux-toolkit'\r\nimport slice, { name } from './slice'\r\nimport * as layoutActions from './actions'\r\nimport * as layoutHooks from './hooks'\r\n\r\n// SELECTORS\r\nconst getLayout = createSelector([name], r => r)\r\nconst getAppFullscreen = createSelector([getLayout], r => r.fullscreen)\r\nconst getMapFullscreen = createSelector([getLayout], r => r.map.fullscreen)\r\nconst getHeader = createSelector([getLayout], r => r.header)\r\nconst getMenu = createSelector([getLayout], r => r.header.menuItems)\r\nconst getSidebar = createSelector([getLayout], r => r.sidebar)\r\nconst getFooter = createSelector([getLayout], r => r.footer)\r\n\r\nexport const actions = {\r\n    ...layoutActions,\r\n    ...slice.actions\r\n}\r\n\r\nexport const selectors = {\r\n    getLayout,\r\n    getAppFullscreen,\r\n    getMapFullscreen,\r\n    getHeader,\r\n    getMenu,\r\n    getSidebar,\r\n    getFooter,\r\n}\r\n\r\nexport const utils = {\r\n    pickSpace(props) {\r\n        return pick(props, ['size', 'handeSize', 'maximumSize'])\r\n    }\r\n}\r\n\r\nexport const hooks = {\r\n    ...layoutHooks\r\n}\r\n\r\nexport default slice.reducer","import React, { memo, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport LoadingBar from 'react-redux-loading-bar'\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\r\nimport { ModalProvider } from \"@ttungbmt/react-hooks\"\r\nimport { hooks as layout_hooks } from '@core/reducers/layout'\r\nimport blue from '@material-ui/core/colors/blue'\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: blue[500],\r\n            dark: blue[700],\r\n        },\r\n    },\r\n    typography: {\r\n        fontSize: 13\r\n    }\r\n})\r\n\r\nconst Wrapper = styled.div`\r\n    \r\n`;\r\n\r\nfunction AppContainer({children}) {\r\n    const wrapperRef = useRef()\r\n    layout_hooks.useFullscreen({ref: wrapperRef})\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n                <ModalProvider>\r\n                    <Wrapper id=\"app-container\" ref={wrapperRef}>\r\n                        <LoadingBar style={{backgroundColor: '#f44336', height: 2, zIndex: 999999}}/>\r\n                        {children}\r\n                    </Wrapper>\r\n                </ModalProvider>\r\n\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\nexport default memo(AppContainer)","import { conformsTo, isFunction, isObject } from 'lodash-es'\r\nimport invariant from 'invariant'\r\n\r\n/**\r\n * Validate the shape of redux store\r\n */\r\nexport default function checkStore(store) {\r\n    const shape = {\r\n        dispatch: isFunction,\r\n        subscribe: isFunction,\r\n        getState: isFunction,\r\n        replaceReducer: isFunction,\r\n        runSaga: isFunction,\r\n        injectedReducers: isObject,\r\n        injectedSagas: isObject,\r\n    };\r\n    invariant(\r\n        conformsTo(store, shape),\r\n        '(app/utils...) injectors: Expected a valid redux store',\r\n    );\r\n}","import { createBrowserHistory, createHashHistory } from 'history';\r\nconst history = createHashHistory();\r\nexport default history;","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'app'\r\n\r\nlet initialState = {\r\n        loaded: false,\r\n    }\r\n\r\nconst appSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setApp(state, {payload}) {\r\n            state.app_name = payload.app_name\r\n            state.app_logo = payload.app_logo\r\n            state.description = payload.description\r\n            state.loaded = true\r\n        }\r\n    },\r\n})\r\n\r\nexport default appSlice","import { createAction, createSelector } from '@ttungbmt/redux-toolkit'\r\n\r\nimport slice, {name} from './slice'\r\n\r\nconst initApp = createAction(`@${name}/INIT`)\r\n\r\nconst getApp = createSelector(['app'], r => r)\r\nconst getLoaded = createSelector([getApp], r => r.loaded)\r\n\r\nexport const actions = {\r\n    initApp,\r\n    ...slice.actions\r\n}\r\n\r\nexport const selectors = {\r\n    getApp,\r\n    getLoaded,\r\n}\r\n\r\nexport default slice.reducer","import { combineReducers } from 'redux'\r\nimport { connectRouter } from 'connected-react-router'\r\nimport { loadingBarReducer } from 'react-redux-loading-bar'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nimport history from '@core/utils/history'\r\nimport appReducer from './app'\r\nimport authReducer from './auth'\r\n\r\nimport layoutReducer from './layout'\r\n\r\nexport default function createReducer(injectedReducers = {}) {\r\n    const rootReducer = combineReducers({\r\n        // global: globalReducer,\r\n        form: formReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n        layout: layoutReducer,\r\n        router: connectRouter(history),\r\n        loadingBar: loadingBarReducer,\r\n        // language: languageProviderReducer,\r\n        // router: connectRouter(history),\r\n        ...injectedReducers,\r\n    });\r\n\r\n    return rootReducer;\r\n}","import invariant from 'invariant';\r\nimport { isEmpty, isFunction, isString } from 'lodash-es'\r\n\r\nimport checkStore from './checkStore';\r\nimport createReducer from '../reducers'\r\n\r\n\r\nexport function injectReducerFactory(store, isValid) {\r\n    return function injectReducer(key, reducer) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        invariant(\r\n            isString(key) && !isEmpty(key) && isFunction(reducer),\r\n            '(app/utils...) injectReducer: Expected `reducer` to be a reducer function',\r\n        );\r\n\r\n        // Check `store.injectedReducers[key] === reducer` for hot reloading when a key is the same but a reducer is different\r\n        if (\r\n            Reflect.has(store.injectedReducers, key) &&\r\n            store.injectedReducers[key] === reducer\r\n        )\r\n            return;\r\n\r\n        store.injectedReducers[key] = reducer; // eslint-disable-line no-param-reassign\r\n        store.replaceReducer(createReducer(store.injectedReducers));\r\n    };\r\n}\r\n\r\nexport default function getInjectors(store) {\r\n    checkStore(store);\r\n\r\n    return {\r\n        injectReducer: injectReducerFactory(store, true),\r\n    };\r\n}","import React, { useEffect } from 'react';\r\nimport hoistNonReactStatics from 'hoist-non-react-statics';\r\nimport { ReactReduxContext } from 'react-redux'\r\n\r\nimport getInjectors from './reducerInjectors'\r\n\r\n/**\r\n * Dynamically injects a reducer\r\n *\r\n * @param {string} key A key of the reducer\r\n * @param {function} reducer A reducer that will be injected\r\n *\r\n */\r\nexport default ({key, reducer}) => WrappedComponent => {\r\n    class ReducerInjector extends React.Component {\r\n        static WrappedComponent = WrappedComponent;\r\n\r\n        static contextType = ReactReduxContext;\r\n\r\n        static displayName = `withReducer(${WrappedComponent.displayName ||\r\n        WrappedComponent.name ||\r\n        'Component'})`;\r\n\r\n        constructor(props, context) {\r\n            super(props, context);\r\n\r\n            getInjectors(context.store).injectReducer(key, reducer);\r\n        }\r\n\r\n        render() {\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    }\r\n\r\n    return hoistNonReactStatics(ReducerInjector, WrappedComponent);\r\n};\r\n\r\nconst useInjectReducer = ({key, reducer}) => {\r\n    const context = React.useContext(ReactReduxContext);\r\n\r\n    useEffect(() => {\r\n        getInjectors(context.store).injectReducer(key, reducer);\r\n        // eslint-disable-next-line\r\n    }, []);\r\n};\r\n\r\nexport { useInjectReducer };","export const RESTART_ON_REMOUNT = '@@saga-injector/restart-on-remount';\r\nexport const DAEMON = '@@saga-injector/daemon';\r\nexport const ONCE_TILL_UNMOUNT = '@@saga-injector/once-till-unmount';","import invariant from 'invariant'\r\nimport { isEmpty, isFunction, isString, conformsTo } from 'lodash-es'\r\n\r\nimport checkStore from './checkStore'\r\nimport { DAEMON, ONCE_TILL_UNMOUNT, RESTART_ON_REMOUNT } from './constants'\r\n\r\nconst allowedModes = [RESTART_ON_REMOUNT, DAEMON, ONCE_TILL_UNMOUNT];\r\n\r\nconst checkKey = key =>\r\n    invariant(\r\n        isString(key) && !isEmpty(key),\r\n        '(app/utils...) injectSaga: Expected `key` to be a non empty string',\r\n    );\r\n\r\nconst checkDescriptor = descriptor => {\r\n    const shape = {\r\n        saga: isFunction,\r\n        mode: mode => isString(mode) && allowedModes.includes(mode),\r\n    };\r\n    invariant(\r\n        conformsTo(descriptor, shape),\r\n        '(app/utils...) injectSaga: Expected a valid saga descriptor',\r\n    );\r\n};\r\n\r\nexport function injectSagaFactory(store, isValid) {\r\n    return function injectSaga(key, descriptor = {}, args) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        const newDescriptor = {\r\n            ...descriptor,\r\n            mode: descriptor.mode || DAEMON,\r\n        };\r\n        const { saga, mode } = newDescriptor;\r\n\r\n        checkKey(key);\r\n        checkDescriptor(newDescriptor);\r\n\r\n        let hasSaga = Reflect.has(store.injectedSagas, key);\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            const oldDescriptor = store.injectedSagas[key];\r\n            // enable hot reloading of daemon and once-till-unmount sagas\r\n            if (hasSaga && oldDescriptor.saga !== saga) {\r\n                oldDescriptor.task.cancel();\r\n                hasSaga = false;\r\n            }\r\n        }\r\n\r\n        if (\r\n            !hasSaga ||\r\n            (hasSaga && mode !== DAEMON && mode !== ONCE_TILL_UNMOUNT)\r\n        ) {\r\n            /* eslint-disable no-param-reassign */\r\n            store.injectedSagas[key] = {\r\n                ...newDescriptor,\r\n                task: store.runSaga(saga, args),\r\n            };\r\n            /* eslint-enable no-param-reassign */\r\n        }\r\n    };\r\n}\r\n\r\nexport function ejectSagaFactory(store, isValid) {\r\n    return function ejectSaga(key) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        checkKey(key);\r\n\r\n        if (Reflect.has(store.injectedSagas, key)) {\r\n            const descriptor = store.injectedSagas[key];\r\n            if (descriptor.mode && descriptor.mode !== DAEMON) {\r\n                descriptor.task.cancel();\r\n                // Clean up in production; in development we need `descriptor.saga` for hot reloading\r\n                if (process.env.NODE_ENV === 'production') {\r\n                    // Need some value to be able to detect `ONCE_TILL_UNMOUNT` sagas in `injectSaga`\r\n                    store.injectedSagas[key] = 'done'; // eslint-disable-line no-param-reassign\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nexport default function getInjectors(store) {\r\n    checkStore(store);\r\n\r\n    return {\r\n        injectSaga: injectSagaFactory(store, true),\r\n        ejectSaga: ejectSagaFactory(store, true),\r\n    };\r\n}","import React, { useEffect } from 'react';\r\nimport hoistNonReactStatics from 'hoist-non-react-statics';\r\nimport { ReactReduxContext } from 'react-redux';\r\n\r\nimport getInjectors from './sagaInjectors';\r\n\r\n/**\r\n * Dynamically injects a saga, passes component's props as saga arguments\r\n *\r\n * @param {string} key A key of the saga\r\n * @param {function} saga A root saga that will be injected\r\n * @param {string} [mode] By default (constants.DAEMON) the saga will be started\r\n * on component mount and never canceled or started again. Another two options:\r\n *   - constants.RESTART_ON_REMOUNT — the saga will be started on component mount and\r\n *   cancelled with `task.cancel()` on component unmount for improved performance,\r\n *   - constants.ONCE_TILL_UNMOUNT — behaves like 'RESTART_ON_REMOUNT' but never runs it again.\r\n *\r\n */\r\nexport default ({key, saga, mode}) => WrappedComponent => {\r\n    class InjectSaga extends React.Component {\r\n        static WrappedComponent = WrappedComponent;\r\n\r\n        static contextType = ReactReduxContext;\r\n\r\n        static displayName = `withSaga(${WrappedComponent.displayName ||\r\n        WrappedComponent.name ||\r\n        'Component'})`;\r\n\r\n        constructor(props, context) {\r\n            super(props, context);\r\n\r\n            this.injectors = getInjectors(context.store);\r\n\r\n            this.injectors.injectSaga(key, {saga, mode}, this.props);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.injectors.ejectSaga(key);\r\n        }\r\n\r\n        render() {\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    }\r\n\r\n    return hoistNonReactStatics(InjectSaga, WrappedComponent);\r\n};\r\n\r\nconst useInjectSaga = ({key, saga, mode}) => {\r\n    const context = React.useContext(ReactReduxContext);\r\n    useEffect(() => {\r\n        const injectors = getInjectors(context.store);\r\n        injectors.injectSaga(key, {saga, mode});\r\n\r\n        return () => {\r\n            injectors.ejectSaga(key);\r\n        };\r\n        // eslint-disable-next-line\r\n    }, []);\r\n};\r\n\r\nexport { useInjectSaga };","import { map } from 'lodash-es'\r\nimport qs from 'qs'\r\n\r\nexport function isTrue(str) {\r\n    return str === 'true' || str === true\r\n}\r\n\r\nexport function getParamUrl(param) {\r\n    const url = new URL(window.location.href)\r\n    return url.searchParams.get(param)\r\n}\r\n\r\nexport const generateRoutesFromConfigs = (configs) => {\r\n    let allRoutes = [];\r\n\r\n    map(configs, (config) => {\r\n        allRoutes = [\r\n            ...allRoutes,\r\n            ...setRoutes(config)\r\n        ]\r\n    })\r\n\r\n    return allRoutes;\r\n}\r\n\r\nexport const getParsedQuerySettings = () => {\r\n    const parsedQueryString = qs.parse(window.location.search, {ignoreQueryPrefix: true});\r\n    if (parsedQueryString && parsedQueryString.defaultSettings) {\r\n        return JSON.parse(parsedQueryString.defaultSettings);\r\n    }\r\n    return {}\r\n    // Generating route params from settings\r\n    /*const settings = qs.stringify({\r\n        defaultSettings: JSON.stringify(defaultSettings, {strictNullHandling: true})\r\n    });\r\n    console.info(settings);*/\r\n}\r\n\r\nconst setRoutes = (config) => {\r\n    let routes = [...config.routes];\r\n    if (config.settings || config.auth) {\r\n        routes = routes.map((route) => {\r\n            let auth = config.auth ? [...config.auth] : [];\r\n            auth = route.auth ? [...auth, ...route.auth] : auth;\r\n            return {\r\n                ...route,\r\n                settings: {...config.settings, ...route.settings},\r\n                auth\r\n            };\r\n        });\r\n    }\r\n\r\n    return [...routes];\r\n}","import React, { lazy } from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst MapsContainer = lazy(() => import('./Container'))\r\nconst OdichPage = lazy(() => import('./views/odich/index'))\r\nconst OdichViewPage = lazy(() => import('./views/odich/view/index'))\r\nconst OdichListPage = lazy(() => import('./views/odich/list/index'))\r\nconst SxhPage = lazy(() => import('./views/ds-sxh/index'))\r\nconst HomePage = lazy(() => import('./views/home/index'))\r\nconst ThongkePage = lazy(() => import('./views/thongke/index'))\r\nconst DncPage = lazy(() => import('./views/pt-nguyco/index'))\r\nconst Cabenh = lazy(() => import('./views/cabenh/index'))\r\n\r\nexport const MapsConfig = {\r\n    routes: [\r\n        {\r\n            path: '/maps',\r\n            component: MapsContainer,\r\n            routes: [\r\n                {\r\n                    path: '/maps/ds-sxh',\r\n                    component: SxhPage\r\n                },\r\n                // {\r\n                //     path: '/maps/cabenh',\r\n                //     component: Cabenh\r\n                // },\r\n                {\r\n                    path: '/maps/odich/view/:id',\r\n                    component: OdichViewPage\r\n                },\r\n                {\r\n                    path: '/maps/odich/list',\r\n                    component: OdichListPage\r\n                },\r\n                {\r\n                    path: '/maps/odich',\r\n                    component: OdichPage\r\n                },\r\n                {\r\n                    path: '/maps/pt-nguyco',\r\n                    component: DncPage\r\n                },\r\n                {\r\n                    path: '/maps/thongke',\r\n                    component: ThongkePage\r\n                },\r\n                {\r\n                    path: '/',\r\n                    component: () => <Redirect to={'/maps/ds-sxh'}/>\r\n                },\r\n            ]\r\n        },\r\n\r\n    ]\r\n}","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { generateRoutesFromConfigs } from '@core/utils'\r\n\r\nimport { MapsConfig } from 'app/main/maps/config'\r\n\r\nconst routeConfigs = [\r\n    MapsConfig\r\n];\r\n\r\nconst routes = [\r\n    ...generateRoutesFromConfigs(routeConfigs),\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: () => <Redirect to={'/maps'}/>\r\n    },\r\n    {\r\n        component: () => <Redirect to=\"/pages/errors/error-404\"/>\r\n    },\r\n];\r\n\r\nexport default routes","import React, {memo} from 'react'\r\n\r\nfunction BlankLayout({children}) {\r\n\r\n    return (\r\n        <div>\r\n            {children}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default memo(BlankLayout)\r\n","import blank from './blank/index'\r\n\r\nconst Layouts = {\r\n    blank,\r\n}\r\n\r\nexport default Layouts;","import React, { memo } from 'react'\r\nimport * as Space from \"react-spaces\"\r\nimport Flex from 'react-flexview'\r\nimport Box from '@material-ui/core/Box'\r\nimport { Navbar } from 'react-bootstrap'\r\nimport styled from \"styled-components\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts, utils } from '@core/reducers/layout'\r\nimport { Slot } from \"@ttungbmt/redux-layout\"\r\n\r\n// import { isSlot, filterSlot } from '@core/components/Slot'\r\n\r\nconst HeaderWrapper = styled(Navbar)`\r\n     header { \r\n        border-bottom: 1px solid #dfdfdf; \r\n     }\r\n    .header-title {\r\n        font-size: 17px;\r\n        font-weight: 700;\r\n        text-transform: uppercase;\r\n        color: rgb(0, 147, 221);\r\n    }\r\n    .nav-link.active {\r\n        border-bottom: 2px solid #2196f3;\r\n    }\r\n    \r\n    .navbar-toggler { display: block }\r\n    .app-menu {\r\n        a {\r\n            text-transform : uppercase; font-weight: 600\r\n            &:hover {\r\n                color: #2196f3!important;\r\n                background-color: hsla(0,0%,93.7%,.73);\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nfunction Header({children, homeUrl = '/'}) {\r\n    const dispatch = useDispatch()\r\n    const header = useSelector(layout_sels.getHeader)\r\n    let background = 'url(https://maps.hcmgis.vn/core/themes/maps/assets/img/bando_02.png) no-repeat 150px 0 #f9f9f9'\r\n\r\n    return (\r\n        <HeaderWrapper>\r\n            <Space.Top as=\"header\" {...utils.pickSpace(header, ['size'])} style={{background, overflow: 'visible'}}>\r\n                <Space.Left size={450}>\r\n                    <Flex height={'100%'}>\r\n                        <Flex grow>\r\n                            <a href={homeUrl}>\r\n                                <Box display=\"flex\" alignItems=\"center\" height=\"100%\">\r\n                                    <Box m={'0 7px'}>\r\n                                        <Slot name=\"header.logo\"/>\r\n                                    </Box>\r\n                                    <Box className=\"header-title\">\r\n                                        <Slot name=\"header.title\"/>\r\n                                    </Box>\r\n                                </Box>\r\n                            </a>\r\n                        </Flex>\r\n                        <Flex>\r\n                            <button type=\"button\" className=\"navbar-toggler\" onClick={() => dispatch(layout_acts.toggleSidebar())}>\r\n                                <i className=\"icon-paragraph-justify3\"/>\r\n                            </button>\r\n                        </Flex>\r\n                    </Flex>\r\n                </Space.Left>\r\n                <Space.Fill style={{overflow: 'visible'}}>\r\n                    <Box display=\"flex\" height=\"100%\">\r\n                        <Flex grow>\r\n                            <Slot name=\"header.search_bar\"/>\r\n                        </Flex>\r\n                        <Box display=\"flex\" alignItems=\"center\" className=\"app-menu\">\r\n                            <Slot name=\"header.menu\"/>\r\n                        </Box>\r\n                    </Box>\r\n                </Space.Fill>\r\n            </Space.Top>\r\n        </HeaderWrapper>\r\n    )\r\n}\r\n\r\nexport default memo(Header)","export default {\r\n    cabenh: {\r\n        pop: require('./cabenh/Pop').default\r\n    },\r\n    cabenh_sxh: {\r\n        pop: require('./cabenh_sxh/Pop').default\r\n    },\r\n    dnc: {\r\n        pop: require('./dnc/Pop').default\r\n    },\r\n    odich: {\r\n        pop: require('./odich/Pop').default\r\n    }\r\n}","import React, { memo, Fragment } from 'react'\r\nimport { useSelector, useRouteMatch } from '@ttungbmt/redux-toolkit'\r\nimport { FeatureGroup, Circle, Marker, Popup, PopManager, GeoJSON } from '@ttungbmt/redux-leaflet'\r\nimport { selectors as odichSels } from 'app/reducers/odich'\r\nimport { selectors as pcdSels } from 'app/reducers/pcd'\r\n\r\nimport { isEmpty } from '@ttungbmt/utils'\r\nimport { circle, union, feature } from '@turf/turf'\r\n\r\nimport features from 'app/features'\r\nimport moment from \"app/utils/moment\"\r\n\r\nconst CircleOdich = memo(({data, combineCir, radius, selected}) => {\r\n    if(isEmpty(data)) return null\r\n\r\n    if (combineCir) {\r\n        const odichCir = union(...data.map(c => circle(feature(c.geometry), radius, {steps: 400, units: 'meters'})))\r\n        return <GeoJSON data={odichCir.geometry} style={{color: selected ? '#ff7800' : '#3388ff'}}/>\r\n    } else {\r\n        return data.map(({position}, k) => (<Circle center={position} key={k} radius={radius}/>))\r\n    }\r\n})\r\n\r\nconst OdichLeaflet = memo(({id, cabenhs, range, options: {combineCir, radius}, selected}) => {\r\n    if(isEmpty(cabenhs)) return null\r\n\r\n    let data = cabenhs.filter(c => {\r\n        let date = moment(c.ngaymacbenh_nv, 'L').unix()\r\n        return date >= range.value[0] && date <= range.value[1]\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <CircleOdich data={data} combineCir={combineCir} radius={radius} selected={selected}/>\r\n            {data.map(({position, selected, ...props}, k) => {\r\n                return (\r\n                    <Fragment key={k}>\r\n                        {selected && <Circle center={position} key={k} radius={radius} color={'red'} zIndex={800}/>}\r\n                        <Marker position={position} selected={selected} riseOnHover={true}\r\n                                zIndexOffset={selected ? 1000 : 100}>\r\n                            <Popup>\r\n                                <PopManager features={features} _key={'cabenh_sxh'} model={props}/>\r\n                            </Popup>\r\n                        </Marker>\r\n                    </Fragment>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n})\r\n\r\nfunction OdichMap() {\r\n    const options = useSelector(pcdSels.getOdichConf)\r\n    const models = useSelector(odichSels.getOdichMap)\r\n\r\n    if(isEmpty(models)) return <Fragment />\r\n\r\n    return (\r\n        <FeatureGroup>\r\n            {models.map((m, k) => <OdichLeaflet key={k} {...m} options={options}/>)}\r\n        </FeatureGroup>\r\n    )\r\n}\r\n\r\nexport default memo(OdichMap)","import React, { memo, useEffect } from 'react'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { FeatureGroup, Circle, useLeaflet } from '@ttungbmt/redux-leaflet'\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nfunction KhoanhVungMap() {\r\n    const items = useSelector(state => get(state, 'pcd.khoanhvung', []))\r\n    return (\r\n        <FeatureGroup>\r\n            {items.filter(i => i.geometry).map(({geometry}, k) => (\r\n                <Circle center={toCenter(geometry)} key={k} radius={100}/>))}\r\n        </FeatureGroup>\r\n    )\r\n}\r\n\r\nexport default memo(KhoanhVungMap)","import React, { memo } from 'react'\r\nimport { useInjectReducer, useInjectSaga } from '@core/utils/index'\r\n\r\nimport { LeafletContainer, sagas as mapSagas, reducer as mapReducer, PopupWMS, PopManager, LegendControl } from '@ttungbmt/redux-leaflet'\r\n\r\nimport '@ttungbmt/redux-leaflet/dist/redux-leaflet.cjs.css'\r\n\r\nimport OdichMap from './OdichMap'\r\n\r\nimport features from 'app/features'\r\nimport KhoanhVungMap from \"./KhoanhVungMap\";\r\n\r\n\r\nconst legends = [\r\n    {\r\n        \"label\": \"Ca bệnh\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: '<= 7', html: '<div class=\"lengend-circle\" style=\"background: #ff0000\"></div>'},\r\n            {label: '8 - 14', html: '<div class=\"lengend-circle\" style=\"background: #ff4600\"></div>'},\r\n            {label: '15 - 21', html: '<div class=\"lengend-circle\" style=\"background: #007f00\"></div>'},\r\n            {label: '22 - 28', html: '<div class=\"lengend-circle\" style=\"background: #0000ff\"></div>'},\r\n            {label: '>= 28', html: '<div class=\"lengend-circle\" style=\"background: #8c8c8c\"></div>'},\r\n            {label: 'Zika', html: '<div class=\"lengend-circle\" style=\"background: #aa2672\"></div>'},\r\n        ]\r\n    },\r\n    {\r\n        \"label\": \"Hình thức điều trị\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: 'Nội trú', html: '<div class=\"lengend-circle\" style=\"background: red\"></div>'},\r\n            {label: 'Ngoại trú', html: '<div class=\"lengend-triangle\"></div>'},\r\n        ]\r\n    },\r\n    {\r\n        \"label\": \"ĐNC\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: 'Nhóm 1', html: '<div class=\"lengend-rectangle\" style=\"background: #e81d62\"></div>'},\r\n            {label: 'Nhóm 2', html: '<div class=\"lengend-rectangle\" style=\"background: #2196f3\"></div>'},\r\n            {label: 'Nhóm 3', html: '<div class=\"lengend-rectangle\" style=\"background: #388e3c\"></div>'},\r\n        ]\r\n    },\r\n]\r\n\r\nfunction Leaflet() {\r\n    useInjectReducer({key: 'map', reducer: mapReducer})\r\n    useInjectSaga({key: 'map', saga: mapSagas.map})\r\n\r\n    return (\r\n        <LeafletContainer>\r\n            <OdichMap/>\r\n            <KhoanhVungMap/>\r\n            <LegendControl legends={legends} />\r\n\r\n            <PopupWMS>\r\n                <PopManager features={features}/>\r\n            </PopupWMS>\r\n        </LeafletContainer>\r\n    )\r\n}\r\n\r\nexport default memo(Leaflet)","import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n    background: white;\r\n    .nav-item a {\r\n        color: #333;\r\n        padding: 13px 20px;\r\n        &:hover {background: hsla(0,0%,93.7%,.8);}\r\n    } \r\n    \r\n    .nav-link { color: #333;}\r\n    \r\n    .map-tools a {\r\n        border-right: 1px solid rgba(223, 223, 223, 0.56)\r\n    }\r\n    \r\n    .map-rgt-tools a {\r\n        padding-right: 13px;\r\n        padding-left: 13px;\r\n    }\r\n`;\r\n\r\nexport default Wrapper","import React, { memo, useState } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\n// import { castArray } from \"lodash-es\"\r\nimport * as Space from \"react-spaces\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { isSlot, filterSlot } from '@core/components/Slot'\r\nimport { selectors as layout_sels } from '@core/reducers/layout'\r\nimport ReactFullScreenElement from \"react-fullscreen-element\"\r\n\r\nimport Wrapper from './Wrapper'\r\n\r\nfunction MapLayout({children, leftTool, rightTool, leaflet}) {\r\n    const fullscreen = useSelector(layout_sels.getMapFullscreen)\r\n    // const arrCh = castArray(children)\r\n    //\r\n    // const leaflet = filterSlot(arrCh, 'leaflet'),\r\n    //     left_tool = filterSlot(arrCh, 'left_tool'),\r\n    //     right_tool = filterSlot(arrCh, 'right_tool'),\r\n    //     rest = arrCh.filter(o => !isSlot(o))\r\n\r\n    return (\r\n        <ReactFullScreenElement fullScreen={fullscreen}>\r\n            <Wrapper>\r\n                <Space.Top size={45} style={{borderBottom: '1px solid #dfdfdf', overflow: 'visible', zIndex: 999999}}>\r\n                    <Box display=\"flex\" height=\"100%\">\r\n                        <Box display=\"flex\" flexGrow={1} alignItems=\"center\" className=\"map-tools\">{leftTool}</Box>\r\n                        <Box className=\"map-tools map-rgt-tools\"\r\n                             css={{borderLeft: `1px solid rgba(223, 223, 223, 0.56)`}}>{rightTool}</Box>\r\n                    </Box>\r\n                </Space.Top>\r\n                <Space.Fill>\r\n                    {leaflet}\r\n                </Space.Fill>\r\n                <Space.Bottom size={0}>\r\n                    Extra Map\r\n                </Space.Bottom>\r\n\r\n            </Wrapper>\r\n        </ReactFullScreenElement>\r\n    )\r\n}\r\n\r\nexport default memo(MapLayout)","import React, { memo } from 'react'\r\nimport { isEmpty, isString } from 'lodash-es'\r\nimport { useDispatch, useHistory, useSelector, emitter } from '@ttungbmt/redux-toolkit'\r\nimport { Tooltip } from '@core/components'\r\nimport { Nav, Dropdown } from 'react-bootstrap'\r\nimport { actions as layout_acts } from '@core/reducers/layout'\r\nimport { actions as mapActs } from '@ttungbmt/redux-leaflet'\r\nimport { selectors as pcdSels, actions as pcdActs } from 'app/reducers/pcd'\r\n\r\nimport Leaflet from './Leaflet'\r\nimport MapLayout from './Layout'\r\n\r\nfunction ToolItem({icon, text}) {\r\n    return <>{icon && <i className={icon}/>} <span className=\"md:hidden lg:inline\">{text}</span></>\r\n}\r\n\r\nconst NavItem = ({items, tooltip, onClick, ...props}) => {\r\n    if (isEmpty(items)) return (\r\n        <Tooltip title={tooltip}>\r\n            <Nav.Link onClick={onClick}><ToolItem {...props}/></Nav.Link>\r\n        </Tooltip>\r\n    )\r\n\r\n    return (\r\n        <Tooltip title={props.tooltip}>\r\n            <Nav.Item>\r\n                <Dropdown as={Nav.Item}>\r\n                    <Dropdown.Toggle as={Nav.Link}><ToolItem {...props}/></Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                        {items.map((v, k) => (isString(v) && v === '-') ? (\r\n                                <div className=\"dropdown-divider\" key={k}/>) :\r\n                            <Dropdown.Item key={k} onClick={v.onClick}><ToolItem {...v}/></Dropdown.Item>)}\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            </Nav.Item>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\n\r\nfunction Map() {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const {combineCir} = useSelector(pcdSels.getOdichConf)\r\n\r\n\r\n    let lft_tool_items = [\r\n            {icon: 'icon-feed', tooltip: 'Tìm ổ dịch tự động', onClick: () => history.push('/maps/odich/list')},\r\n            {\r\n                tooltip: combineCir ? 'Tách khoanh vùng' : 'Gom khoanh vùng',\r\n                onClick: () => dispatch(pcdActs.setCombineCir(!combineCir)),\r\n                icon: combineCir ? 'icon-ungroup' : 'icon-make-group'\r\n            }\r\n        ],\r\n        rgt_tool_items = [\r\n            {\r\n                icon: 'icon-bin', tooltip: 'Xóa điểm', onClick: () => {\r\n                    dispatch(pcdActs.removeAllKhoanhVung())\r\n\r\n                }\r\n            },\r\n            {\r\n                icon: 'icon-cube3',\r\n                tooltip: 'Công cụ',\r\n                items: [\r\n                    {\r\n                        icon: 'icon-rulers',\r\n                        text: 'Đo khoảng cách',\r\n                        onClick: () => dispatch(mapActs.toggleControl('ruler'))\r\n                    },\r\n                    {icon: 'icon-pencil-ruler', text: 'Đo diện tích', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-circles2', text: 'Đo bán kính', onClick: () => {alert('Developing')}},\r\n                    '-',\r\n                    {icon: 'icon-bookmark3', text: 'Đánh dấu vị trí', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-share2', text: 'Chia sẻ', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-printer', text: 'In bản đổ', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-image2', text: 'Xuất file ảnh', onClick: () => emitter.emit('exportMap')},\r\n                ]\r\n            },\r\n            {\r\n                icon: 'icon-enlarge', tooltip: 'Tùy chỉnh layout', items: [\r\n                    {text: 'Bật/ tắt header', icon: 'icon-sort', onClick: () => dispatch(layout_acts.toggleHeader())},\r\n                    {text: 'Bật/ tắt sidebar', icon: 'icon-tab', onClick: () => dispatch(layout_acts.toggleSidebar())},\r\n                    {\r\n                        text: 'Mở rộng bản đồ',\r\n                        icon: 'icon-width',\r\n                        onClick: () => dispatch(layout_acts.toggleMapFullscreen())\r\n                    },\r\n                    {\r\n                        text: 'Toàn màn hình',\r\n                        icon: 'icon-screen-full',\r\n                        onClick: () => dispatch(layout_acts.toggleAppFullscreen())\r\n                    },\r\n                ]\r\n            },\r\n        ]\r\n\r\n\r\n    return (\r\n        <MapLayout\r\n            rightTool={<Nav>{rgt_tool_items.map((i, k) => <NavItem key={k} {...i}/>)}</Nav>}\r\n            leftTool={<Nav>{lft_tool_items.map((i, k) => <NavItem key={k} {...i}/>)}</Nav>}\r\n            leaflet={<Leaflet/>}\r\n        />\r\n    )\r\n}\r\n\r\nexport default memo(Map)","import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n    position: relative;\r\n    height: 100%;\r\n    border-right: 1px solid hsla(0,0%,87.5%,.56);\r\n\r\n    .sb-title { \r\n        border-bottom: 1px solid #dfdfdf;\r\n        font-weight: 500; \r\n        .badge {\r\n            padding: 3px 4px;\r\n            i {font-size: 14px}\r\n        }\r\n    }\r\n    \r\n     .sb-sub-title { \r\n        border-bottom: 1px solid #dfdfdf;\r\n        > div {\r\n        }\r\n        button, a {\r\n            outline: none;\r\n            width: 35px;\r\n            height: 100%;\r\n            &:hover {background: hsla(0,0%,93.7%,.73)}\r\n        }\r\n    }\r\n`;\r\n\r\nexport default Wrapper","import React, { memo } from 'react'\r\nimport * as Space from \"react-spaces\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts, utils } from '@core/reducers/layout'\r\nimport {Slot} from '@ttungbmt/redux-layout'\r\n\r\nimport Wrapper from './Wrapper'\r\n\r\nfunction Sidebar({children}) {\r\n    const dispatch = useDispatch()\r\n    const sidebarProps = useSelector(layout_sels.getSidebar)\r\n\r\n    return (\r\n        <Space.LeftResizable\r\n            as=\"aside\"\r\n            onResizeEnd={() => dispatch(layout_acts.resizeSidebar())}\r\n            {...utils.pickSpace(sidebarProps, ['size', 'maximumSize', 'handleSize'])}\r\n        >\r\n            <Wrapper>\r\n                <Slot name=\"main\" />\r\n            </Wrapper>\r\n        </Space.LeftResizable>\r\n    )\r\n}\r\n\r\nexport default memo(Sidebar)","import React, {memo} from 'react'\r\nimport * as Space from 'react-spaces'\r\n\r\nimport Map from './Map/index'\r\nimport Sidebar from './Sidebar'\r\n\r\nfunction Main({children}) {\r\n\r\n    return (\r\n        <Space.Fill as=\"main\" style={{background: 'white', overflow: 'visible'}}>\r\n            <Sidebar children={children}/>\r\n            <Space.Fill>\r\n                <Map />\r\n            </Space.Fill>\r\n            <Space.RightResizable as=\"aside\" size={0} handleSize={5}>\r\n                Right Sidebar\r\n            </Space.RightResizable>\r\n        </Space.Fill>\r\n    )\r\n}\r\n\r\nexport default memo(Main)","import React, { memo } from 'react'\r\nimport * as Space from 'react-spaces'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, utils } from '@core/reducers/layout'\r\nimport { Slot } from \"@ttungbmt/redux-layout\"\r\n\r\nfunction Footer() {\r\n    const footerProps = useSelector(layout_sels.getFooter)\r\n\r\n    return (\r\n        <Space.BottomResizable as=\"footer\" {...utils.pickSpace(footerProps)}>\r\n            <Slot name=\"footer\"/>\r\n        </Space.BottomResizable>\r\n    )\r\n}\r\n\r\nexport default memo(Footer)","import React, {memo} from 'react'\r\nimport styled from \"styled-components\"\r\nimport { Helmet } from 'react-helmet'\r\nimport * as Space from 'react-spaces'\r\nimport { Header, Footer, Main } from './partials'\r\n\r\nconst Wrapper = styled.div`\r\n     .spaces-fullpage-layout {\r\n        background: white\r\n    }\r\n`;\r\n\r\nfunction MapLayout({children}) {\r\n    return (\r\n        <>\r\n            <Helmet defaultTitle=\"Map App\">\r\n            </Helmet>\r\n            <Wrapper>\r\n                <Space.ViewPort>\r\n                    <Header/>\r\n                    <Main children={children}/>\r\n                    <Footer />\r\n                </Space.ViewPort>\r\n            </Wrapper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(MapLayout)\r\n","import coreLayouts from '@core/layouts/Layouts'\r\nimport map from './map/Layout'\r\n\r\nconst Layouts = {\r\n    ...coreLayouts,\r\n    map\r\n};\r\n\r\nexport default Layouts","import { put, call, takeEvery, delay } from 'redux-saga/effects'\r\nimport axios from 'axios'\r\nimport { actions as authActs } from '@core/reducers/auth'\r\nimport {actions as appActs } from '@core/reducers/app'\r\nimport {actions as layoutActs } from '@core/reducers/layout'\r\nimport {actions as mapActs } from '@ttungbmt/redux-leaflet'\r\nimport store from 'app/Store'\r\n\r\nexport default function* appSaga() {\r\n    yield takeEvery('@app/INIT', initApp)\r\n}\r\n\r\nappSaga.key = 'app'\r\n\r\nfunction* initApp() {\r\n    try {\r\n        const {data} = yield call(axios.get, '/maps/configs');\r\n        store.commit('setCat', data.dm)\r\n        store.commit('setMap', data.map)\r\n        yield put(authActs.setAuth(data.auth))\r\n        yield put(layoutActs.setLayout(data.app))\r\n        yield put(appActs.setApp(data.app))\r\n        yield delay(1000)\r\n        yield put(mapActs.setMap(data.map))\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n}\r\n\r\n\r\n","import { takeEvery } from \"redux-saga/effects\"\r\nimport {actions as acts} from '@core/reducers/layout'\r\n\r\nimport {name} from './slice'\r\nimport { emitter } from '@ttungbmt/redux-toolkit'\r\n\r\nexport default function* layoutSaga() {\r\n    yield takeEvery(acts.resizeSidebar.type, resizeSb)\r\n\r\n}\r\n\r\nlayoutSaga.key = name\r\n\r\nfunction* resizeSb() {\r\n    emitter.emit(acts.resizeSidebar.type)\r\n}\r\n\r\n","import { createReducer } from \"redux-orm\";\r\nimport { includes, keys } from '@ttungbmt/utils'\r\nimport orm from './orm'\r\nimport { isEmpty } from '@ttungbmt/utils'\r\n\r\nconst ormReducer = createReducer(orm, defaultUpdater)\r\n\r\nfunction defaultUpdater(session, action) {\r\n    session.sessionBoundModels.forEach(modelClass => {\r\n        const caseReducers = modelClass.reducers\r\n        if (!isEmpty(caseReducers) && includes(keys(caseReducers), action.type)) {\r\n            caseReducers[action.type](action, modelClass, session)\r\n        }\r\n    });\r\n}\r\n\r\nexport default ormReducer","import React, { memo } from 'react'\r\nimport { isEmpty } from 'lodash-es'\r\nimport cx from 'classnames'\r\nimport { Nav, Dropdown } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { matchPath, useLocation } from '@ttungbmt/redux-toolkit'\r\n\r\nconst Item = memo(({text, icon}) => {\r\n    return (\r\n        <>{icon && <i className={cx(icon, 'mr-1')}/>} {text}</>\r\n    )\r\n})\r\n\r\n\r\nfunction NavLink({url, items, onClick, ...props}) {\r\n    const location = useLocation()\r\n    const A = url ? Link : Nav.Link\r\n    if (isEmpty(items)) return <A to={url} {...props} className={cx('nav-link', {active: matchPath(location.pathname, {path: url, exact: true})})}><Item {...props}/></A>\r\n\r\n    return (\r\n        <Nav.Item>\r\n            <Dropdown as={Nav.Item}>\r\n                <Dropdown.Toggle as={Nav.Link}><Item {...props}/></Dropdown.Toggle>\r\n                <Dropdown.Menu>\r\n                    {items.map(({onClick, ...i}, k) => <Dropdown.Item key={k}\r\n                                                                      onClick={onClick}><Item {...i}/></Dropdown.Item>)}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </Nav.Item>\r\n    )\r\n}\r\n\r\nexport default memo(NavLink)","import React, { memo } from 'react'\r\nimport { Nav } from 'react-bootstrap'\r\nimport {BaseLayout, Template} from '@ttungbmt/redux-layout'\r\nimport { renderRoutes } from \"react-router-config\"\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as app_sels } from \"@core/reducers/app\"\r\nimport { selectors as layout_sels } from \"@core/reducers/layout\"\r\n\r\nimport { NavLink } from \"./components\"\r\n\r\nfunction MapPage({routes}) {\r\n    const [app, menuItems] = useSelector(state => [app_sels.getApp(state), layout_sels.getMenu(state)])\r\n\r\n    return (\r\n        <BaseLayout layout=\"map\">\r\n            <Template slot=\"header.logo\">\r\n                <img src={app.app_logo} alt=\"\" style={{height: '45px'}}/>\r\n            </Template>\r\n            <Template slot=\"header.title\">\r\n                 <span>{app.app_name}</span>\r\n            </Template>\r\n            <Template slot=\"header.menu\">\r\n                <Nav>\r\n                    {menuItems && menuItems.map((i, k) => <NavLink key={k} {...i}/>)}\r\n                </Nav>\r\n            </Template>\r\n            <Template slot=\"main\">\r\n                {renderRoutes(routes)}\r\n            </Template>\r\n\r\n\r\n        </BaseLayout>\r\n    )\r\n}\r\n\r\nexport default memo(MapPage)","// @flow\nimport React, { memo, useEffect, Suspense } from 'react'\nimport { hot } from 'react-hot-loader/root';\nimport { AppContainer } from '@core/containers'\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\nimport { useInjectSaga, useInjectReducer } from '@core/utils/index'\n\nimport routes from './configs/routesConfig'\nimport Layouts from './layouts/Layouts'\nimport appSaga from './sagas/app.saga'\nimport layoutSaga from '@core/reducers/layout/saga'\nimport { actions as app_acts, selectors as app_sels } from '@core/reducers/app'\nimport { AppLoader } from '@core/components'\nimport ormReducer from './reducers/orm'\nimport { saga as cabenhSaga, KEY as cabenhKey } from './reducers/cabenh'\nimport { reducer as pcdReducer, saga as pcdSaga, KEY as pcdKey } from './reducers/pcd'\nimport { saga as odichSaga } from './reducers/odich'\n\nimport { LayoutProvider } from '@ttungbmt/redux-layout'\n\nimport MapPage from './layouts/map/MapPage'\nimport TreeChart from \"./main/maps/views/cabenh/TreeChart\";\n\nfunction App() {\n    const Layout = Layouts['map']\n    const loaded = useSelector(app_sels.getLoaded)\n    const dispatch = useDispatch()\n\n    useInjectSaga({key: appSaga.key, saga: appSaga})\n    useInjectSaga({key: layoutSaga.key, saga: layoutSaga})\n    useInjectReducer({key: 'orm', reducer: ormReducer})\n\n    useInjectReducer({key: pcdKey, reducer: pcdReducer})\n    useInjectSaga({key: pcdKey, saga: pcdSaga})\n    useInjectSaga({key: cabenhKey, saga: cabenhSaga})\n    useInjectSaga({key: 'odich', saga: odichSaga})\n\n    useEffect(() => {\n        dispatch(app_acts.initApp())\n    }, [])\n\n    if (loaded) {\n        return (\n            <AppContainer>\n                <Suspense fallback={<div>Loading...</div>}>\n                    <LayoutProvider layouts={Layouts}>\n                        <MapPage routes={routes}/>\n                    </LayoutProvider>\n                </Suspense>\n            </AppContainer>\n        )\n    }\n    return <AppLoader/>\n}\n\nexport default memo(hot(App))\n","/**\n * jQuery form/json converter plugin\n * Original author: @dantenetto \n * Licensed under the MIT license\n */\nimport $ from 'jquery'\n\nlet controlsWrapper;\n\ncontrolsWrapper = {\n    _getSelectOneValue: function (select) {\n        return select.val();\n    },\n\n    _getSelectMultipleValue: function (select) {\n        let values = [];\n\n        $.each(select[0].options, function (i, option) {\n            let $option = $(option);\n\n            if ($option.is(':selected')) {\n                values.push($option.val());\n            }\n        });\n\n        return values;\n    },\n\n    getSelectValue: function (select) {\n        let type,\n            value;\n\n        type = select[0].type;\n\n        if (type === 'select-one') {\n            value = this._getSelectOneValue(select);\n        } else {\n            value = this._getSelectMultipleValue(select);\n        }\n\n        return value;\n    },\n\n    getCheckboxValue: function (checkbox) {\n        if (!checkbox.is(':checked')) {\n            return '';\n        }\n\n        return checkbox.val();\n    },\n\n    getValues: function (container, keyFilter) {\n        let formObject = {};\n\n        container.find('input, select, textarea').each(function (i, node) {\n            let key, disabled, type, value, $node;\n\n            $node = $(node);\n\n            key = $node.attr($.fn.inputValues.opts.attr);\n            disabled = $node.is(':disabled');\n\n            //skipping disabled or no-matches if necessary\n            if (!key\n                || (!$.fn.inputValues.opts.includeDisabled && disabled)\n                || (keyFilter && (key !== keyFilter))) {\n                return;\n            }\n\n            switch (node.type) {\n                case 'radio':\n                    if (!$node.is(':checked')) {\n                        formObject[key] = formObject[key] || '';\n                        break;\n                    }\n\n                    formObject[key] = $node.val();\n                    break;\n\n                case 'checkbox':\n                    if (!$node.is(':checked')) {\n                        formObject[key] = formObject[key] || '';\n                        break;\n                    }\n\n                    if (!formObject.hasOwnProperty(key) || !formObject[key]) {\n                        formObject[key] = $node.val();\n                        break;\n                    }\n\n                    if (!$.isArray(formObject[key])) {\n                        value = [formObject[key]];\n                        formObject[key] = value;\n                    }\n\n                    formObject[key].push($node.val());\n                    break;\n\n                case 'select-one':\n                    formObject[key] = $node.val();\n                    break;\n\n                case 'select-multiple':\n                    formObject[key] = [];\n                    $.each(node.options, function (i, option) {\n                        let $option = $(option);\n                        if ($option.is(':selected')) {\n                            formObject[key].push($option.val());\n                        }\n                    });\n                    break;\n\n                //atributos que devem ser ignorados\n                case 'button':\n                case 'reset':\n                case 'image':\n                case undefined:\n                    break;\n\n                default:\n                    formObject[key] = $node.val();\n            }\n        });\n\n        if (keyFilter) return formObject[keyFilter];\n\n        return formObject;\n    },\n\n\n    setSelectValue: function (select, value) {\n        let i, size, option;\n\n        select.val(null);\n\n        if (!$.isArray(value)) {\n            select.val(value);\n            return;\n        }\n\n        for (i = 0, size = value.length; i < size; i += 1) {\n            option = select.find('option[value=\"' + value[i] + '\"]');\n            option.prop('selected', true);\n        }\n    },\n\n    //radio or checkbox\n    _checkCheckableValue: function (checkable, value) {\n        if (!$.isArray(value)) {\n            value = [value];\n        }\n\n        $.each(value, function (i) {\n            value[i] = '' + value[i];\n        });\n\n        if ($.inArray(checkable.val(), value) > -1) {\n            checkable.prop('checked', true);\n            return true;\n        }\n\n        return false;\n    },\n\n    checkCheckboxesValue: function (checkbox, value) {\n        let i, size, anyWasChecked = false;\n\n        checkbox.prop('checked', false);\n\n        for (i = 0, size = checkbox.length; i < size; i += 1) {\n            if (this._checkCheckableValue(checkbox.eq(i), value)) {\n                anyWasChecked = true;\n            }\n        }\n\n        return anyWasChecked;\n    },\n\n    checkRadiosValue: function (radios, value) {\n        let i, size;\n\n        radios.prop('checked', false);\n\n        for (i = 0, size = radios.length; i < size; i += 1) {\n            if (this._checkCheckableValue(radios.eq(i), ('' + value))) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    setValues: function (container, values) {\n        let key, nodes, filter, type,\n            attr = $.fn.inputValues.opts.attr;\n\n        for (key in values) {\n            if (!values.hasOwnProperty(key)) continue;\n\n            filter = '[' + attr + '=\"' + key + '\"]';\n            nodes = container.find(filter);\n\n            if (nodes.length === 0) { continue; }\n\n            type = nodes[0].type;\n\n            switch (type) {\n                case 'select-one':\n                case 'select-multiple':\n                    this.setSelectValue(nodes, values[key]);\n                    break;\n\n                case 'radio':\n                    this.checkRadiosValue(nodes, values[key]);\n                    break;\n\n                case 'checkbox':\n                    this.checkCheckboxesValue(nodes, values[key]);\n                    break;\n\n                case 'file':\n                    //fileinput can only be setted to empty string\n                    if (values[key] !== '') continue;\n\n                    nodes.val('');\n                    break;\n\n                //não existe controle de valores para esses tipos de input\n                case 'button':\n                case 'image':\n                case 'reset':\n                case undefined:\n                    break;\n\n                default:\n                    nodes.val(values[key]);\n            }\n        }\n    }\n};\n\n//publishing\n$.fn.inputValues = function (paramA, paramB) {\n    let values;\n\n    //getting all values from element set\n    if (!paramA) return controlsWrapper.getValues(this);\n\n    if (typeof paramA === 'string') {\n        //getting only values with the specific name\n        if (paramB === undefined) return controlsWrapper.getValues(this, paramA);\n\n        values = {};\n        values[paramA] = paramB ;\n    } else {\n        values = paramA;\n    }\n\n    controlsWrapper.setValues(this, values);\n\n    return this;\n};\n\n$.fn.inputValues.opts = {\n    attr: 'name',\n    includeDisabled: false\n};\n\n$.fn.inputValues.config = function (opts) {\n    $.fn.inputValues.opts = $.extend($.fn.inputValues.opts, opts);\n\n    return this;\n};","// Needed for redux-saga es6 generator support\r\nimport 'react-app-polyfill/stable';\r\n\r\n// CSS\r\nimport 'sanitize.css/sanitize.css'\r\nimport './styles/index.scss'\r\n\r\n// Plugins\r\nimport 'jquery-serializeobject'\r\nimport './plugins/input-values.jquery'\r\n\r\n\r\nwindow.BASE_URL = window.BASE_URL ? window.BASE_URL : '/'","import Store from './Store'\r\nimport '@core/bootstrap'\r\n\r\nimport './styles/index.scss'\r\nimport 'leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css'\r\n\r\n\r\nwindow.store = Store","import * as serviceWorker from '@core/serviceWorker'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport App from './app/App'\nimport history from '@core/utils/history'\nimport configureStore from '@core/configureStore'\n\nimport 'app/bootstrap'\n\n\n// Create redux store with history\nconst initialState = {};\nconst store = configureStore(initialState, {}, history);\n\nconst MOUNT_NODE = document.getElementById('root')\nconst render = () => ReactDOM.render((\n    <Provider store={store}>\n        <ConnectedRouter history={history}>\n            <App />\n        </ConnectedRouter>\n    </Provider>\n), MOUNT_NODE);\n\nrender()\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { routerMiddleware } from 'connected-react-router'\r\nimport createReducer from './reducers'\r\nimport { configureStore as baseConfigureStore, getDefaultMiddleware, createSagaMiddleware  } from '@ttungbmt/redux-toolkit'\r\nimport { loadingBarMiddleware } from 'react-redux-loading-bar'\r\n\r\nexport default function configureStore(initialState = {}, injectedReducers = {}, history) {\r\n    const reduxSagaMonitorOptions = {};\r\n\r\n    const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions);\r\n\r\n    const store = baseConfigureStore({\r\n        reducer: createReducer(),\r\n        preloadedState: initialState,\r\n        middleware: [\r\n            ...getDefaultMiddleware(),\r\n            sagaMiddleware,\r\n            routerMiddleware(history),\r\n            loadingBarMiddleware({\r\n                promiseTypeSuffixes: ['REQUEST', 'SUCCESS', 'FAILURE'],\r\n            })\r\n        ],\r\n    })\r\n\r\n\r\n\r\n    // Extensions\r\n    store.runSaga = sagaMiddleware.run;\r\n    store.injectedReducers = {}; // Reducer registry\r\n    store.injectedSagas = {}; // Saga registry\r\n\r\n    // Make reducers hot reloadable\r\n    if (process.env.NODE_ENV === 'development' && module.hot) {\r\n        module.hot.accept('./reducers', () => {\r\n            const newRootReducer = createReducer(store.injectedReducers)\r\n            store.replaceReducer(newRootReducer)\r\n        })\r\n    }\r\n\r\n    return store;\r\n}","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const KEY = 'pcd'\r\n\r\nlet initialState = {\r\n    odich: {\r\n        radius: 200,\r\n        combineCir: true\r\n    },\r\n    khoanhvung: []\r\n}\r\n\r\nconst reducers = {\r\n    setCombineCir: (state, {payload}) => {\r\n        state.odich.combineCir = payload\r\n    },\r\n    khoanhVung: (state, {payload}) => {\r\n        state.khoanhvung.push(payload)\r\n    },\r\n    removeAllKhoanhVung: (state, {payload}) => {\r\n        state.khoanhvung = []\r\n    },\r\n}\r\n\r\nconst odichSlice = createSlice({\r\n    name: KEY,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\n\r\nexport default odichSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport {KEY} from './pcd.slice'\r\n\r\nexport const getRadius = createSelector([KEY], (s) => s.odich.radius || 200)\r\nexport const getOdichConf = createSelector([KEY], (s) => s.odich || {})","export default function* pcdSaga() {\r\n\r\n}\r\n\r\n","import pcdSlice from './pcd.slice'\r\nimport * as pcdActs from './pcd.actions'\r\n\r\nexport { KEY } from './pcd.slice'\r\n\r\nexport const actions = {\r\n    ...pcdSlice.actions,\r\n    ...pcdActs\r\n}\r\n\r\nexport * as selectors from './pcd.selectors'\r\nexport { default as saga } from './pcd.saga'\r\nexport const reducer = pcdSlice.reducer\r\nexport const slice = pcdSlice\r\n\r\n","module.exports = _;","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nexport const create = createAction(`model/odich/CREATE`)\r\nexport const createMany = createAction(`model/odich/CREATE_MANY`)\r\nexport const remove = createAction(`model/odich/REMOVE`)\r\nexport const removeAll = createAction(`model/odich/REMOVE_ALL`)\r\nexport const update = createAction(`model/odich/UPDATE`)\r\nexport const khoanhVungOd = createAction(`model/odich/UPDATE`)\r\nexport const addCabenh = createAction(`model/odich/ADD_CABENH`)\r\nexport const updateRangeValue = createAction(`model/odich/UPDATE_RANGE_VALUE`)\r\nexport const setLoading = createAction(`model/odich/LOADING`)\r\nexport const selected = createAction(`model/odich/SELECTED`)\r\n\r\nexport const runSlider = createAction(`@odich/RUN_ODICH`)\r\nexport const stopSlider = createAction(`@odich/STOP_ODICH`)\r\nexport const khoanhVung = createAction(`@odich/KHOANHVUNG`)\r\nexport const clickOdich = createAction(`@odich/CLICK_ODICH`)\r\nexport const panToCabenhCir = createAction(`@odich/PAN_TO_CABENH_CIRCLE`)\r\nexport const showDetail = createAction(`@odich/SHOW_DETAIL`)\r\nexport const searchSemiAutoOD = createAction(`@odich/SEARCH_SEMI_AUTO_OD`)\r\nexport const createAutoOD = createAction(`@odich/CREATE_AUTO_OD`)\r\nexport const showPopDnc = createAction(`@odich/SHOW_POPUP_DNC`)\r\n\r\n\r\n","import {EventEmitter} from 'fbemitter'\r\n\r\nconst emitter = new EventEmitter\r\n\r\nemitter.on = emitter.addListener\r\nemitter.off = emitter.removeAllListeners\r\n\r\nexport default emitter","import { useEffect } from 'react'\r\n\r\nexport default function useDidMount(f){\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => typeof f === \"function\" && f(), [])\r\n}","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useDidUpdate(f, conditions){\r\n    const didMoutRef = useRef(false)\r\n    useEffect(() => {\r\n        if (!didMoutRef.current) {\r\n            didMoutRef.current = true\r\n            return\r\n        }\r\n\r\n        // Cleanup effects when f returns a function\r\n        return f && f()\r\n    }, conditions)\r\n}","import { useEffect, useReducer, useState } from 'react'\r\nimport { isString, assign } from 'lodash-es'\r\nimport axios, {CancelToken} from 'axios';\r\nimport { createAction } from \"@reduxjs/toolkit\"\r\n\r\nconst fetchInit = createAction('FETCH_INIT'),\r\n    fetchSuccess = createAction('FETCH_SUCCESS'),\r\n    fetchFailure = createAction('FETCH_FAILURE')\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    data: null,\r\n    error: null,\r\n};\r\n\r\nfunction reducer(state, {type, payload}) {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            state = assign({}, initialState, {loading: true})\r\n            break\r\n        case 'FETCH_SUCCESS':\r\n            state = assign(state, {loading: false, data: payload})\r\n            break\r\n        case 'FETCH_FAILURE':\r\n            state = assign(state, {loading: false, error: payload})\r\n            break\r\n        case 'RESET':\r\n            state.data = null\r\n            break\r\n        default:\r\n            throw new Error()\r\n    }\r\n}\r\n\r\nasync function fetchData({onSuccess, ...config}, dispatch) {\r\n    try {\r\n        dispatch(fetchInit());\r\n        const {data} = await axios(config)\r\n        dispatch(fetchSuccess(data));\r\n        if (onSuccess) onSuccess(data)\r\n    } catch (err) {\r\n        dispatch(fetchFailure(err));\r\n    }\r\n}\r\n\r\n// function useFetch(config) {\r\n//     if (isString(config)) {\r\n//         config = {\r\n//             url: config\r\n//         }\r\n//     }\r\n//\r\n//     const [state, dispatch] = useImmerReducer(reducer, initialState)\r\n//\r\n//     useLayoutEffect(() => {\r\n//         let didCancel = false;\r\n//         fetchData({...config, didCancel}, dispatch)\r\n//         return () => {\r\n//             dispatch({type: 'RESET'})\r\n//             didCancel = true\r\n//         }\r\n//     }, [JSON.stringify(config)])\r\n//\r\n//     const reset = () => dispatch({type: 'RESET'})\r\n//\r\n//     return  [\r\n//         state,\r\n//         reset\r\n//     ]\r\n// }\r\nconst dataFetchReducer = (state, {type, payload}) => {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            return {\r\n                data: null,\r\n                loading: true,\r\n                isError: false\r\n            };\r\n        case 'FETCH_SUCCESS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isError: false,\r\n                data: payload,\r\n            };\r\n        case 'FETCH_FAILURE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isError: true,\r\n            };\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\n\r\n\r\nfunction useFetch(config) {\r\n    if (isString(config)) {\r\n        config = {\r\n            url: config\r\n        }\r\n    }\r\n    const {customHandler, trigger, ...conf} = config\r\n    const [innerTrigger, setInnerTrigger] = useState(0);\r\n    const [state, dispatch] = useReducer(dataFetchReducer, initialState);\r\n\r\n    let outerTrigger;\r\n    try {\r\n        outerTrigger = JSON.stringify({...trigger, url: conf.url});\r\n    } catch (err) {\r\n        //\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!conf.url) return;\r\n\r\n        const source = CancelToken.source();\r\n        fetchData({...conf, cancelToken: source.token}, dispatch)\r\n        return () => {\r\n            source.cancel();\r\n        }\r\n    }, [outerTrigger, innerTrigger])\r\n\r\n    return {\r\n        ...state,\r\n        isShown: !state.loading && state.data,\r\n        refresh: () => {\r\n            setInnerTrigger(+new Date());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default useFetch","import React, { useState, createElement, createContext, useEffect, useContext, useMemo, useCallback } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { map } from 'lodash-es'\r\nimport { useWillUnmount } from './index'\r\n\r\nexport const ModalContext = createContext()\r\n\r\nexport const ModalProvider = ({children}) => {\r\n    const [modals, setModals] = useImmer({});\r\n    let timeoutHack\r\n\r\n    const onShow = useCallback((key, component, data) => {\r\n\r\n        setModals(state => {\r\n            state[key] = {isOpen: true, isVisible: true, component, data}\r\n        })\r\n    }, [modals, setModals])\r\n\r\n    const onHide = useCallback((key, onClose) => {\r\n        timeoutHack = setTimeout(() => {\r\n            setModals(state => {delete state[key]})\r\n            clearTimeout(timeoutHack);\r\n        }, 500);\r\n\r\n        setModals(state => {state[key].isOpen = false})\r\n\r\n        if (onClose) onClose()\r\n    }, [modals, setModals])\r\n\r\n    const contextValue = useMemo(() => ({onShow, onHide}), [onShow, onHide])\r\n\r\n    return (\r\n        <ModalContext.Provider value={contextValue}>\r\n            {children}\r\n            {map(modals, ({component, isOpen, data}, key) =>\r\n                component &&\r\n                createElement(component, {\r\n                    key: key,\r\n                    isOpen: isOpen,\r\n                    onClose: () => onHide(key),\r\n                    ...data,\r\n                })\r\n            )}\r\n        </ModalContext.Provider>\r\n    )\r\n}\r\n\r\nconst generateModalKey = (() => {\r\n    let count = 0;\r\n    return () => `${++count}`;\r\n})();\r\n\r\n\r\nfunction useModal(component, inputs = {}, onClose) {\r\n    const key = useMemo(generateModalKey, []);\r\n    const context = useContext(ModalContext);\r\n    const modal = useMemo(() => component, []);\r\n\r\n    const onShow = useCallback((modalData) => {\r\n        context.onShow(key, modal, (modalData && modalData.nativeEvent instanceof Event) ? inputs : {...inputs, ...modalData})\r\n    }, [context, inputs])\r\n\r\n    const onHide = useCallback(() => context.onHide(key, onClose), [context])\r\n\r\n    return Object.assign([\r\n        onShow,\r\n        onHide\r\n    ], {})\r\n}\r\n\r\n\r\nexport default useModal\r\n\r\n","import URI from 'urijs'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nfunction useQueryString() {\r\n    const location = useLocation()\r\n    return URI.parseQuery(location.search)\r\n}\r\n\r\nexport default useQueryString","import { Model, attr, many } from 'redux-orm'\r\nimport slice from '../reducers/cabenh/cabenh.slice'\r\n\r\nclass Cabenh extends Model {\r\n\r\n    toString() {\r\n        return `Cabenh: ${this.name}`\r\n    }\r\n\r\n}\r\n\r\nCabenh.modelName = 'Cabenh'\r\nCabenh.reducers = slice.caseReducers\r\n\r\nCabenh.fields = {\r\n    id: attr(),\r\n\r\n}\r\n\r\nexport default Cabenh","import { Model, attr, many } from 'redux-orm'\r\nimport slice from \"../reducers/odich/odich.slice\";\r\n\r\nclass Odich extends Model {\r\n    toString() {\r\n        return `Odich: ${this.name}`\r\n    }\r\n}\r\n\r\nOdich.modelName = 'Odich'\r\nOdich.reducers = slice.caseReducers\r\n\r\nOdich.fields = {\r\n    id: attr(),\r\n    play: attr(),\r\n    range: attr(),\r\n    selected: attr({getDefault: () => false}),\r\n    loading: attr({getDefault: () => false}),\r\n    timer: attr({getDefault: () => 1000}),\r\n    runStatus: attr({getDefault: () => 'Stopped'}),\r\n    cabenhs: many('Cabenh', 'odichs')\r\n}\r\n\r\nexport default Odich","import { ORM } from 'redux-orm'\r\n\r\nimport { Odich, Cabenh } from '../../models'\r\n\r\nconst orm = new ORM({\r\n    stateSelector: state => state.orm,\r\n});\r\n\r\norm.register(Odich, Cabenh)\r\n\r\nexport default orm","import { createSelector as ormCreateSelector } from 'redux-orm'\r\nimport orm from '../orm/orm'\r\nimport { toCenter } from '@ttungbmt/geo'\r\n\r\n\r\n\r\nexport const getCabenhById = ormCreateSelector(\r\n    orm,\r\n    (_, id) => id,\r\n    ({Cabenh}, id) => {\r\n        return Cabenh.filter({gid: id}).first()\r\n    }\r\n)\r\n\r\n","import { mapValues } from '@ttungbmt/utils'\r\nimport axios from 'axios'\r\n\r\n/*\r\n# SYNTAX\r\n{\r\n    method: 'post',\r\n    url: '',\r\n    data: '',\r\n    transformRequest: [(data, headers) => data],\r\n    transformResponse: [(data) => JSON.parse(data)],\r\n}\r\n*/\r\n\r\nclass Client {\r\n    options = {\r\n        method: 'get'\r\n    }\r\n\r\n    fetch(request){\r\n        return axios({\r\n            ...this.options,\r\n            ...request\r\n        })\r\n    }\r\n}\r\n\r\nclass Api extends Client{\r\n    getCabenh = (id) => {\r\n        return this.fetch({\r\n            url: '/maps/cabenh',\r\n            params: {\r\n                id\r\n            }\r\n        })\r\n    }\r\n\r\n    // getCabenhs: () => ({\r\n    //     url: '/sxh/maps/ds-sxh',\r\n    //     transformResponse: [(data) => JSON.parse(data)],\r\n    // })\r\n    //\r\n    // getOdichs: () => ({\r\n    //     url: '/sxh/maps/ds-odich',\r\n    // })\r\n    //\r\n    // getDncs: () => ({\r\n    //     url: '/sxh/maps/ds-dnc',\r\n    // })\r\n    //\r\n    // getToAh: () => ({\r\n    //     url: '/api/odich/to-ah'\r\n    // })\r\n    //\r\n    // getOdDnc: () => ({\r\n    //     url: '/api/odich/tim-dnc'\r\n    // })\r\n    //\r\n    // getOdichAuto: () => ({\r\n    //     url: '/api/odich/tim-cabenh'\r\n    // })\r\n    //\r\n    // getOdichSemiAuto: () => ({\r\n    //     url: '/api/odich/tim-odich?table=cabenh_sxh'\r\n    // })\r\n    //\r\n    // postTaoOdich: () => ({\r\n    //     url: 'admin/odich-sxh/create?cabenh_ids=154654'\r\n    // })\r\n    //\r\n    // getHomeData: () => ({\r\n    //     url: '/sxh/maps/home'\r\n    // })\r\n}\r\n\r\nexport const api = new Api\r\n\r\nexport default Client","import { put, delay, takeEvery, call } from 'redux-saga/effects'\r\nimport { actions as cabenhActs } from \"../cabenh\";\r\nimport { actions as mapActs } from \"@ttungbmt/redux-leaflet\"\r\nimport { api } from 'app/services'\r\n\r\nexport default function* cabenhSaga() {\r\n    yield takeEvery(cabenhActs.clickCabenh.type, onClickCabenh)\r\n    yield takeEvery(cabenhActs.clickDnc.type, onClickDnc)\r\n    yield takeEvery(cabenhActs.showPopCabenh.type, showPopCabenh)\r\n}\r\n\r\nfunction* onClickCabenh({payload}) {\r\n    yield call(onRowClick, {\r\n        payload: {\r\n            ...payload,\r\n            _key: 'cabenh_sxh'\r\n        }\r\n    })\r\n}\r\n\r\nfunction* onClickDnc({payload}) {\r\n    yield call(onRowClick, {\r\n        payload: {\r\n            ...payload,\r\n            _key: 'dnc'\r\n        }\r\n    })\r\n}\r\n\r\nfunction* onRowClick({payload}) {\r\n    const {geometry, ...props} = payload\r\n    if (geometry) {\r\n        yield put(mapActs.resetPopup())\r\n        yield delay(10)\r\n        yield put(mapActs.createPopup({key: payload._key, model: payload}))\r\n        yield put(mapActs.setCenter(geometry))\r\n    }\r\n}\r\n\r\n\r\nfunction* showPopCabenh({payload: {id}}) {\r\n    try {\r\n        const {data} = yield call(api.getCabenh, id)\r\n        yield put(cabenhActs.clickCabenh(data.data))\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n}\r\n","export const KEY = 'cabenh'\r\n\r\nexport * as actions from './cabenh.actions'\r\nexport * as selectors from './cabenh.selectors'\r\nexport {default as slice} from './cabenh.slice'\r\nexport { default as saga } from './cabenh.saga'\r\n\r\n","import { transform } from 'lodash-es'\r\n\r\nfunction getAttrsDOM() {\r\n    return transform(node[0].attributes, (attrs,attribute) => {\r\n        attrs[attribute.name] = attribute.value;\r\n    },{})\r\n}\r\n\r\nexport default getAttrsDOM","import $ from 'jquery'\r\n\r\nfunction getDuplicateIds() {\r\n    let ids = []\r\n    $('[id]').each(function(){\r\n        let id = $('[id=\"'+this.id+'\"]')\r\n        if(id.length >1 && id[0]==this) {\r\n            ids.push(this.id)\r\n        }\r\n    })\r\n\r\n    return ids\r\n}\r\n\r\nexport default getDuplicateIds","import {update as _update, isPlainObject, merge, isFunction } from 'lodash-es'\r\n\r\nfunction updateIn (object, path, updater) {\r\n    if(isFunction(updater)) return _update(object, path, updater)\r\n\r\n    if(isPlainObject(updater)) return _update(object, path, v => merge(v, updater))\r\n\r\n    return object\r\n}\r\n\r\nexport default updateIn","import {update, merge} from 'lodash-es'\r\n\r\nfunction appendIn(object, path, value) {\r\n    return update(object, path, v => merge(v, value))\r\n}\r\n\r\nexport default appendIn","import {update} from 'lodash-es'\r\n\r\nfunction appendIn(object, path, value) {\r\n    return update(object, path, v => v.concat(value))\r\n}\r\n\r\nexport default appendIn","import {update, castArray} from 'lodash-es'\r\n\r\nfunction prependIn(object, path, value) {\r\n    return update(object, path, v => castArray(value).concat(v))\r\n}\r\n\r\nexport default prependIn","import {update, filter} from 'lodash-es'\r\n\r\nfunction filterIn(object, path, predicate) {\r\n    return update(object, path, v => filter(v, predicate))\r\n}\r\n\r\nexport default filterIn","import {update, reject} from 'lodash-es'\r\n\r\nfunction deleteIn(object, path, predicate) {\r\n    return update(object, path, v => reject(v, predicate))\r\n}\r\n\r\nexport default deleteIn","import {get, filter, reject, merge, isFunction, map} from 'lodash-es'\r\n\r\nfunction mergeFilterIn(object, path, predicate, respTrue, respFalse) {\r\n    let data = get(object, path, [])\r\n\r\n    map(filter(data, predicate), v2 => {\r\n        if (isFunction(respTrue)) {\r\n            respTrue(v2)\r\n        } else {\r\n            v2 = merge(v2, respTrue)\r\n        }\r\n    })\r\n\r\n    if(respFalse){\r\n        map(reject(data, predicate), v2 => {\r\n            if (isFunction(respFalse)) {\r\n                respFalse(v2)\r\n            } else {\r\n                v2 = merge(v2, respFalse)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default mergeFilterIn","import {filter, reject, merge, isFunction, map} from 'lodash-es'\r\n\r\nfunction mergeFilter(data, predicate, respTrue, respFalse) {\r\n    map(filter(data, predicate), v2 => {\r\n        if (isFunction(respTrue)) {\r\n            respTrue(v2)\r\n        } else {\r\n            v2 = merge(v2, respTrue)\r\n        }\r\n    })\r\n\r\n    if(respFalse){\r\n        map(reject(data, predicate), v2 => {\r\n            if (isFunction(respFalse)) {\r\n                respFalse(v2)\r\n            } else {\r\n                v2 = merge(v2, respFalse)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default mergeFilter","import { update, findIndex, findKey, isArray, get, isFunction } from 'lodash-es'\r\n\r\nfunction replaceFilterIn(object, path, predicate, updater) {\r\n    let item = get(object, path)\r\n    let key = null\r\n    if(isArray(item)){\r\n        key = findIndex(item, predicate)\r\n    } else {\r\n        key = findKey(item, predicate)\r\n    }\r\n\r\n    if(key >= 0){\r\n        update(object, `${path}.${key}`, v => {\r\n            if(isFunction(updater)) return updater(v)\r\n            return updater\r\n        })\r\n    }\r\n\r\n    return object\r\n}\r\n\r\nexport default replaceFilterIn","function baseUniqid (prefix, more_entropy) {\r\n    //  discuss at: http://locutus.io/php/uniqid/\r\n    // original by: Kevin van Zonneveld (http://kvz.io)\r\n    //  revised by: Kankrelune (http://www.webfaktory.info/)\r\n    //      note 1: Uses an internal counter (in locutus global) to avoid collision\r\n    //   example 1: var $id = uniqid()\r\n    //   example 1: var $result = $id.length === 13\r\n    //   returns 1: true\r\n    //   example 2: var $id = uniqid('foo')\r\n    //   example 2: var $result = $id.length === (13 + 'foo'.length)\r\n    //   returns 2: true\r\n    //   example 3: var $id = uniqid('bar', true)\r\n    //   example 3: var $result = $id.length === (23 + 'bar'.length)\r\n    //   returns 3: true\r\n\r\n    if (typeof prefix === 'undefined') {\r\n        prefix = ''\r\n    }\r\n\r\n    var retId\r\n    var _formatSeed = function (seed, reqWidth) {\r\n        seed = parseInt(seed, 10).toString(16) // to hex str\r\n        if (reqWidth < seed.length) {\r\n            // so long we split\r\n            return seed.slice(seed.length - reqWidth)\r\n        }\r\n        if (reqWidth > seed.length) {\r\n            // so short we pad\r\n            return Array(1 + (reqWidth - seed.length)).join('0') + seed\r\n        }\r\n        return seed\r\n    }\r\n\r\n    var $global = (typeof window !== 'undefined' ? window : global)\r\n    $global.$locutus = $global.$locutus || {}\r\n    var $locutus = $global.$locutus\r\n    $locutus.php = $locutus.php || {}\r\n\r\n    if (!$locutus.php.uniqidSeed) {\r\n        // init seed with big random int\r\n        $locutus.php.uniqidSeed = Math.floor(Math.random() * 0x75bcd15)\r\n    }\r\n    $locutus.php.uniqidSeed++\r\n\r\n    // start with prefix, add current milliseconds hex string\r\n    retId = prefix\r\n    retId += _formatSeed(parseInt(new Date().getTime() / 1000, 10), 8)\r\n    // add seed hex string\r\n    retId += _formatSeed($locutus.php.uniqidSeed, 5)\r\n    if (more_entropy) {\r\n        // for more entropy we add a float lower to 10\r\n        retId += (Math.random() * 10).toFixed(8).toString()\r\n    }\r\n\r\n    return retId\r\n}\r\n\r\nfunction uniqid(prefix, suffix) {\r\n    return (prefix || '') + baseUniqid() || (suffix || '');\r\n}\r\n\r\nexport default uniqid","import { get, isArray } from 'lodash-es'\r\n\r\nfunction getOrValue(object, path, defaultValue) {\r\n    if(isArray(path)){\r\n        for (let p of path) {\r\n            if(get(object, p)){\r\n                return get(object, p)\r\n            }\r\n        }\r\n    }\r\n    return defaultValue\r\n}\r\n\r\nexport default getOrValue","function orValue() {\r\n    for (let i in arguments) {\r\n        if (arguments[i]) {\r\n            return arguments[i]\r\n        }\r\n    }\r\n}\r\n\r\nexport default orValue","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = clipNumber;\n/**\n * Clip the number to interval `downLimit` to `upLimit`.\n *\n * @ignore\n * @function clipNumber\n * @param {number} value The number to clip\n * @param {number} downLimit The down limit\n * @param {number} upLimit The upper limit\n * @return {number} The clipped number\n */\nfunction clipNumber(value, downLimit, upLimit) {\n  if (value <= downLimit) {\n    return downLimit;\n  }\n  if (value >= upLimit) {\n    return upLimit;\n  }\n  return value;\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNil;\n/**\n * Checks if `value` is `null` or `undefined`\n *\n * @ignore\n * @function isNil\n * @param {*} value The object to check\n * @return {boolean} Returns `true` is `value` is `undefined` or `null`, `false` otherwise\n */\nfunction isNil(value) {\n  return value === undefined || value === null;\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isString;\n/**\n * Checks whether `subject` is a string primitive type.\n *\n * @function isString\n * @static\n * @since 1.0.0\n * @memberOf Query\n * @param {string} subject The value to verify.\n * @return {boolean} Returns `true` if `subject` is string primitive type or `false` otherwise.\n * @example\n * v.isString('vacation');\n * // => true\n *\n * v.isString(560);\n * // => false\n */\nfunction isString(subject) {\n  return typeof subject === 'string';\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = coerceToString;\n\nvar _is_nil = require('../object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _is_string = require('../../is_string');\n\nvar _is_string2 = _interopRequireDefault(_is_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get the string representation of the `value`.\n * Converts the `value` to string.\n * If `value` is `null` or `undefined`, return `defaultValue`.\n *\n * @ignore\n * @function toString\n * @param {*} value             The value to convert.\n * @param {*} [defaultValue=''] The default value to return.\n * @return {string|null}        Returns the string representation of `value`. Returns `defaultValue` if `value` is\n *                              `null` or `undefined`.\n */\nfunction coerceToString(value) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  if ((0, _is_nil2.default)(value)) {\n    return defaultValue;\n  }\n  if ((0, _is_string2.default)(value)) {\n    return value;\n  }\n  return String(value);\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Max save integer value\n *\n * @ignore\n * @type {number}\n */\nvar MAX_SAFE_INTEGER = exports.MAX_SAFE_INTEGER = 0x1fffffffffffff;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInteger;\n\nvar _const = require('./const');\n\n/**\n * Transforms `value` to an integer.\n *\n * @ignore\n * @function toInteger\n * @param {number} value The number to transform.\n * @returns {number} Returns the transformed integer.\n */\nfunction toInteger(value) {\n  if (value === Infinity) {\n    return _const.MAX_SAFE_INTEGER;\n  }\n  if (value === -Infinity) {\n    return -_const.MAX_SAFE_INTEGER;\n  }\n  return ~~value;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toString;\n\nvar _is_nil = require('../object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _is_string = require('../../is_string');\n\nvar _is_string2 = _interopRequireDefault(_is_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get the string representation of the `value`.\n * Converts the `value` to string.\n *\n * @ignore\n * @function toString\n * @param {*} value             The value to convert.\n * @return {string|null}        Returns the string representation of `value`.\n */\nfunction toString(value) {\n  if ((0, _is_nil2.default)(value)) {\n    return null;\n  }\n  if ((0, _is_string2.default)(value)) {\n    return value;\n  }\n  return String(value);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = includes;\n\nvar _clip_number = require('./helper/number/clip_number');\n\nvar _clip_number2 = _interopRequireDefault(_clip_number);\n\nvar _coerce_to_string = require('./helper/string/coerce_to_string');\n\nvar _coerce_to_string2 = _interopRequireDefault(_coerce_to_string);\n\nvar _is_nil = require('./helper/object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _to_integer = require('./helper/number/to_integer');\n\nvar _to_integer2 = _interopRequireDefault(_to_integer);\n\nvar _to_string = require('./helper/string/to_string');\n\nvar _to_string2 = _interopRequireDefault(_to_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Checks whether `subject` includes `search` starting from `position`.\n *\n * @function includes\n * @static\n * @since 1.0.0\n * @memberOf Query\n * @param {string} [subject=''] The string where to search.\n * @param {string} search The string to search.\n * @param {number} [position=0] The position to start searching.\n * @return {boolean} Returns `true` if `subject` includes `search` or `false` otherwise.\n * @example\n * v.includes('starship', 'star');\n * // => true\n *\n * v.includes('galaxy', 'g', 1);\n * // => false\n */\nfunction includes(subject, search, position) {\n  var subjectString = (0, _coerce_to_string2.default)(subject);\n  var searchString = (0, _to_string2.default)(search);\n  if (searchString === null) {\n    return false;\n  }\n  if (searchString === '') {\n    return true;\n  }\n  position = (0, _is_nil2.default)(position) ? 0 : (0, _clip_number2.default)((0, _to_integer2.default)(position), 0, subjectString.length);\n  return subjectString.indexOf(searchString, position) !== -1;\n}\nmodule.exports = exports['default'];","import { isString } from 'lodash-es'\r\n\r\nfunction toBool(val) {\r\n    if (isString(val)) {\r\n        val = val.toLowerCase();\r\n        return val !== '0' && val !== '' && val !== 'false';\r\n    }\r\n\r\n    return !!val;\r\n}\r\n\r\nexport default toBool","import { get, isUndefined } from 'lodash-es'\r\n\r\nfunction parseJSON(json) {\r\n    const reviver = (key, value) => {\r\n        if (value && typeof value === \"string\") {\r\n            let regrex1 = /^\\s*function\\s*[\\d\\w]*\\s*\\([\\d\\w,\\s]*[^,]\\)\\s*{[\\s\\S]*}\\s*;?\\s*/, // function(){};\r\n                regrex2 = /^\\s*\\([a-zA-Z0-1,\\s]*[^,]\\)\\s*(=>)\\s*{[\\s\\S]*}\\s*;?\\s*$/, // () => {};\r\n                regrex3 = /^\\s*```js([\\s\\S]*)```\\s*$/  // ```js new Object() ```\r\n\r\n            if ((regrex1.test(value) || regrex2.test(value))) {\r\n                // let startBody = value.indexOf('{') + 1;\r\n                // let endBody = value.lastIndexOf('}');\r\n                // let startArgs = value.indexOf('(') + 1;\r\n                // let endArgs = value.indexOf(')');\r\n                // return new Function(value.substring(startArgs, endArgs), value.substring(startBody, endBody));\r\n                try {\r\n                    return new Function(`return ${value}`)()\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error string function in JSON: ${value}`)\r\n                }\r\n            } else if (regrex3.test(value)) {\r\n                try {\r\n                    let jsStr = regrex3.exec(value),\r\n                        js = eval(get(jsStr, 1))\r\n                    return isUndefined(js) ? null : js\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error JS in JSON: ${value} \\n`, err)\r\n                }\r\n            }\r\n\r\n        }\r\n        return value;\r\n    }\r\n\r\n\r\n    return JSON.parse(json, reviver)\r\n}\r\n\r\nexport default parseJSON","import { get } from 'lodash-es'\r\n\r\nfunction stringifyJSON() {\r\n    const replacerFn = (k, v) => {\r\n        // if we get a function, give us the code for that function\r\n        if (typeof v === 'function') {\r\n            return v.toString();\r\n        }\r\n        return v;\r\n    }\r\n\r\n    let value = get(arguments, 0),\r\n        replacer = get(arguments, 1, replacerFn),\r\n        // get a stringified version of our object\r\n        // and indent the keys at 2 spaces\r\n        indent = get(arguments, 2, 2)\r\n\r\n    return JSON.stringify(value, replacer, indent)\r\n}\r\n\r\nexport default stringifyJSON","import URI from 'urijs'\r\nimport { isString } from 'lodash-es'\r\n\r\nfunction isURL(value) {\r\n    return isString(value) && URI(value).is('url')\r\n}\r\n\r\nexport default isURL","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction assertString(input) {\n  var isString = typeof input === 'string' || input instanceof String;\n\n  if (!isString) {\n    var invalidType;\n\n    if (input === null) {\n      invalidType = 'null';\n    } else {\n      invalidType = _typeof(input);\n\n      if (invalidType === 'object' && input.constructor && input.constructor.hasOwnProperty('name')) {\n        invalidType = input.constructor.name;\n      } else {\n        invalidType = \"a \".concat(invalidType);\n      }\n    }\n\n    throw new TypeError(\"Expected string but received \".concat(invalidType, \".\"));\n  }\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isJSON;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isJSON(str) {\n  (0, _assertString.default)(str);\n\n  try {\n    var obj = JSON.parse(str);\n    return !!obj && _typeof(obj) === 'object';\n  } catch (e) {\n    /* ignore */\n  }\n\n  return false;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","import { isString } from \"lodash-es\";\r\nimport _isJSON from 'validator/lib/isJSON';\r\n\r\nfunction isJSONStr(value) {\r\n    return isString(value) && _isJSON(value)\r\n}\r\n\r\nexport default isJSONStr","import { isObject, isString } from \"lodash-es\";\r\nimport isJSONStr from './isJSONStr'\r\n\r\nfunction isJSON(value) {\r\n    if (isObject(value)) value = JSON.stringify(value)\r\n    return isJSONStr(value)\r\n}\r\n\r\nexport default isJSON","import { get, isString, isPlainObject, isFunction } from 'lodash-es'\r\nimport Handlebars from 'handlebars/dist/cjs/handlebars'\r\n\r\nconst template = (tpl, data) => {\r\n    let content = ''\r\n\r\n    if (isString(tpl)) {\r\n        try {\r\n            content = Handlebars.compile(tpl)(data)\r\n        } catch (e) {\r\n            console.error(e);\r\n            content = tpl\r\n        }\r\n        return content\r\n    } else if (isPlainObject(tpl)) {\r\n        let url = get(tpl, 'url')\r\n        return $.post(url, data)\r\n    } else if (isFunction(tpl)) {\r\n        content = tpl(data)\r\n    }\r\n\r\n    return content\r\n}\r\n\r\nexport default template","import { isArray, isFunction, isPlainObject, isString, get, has } from 'lodash-es'\r\nimport template from './template'\r\n\r\n// Ex: fieldsToStr([{label: 'Địa chỉ {{order}}', value: 'diachi'}], '<li><b>{{label}}</b>: {{value}}</li>', data)\r\nconst fieldsToStr = (fields, tpl, data = {}) => {\r\n    let str = ''\r\n\r\n    if (!isArray(fields)) return []\r\n    fields.map(f => {\r\n        let label, value\r\n\r\n        if (isFunction(f)) {\r\n            str += f(data)\r\n        } else if (isPlainObject(f)) {\r\n            if (isFunction(label)) label = label(data)\r\n            label = get(f, 'label')\r\n            if (isString(label)) label = template(label, data)\r\n            // --\r\n            if (isFunction(value)) {\r\n                value = value(data)\r\n            } else {\r\n                let v = get(f, 'value')\r\n                if (has(data, v)) {\r\n                    value = get(data, v)\r\n                } else {\r\n                    value = template(v, data)\r\n                }\r\n            }\r\n\r\n            str += template(tpl, {label, value})\r\n\r\n        } else if (isString(f)) {\r\n            label = f\r\n            value = get(data, f)\r\n\r\n            if (has(data, f)) {\r\n                str += template(tpl, {label, value})\r\n            }\r\n        }\r\n\r\n    })\r\n\r\n    return str\r\n}\r\n\r\nexport default fieldsToStr\r\n\r\n","import { get, map, isArray, isString, isPlainObject } from 'lodash-es'\r\nimport template from './template'\r\nimport fieldsToStr from './fieldsToStr'\r\n\r\n// _.popupToContent({title: 'Hello', fields: [{label: '<span>Dia chi</span>', value: 'diachi'}]}, data)\r\nconst popupToContent = (popup, data, options) => {\r\n    if (isArray(popup)) return map(popup, v => popupToContent(v, data))\r\n    if(isPlainObject(popup)){\r\n        let\r\n            title = get(popup, 'title'),\r\n            content = get(popup, 'content'),\r\n            itemTpl = get(popup, 'template'),\r\n            fields = get(popup, 'fields'),\r\n            tpl = get(options, 'template', `<div class=\"pop-wrapper\"><div class=\"pop-title text-uppercase\">{{{title}}}</div> <div class=\"pop-body\"> <ul> {{{content}}} </ul> </div> </div>`),\r\n            params = get(options, 'params', {})\r\n\r\n        if (content) return content\r\n        if (itemTpl) return template(itemTpl, data)\r\n\r\n        title = template(title, data)\r\n        content = fieldsToStr(fields, '<li><b>{{{label}}}</b>: {{{value}}}</li>', data)\r\n\r\n        return template(tpl, {...params, title, content})\r\n    } else if(isString(popup)){\r\n        return template(popup, data)\r\n    }\r\n\r\n}\r\n\r\nexport default popupToContent\r\n","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nexport const clickCabenh = createAction(`model/cabenh_sxh/CLICK`)\r\nexport const createCabenh = createAction(`model/cabenh_sxh/CREATE`)\r\nexport const createMany = createAction(`model/cabenh_sxh/CREATE_MANY`)\r\nexport const selected = createAction(`model/cabenh_sxh/SELECTED`)\r\nexport const removeAll = createAction(`model/cabenh_sxh/DELETE_ALL`)\r\nexport const deleteCabenhById = createAction(`model/cabenh_sxh/DELETE_BY_ID`)\r\nexport const remove = createAction(`model/cabenh_sxh/REMOVE`)\r\n\r\nexport const clickDnc = createAction(`model/dnc/CLICK`)\r\nexport const showPopCabenh = createAction(`model/cabenh/SHOE_POP_CABENH`)\r\n","import { createSelector as ormCreateSelector } from 'redux-orm'\r\nimport orm from 'app/reducers/orm/orm'\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\nimport { get, isArray, isNumber } from '@ttungbmt/utils'\r\nimport { selectors as pcdSels } from \"app/reducers/pcd\";\r\nimport { matchPath } from 'react-router'\r\n\r\n\r\nexport const getOdich = ormCreateSelector(\r\n    orm.Odich,\r\n    orm.Odich.cabenhs,\r\n    (odichs, cabenhs) => {\r\n        if (!odichs) return {}\r\n\r\n        let odFn = (o, cb) => ({\r\n            ...o,\r\n            cabenhs: cb.map(c => ({\r\n                ...c,\r\n            }))\r\n        })\r\n\r\n        if (isArray(odichs)) return odichs.map((o, k) => odFn(o, get(cabenhs, k, [])))\r\n        return odFn(odichs, cabenhs)\r\n    }\r\n)\r\n\r\nexport const getRange = ormCreateSelector(\r\n    orm.Odich.range,\r\n    (range) => range ? range : ({\r\n        minMax: [],\r\n        value: [],\r\n    })\r\n)\r\n\r\nexport const getCabenhs = ormCreateSelector(\r\n    orm.Odich.cabenhs,\r\n    (cabenhs) => cabenhs ? cabenhs.map(c => ({...c, position: toCenter(c.geometry)})) : []\r\n)\r\n\r\nconst getPathname = (state) => state.router.location.pathname\r\n\r\nexport const getOdichMap = ormCreateSelector(\r\n    orm.Odich,\r\n    orm.Odich.cabenhs,\r\n    pcdSels.getOdichConf,\r\n    getPathname,\r\n    (odichs, cabenhs, options, pathname) => {\r\n        let id = get(matchPath(pathname, {path: '/maps/odich/view/:id'}), 'params.id')\r\n\r\n        return odichs\r\n            .map((o, k) => ({\r\n                ...o,\r\n                options,\r\n                cabenhs: get(cabenhs, k, []).filter(c => c.geometry).map(c => ({\r\n                    ...c,\r\n                    position: toCenter(c.geometry)\r\n                }))\r\n            }))\r\n            .filter(o => {\r\n                return id ? o.id === parseInt(id) : true\r\n            })\r\n    }\r\n)\r\n\r\n\r\n\r\n","import { createSelector } from \"@ttungbmt/redux-toolkit\"\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nexport const getPathname = createSelector(['router'], router => get(router, 'location.pathname'))","import { put, delay, takeEvery, select, take, fork, cancel, call, takeLatest } from 'redux-saga/effects'\r\nimport { selectors as mapSels } from '@ttungbmt/redux-leaflet'\r\nimport { push } from 'connected-react-router'\r\nimport { map, get, flatten } from '@ttungbmt/utils'\r\nimport axios from 'axios'\r\n\r\nimport { actions as cabenhActs, selectors as cabenhSels } from '../cabenh'\r\nimport { actions as odichActs, selectors as odichSels } from './index'\r\nimport { actions as mapActs } from \"@ttungbmt/redux-leaflet\";\r\nimport { isEmpty, head, uniq } from '@ttungbmt/utils'\r\n\r\nimport { toCenter, toBounds } from '@ttungbmt/geo'\r\nimport { getPathname } from \"@core/selectors/router\"\r\nimport { getRangeDate } from \"app/utils\";\r\n\r\nexport default function* odichSaga() {\r\n    yield takeEvery(odichActs.khoanhVung.type, onKhoanhVung)\r\n    yield takeEvery(odichActs.clickOdich.type, clickOdich)\r\n    yield takeEvery(odichActs.panToCabenhCir.type, panToCabenhCir)\r\n    yield takeLatest(odichActs.searchSemiAutoOD.type, searchSemiAutoOD)\r\n    yield takeLatest(odichActs.createAutoOD.type, createAutoOD)\r\n    yield takeLatest(odichActs.showPopDnc.type, showPopDnc)\r\n\r\n    yield runSliderOdich()\r\n}\r\n\r\nfunction* onKhoanhVung({payload: id}) {\r\n    const item = yield select(state => mapSels.getPopItemById(state, id))\r\n    const cabenh = yield select(state => cabenhSels.getCabenhById(state, id))\r\n\r\n    if (cabenh) {\r\n        alert(`Ca bệnh này đã được khoanh vùng`)\r\n        return null\r\n    }\r\n\r\n    const pathname = yield select(getPathname)\r\n    if (pathname === '/maps/odich/view/0') {\r\n        yield put(odichActs.addCabenh({id: 0, cabenhs: [item.model]}))\r\n        return null\r\n    }\r\n\r\n\r\n    yield put(odichActs.removeAll())\r\n    yield delay(10)\r\n    yield put(odichActs.create({id: 0, source: 'wms', cabenhs: [item.model]}))\r\n    yield put(push('/maps/odich/view/0'))\r\n}\r\n\r\nfunction* clickOdich({payload: {redirect, ...payload}}) {\r\n    if(redirect)  yield put(push(redirect))\r\n    yield put(mapActs.resetPopup())\r\n    yield delay(5)\r\n\r\n    const id = payload.id\r\n    let bounds, geoArr, model = payload.props\r\n\r\n    if(id === 0){\r\n        let cabenhs = payload.cabenhs.filter(c => c.geometry)\r\n        yield put(odichActs.removeAll({id}))\r\n\r\n        if(isEmpty(cabenhs)) return null\r\n        geoArr = map(cabenhs, 'geometry')\r\n        bounds = toBounds(geoArr)\r\n\r\n        yield put(odichActs.create({id: 0, source: 'list', cabenhs, odich_id: model.gid}))\r\n    } else if(id > 0){\r\n        let cabenhs = yield select(state => odichSels.getCabenhs(state, id))\r\n        if(isEmpty(cabenhs)) return null\r\n\r\n        geoArr = map(cabenhs, 'geometry')\r\n        bounds = toBounds(geoArr)\r\n        yield put(odichActs.selected(id))\r\n    }\r\n\r\n    if(geoArr) yield put(mapActs.createPopup({key: 'odich', model: {...model, geometry: toCenter(geoArr, 'geometry')}}))\r\n    if(bounds) {\r\n        yield delay(2)\r\n        yield put(mapActs.setBounds(bounds))\r\n    }\r\n}\r\n\r\nfunction* panToCabenhCir({payload}) {\r\n    const {geometry, id} = payload\r\n    yield put(cabenhActs.selected(id))\r\n    yield put(mapActs.setCenter(geometry))\r\n\r\n}\r\n\r\nfunction* showPopDnc({payload}) {\r\n    if(!payload.geometry) return null\r\n    yield put(mapActs.resetPopup())\r\n    yield delay(5)\r\n    yield put(mapActs.createPopup({key: 'dnc', model: payload}))\r\n    yield put(mapActs.setCenter(payload.geometry))\r\n}\r\n\r\nfunction* changeRangeValue({payload}) {\r\n    let cabenhs = yield select(state => odichSels.getCabenhs(state, payload.id)),\r\n        dates = uniq(getRangeDate(cabenhs)),\r\n        index = 0\r\n\r\n\r\n    while (true) {\r\n        yield delay(1000)\r\n        if (dates[index]) {\r\n            yield put(odichActs.updateRangeValue({id: payload.id, value: [head(dates), dates[index]]}))\r\n            index++\r\n        } else {\r\n            yield put(odichActs.stopSlider(payload))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction* runSliderOdich() {\r\n    while (true) {\r\n        // starts the task in the background\r\n        const action = yield take(odichActs.runSlider.type)\r\n        const bgSyncTask = yield fork(changeRangeValue, {payload: action.payload})\r\n        // wait for the user stop action\r\n        yield take(odichActs.stopSlider.type)\r\n        // user clicked stop. cancel the background task\r\n        // this will throw a SagaCancellationException into task\r\n        yield cancel(bgSyncTask)\r\n    }\r\n}\r\n\r\n\r\nfunction* searchSemiAutoOD({payload}) {\r\n    let cabenhIds = map(payload.cabenhs, 'gid')\r\n    yield put(odichActs.setLoading({value: true, id: 0}))\r\n\r\n    try {\r\n        const {data} = yield call(axios.post, `/api/odich/tim-cabenh`, {cabenhIds})\r\n        if (!isEmpty(get(data, 'odichs', []))) {\r\n            let cabenhs = get(data, 'odichs.0.cabenhs', []).map(c => get(data.cabenhs, c.id))\r\n            yield put(cabenhActs.remove(cabenhIds))\r\n            yield put(odichActs.addCabenh({id: payload.id, source: 'tool', cabenhs}))\r\n        }\r\n\r\n        yield put(odichActs.setLoading({value: false, id: 0}))\r\n    } catch (e) {\r\n        yield put(odichActs.setLoading({value: false, id: 0}))\r\n        console.error(e)\r\n    }\r\n}\r\n\r\nfunction* createAutoOD({payload: data}) {\r\n    let models = transformOdich(data),\r\n        geomArr = map(flatten(map(models, 'cabenhs')).filter(g => g.geometry), 'geometry'),\r\n        bounds = toBounds(geomArr)\r\n\r\n\r\n    yield put(odichActs.removeAll())\r\n    yield put(odichActs.create(models))\r\n\r\n    if(bounds) yield put(mapActs.setBounds(bounds))\r\n}\r\n\r\nfunction transformOdich(data) {\r\n    let dbCabenhs = data.cabenhs\r\n\r\n    return map(data.odichs).map(({cabenhs}, k) => {\r\n        return {\r\n            id: k+1,\r\n            source: 'tool',\r\n            cabenhs: cabenhs.map(({id: gid, ...pc}) => {\r\n                return {\r\n                    ...get(dbCabenhs, gid, {}),\r\n                    ...pc,\r\n                    gid,\r\n                }\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\n","import odichSlice from './odich.slice'\r\nimport * as odichActs from './odich.actions'\r\n\r\nexport const actions = {\r\n    ...odichActs\r\n}\r\n\r\nexport * as selectors from './odich.selectors'\r\nexport { default as saga } from './odich.saga'\r\nexport const slice = odichSlice\r\n\r\n","import React, { memo } from 'react'\r\nimport styles from './style.module.scss'\r\n\r\nfunction AppLoader({text = 'LOADING'}) {\r\n    return (\r\n        <div className={styles.loader_wrapper}>\r\n            <div className={styles.loader}/>\r\n            <div className={styles.text}>\r\n                {text}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(AppLoader)","import React, { memo } from 'react'\r\nimport { Tooltip } from 'react-tippy'\r\nimport 'react-tippy/dist/tippy.css'\r\n\r\nfunction Tippy({children, ...props}) {\r\n    if(!props.title) return children\r\n\r\n    return <Tooltip size=\"small\" {...props}>{children}</Tooltip>\r\n}\r\n\r\nexport default memo(Tippy)","import React, {memo, useEffect, useRef} from 'react'\r\nimport $ from \"jquery\"\r\n\r\nfunction InnerHTML({html}) {\r\n    const divRef = useRef()\r\n    useEffect(() => {\r\n        $(divRef.current).html(html)\r\n    }, [])\r\n\r\n    return <div ref={divRef}/>\r\n}\r\n\r\nexport default memo(InnerHTML)","// import React, { Component } from 'react'\r\n// import PropTypes from 'prop-types'\r\n// import 'ion-rangeslider'\r\n// // import 'ion-rangeslider/css/ion.rangeSlider.skinFlat.css'\r\n// import moment from 'moment'\r\n// import { isEqual } from 'lodash'\r\n//\r\n// class RangeSlider extends Component {\r\n//     static propTypes = {\r\n//         type: PropTypes.string, // single, double\r\n//         grid: PropTypes.bool,\r\n//         // min: PropTypes.number,\r\n//         // max: PropTypes.number,\r\n//         from: PropTypes.number,\r\n//         to: PropTypes.number,\r\n//         step: PropTypes.number,\r\n//         values: PropTypes.array,\r\n//         from_min: PropTypes.number,\r\n//         from_max: PropTypes.number,\r\n//         disable: PropTypes.bool,\r\n//\r\n//         onStart: PropTypes.func,\r\n//         onChange: PropTypes.func,\r\n//         onFinish: PropTypes.func,\r\n//         onUpdate: PropTypes.func,\r\n//\r\n//     }\r\n//\r\n//     static defaultProps = {\r\n//         grid: true,\r\n//         type: 'double',\r\n//     }\r\n//\r\n//     componentDidMount() {\r\n//         this.onInit()\r\n//     }\r\n//\r\n//     onInit(){\r\n//         const options = this.props\r\n//         $(this.node).ionRangeSlider({...options})\r\n//         this.$el = $(this.node).data('ionRangeSlider');\r\n//     }\r\n//\r\n//     onDestroy(){\r\n//         this.$el.destroy()\r\n//     }\r\n//\r\n//     onReinit(){\r\n//         this.onDestroy()\r\n//         this.onInit()\r\n//     }\r\n//\r\n//     onReset(){\r\n//         this.$el.reset()\r\n//     }\r\n//\r\n//     componentDidUpdate(prevProps, prevState, prevContext) {\r\n//         const {max, min} = this.props\r\n//\r\n//         if (!isEqual(prevProps.min, min) || !isEqual(prevProps.max, max)) {\r\n//             this.$el.update({max, min, from: min, to: max})\r\n//         }\r\n//     }\r\n//\r\n//\r\n//     componentWillUnmount() {\r\n//         this.onDestroy()\r\n//     }\r\n//\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 <input ref={s => this.node = s}/>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n//\r\n// export default RangeSlider\r\n\r\nimport React, { memo, useRef, useEffect } from 'react'\r\nimport {useDidMount, useDidUpdate} from '@ttungbmt/react-hooks'\r\nimport PropTypes from 'prop-types'\r\nimport $ from 'jquery'\r\n\r\nimport 'ion-rangeslider'\r\nimport 'ion-rangeslider/css/ion.rangeSlider.min.css'\r\n\r\nfunction RangeSlider(props) {\r\n    const ref = useRef(),\r\n        ionSliderRange = useRef(),\r\n        watchProps = {\r\n            min: props.min,\r\n            max: props.max,\r\n            from: props.from,\r\n            to: props.to,\r\n        }\r\n\r\n\r\n    const update = (_options) => {\r\n        const options = (({style, className, key, id, ...others}) => ({...others}))(props)\r\n        ionSliderRange.current && ionSliderRange.current.update(_options || options)\r\n    }\r\n\r\n    useDidMount(() => {\r\n        const options = (({style, className, key, id, ...others}) => ({...others}))(props)\r\n        $(ref.current).ionRangeSlider(options)\r\n        ionSliderRange.current = $(ref.current).data('ionRangeSlider')\r\n    })\r\n\r\n    useDidUpdate(() => {\r\n        update()\r\n    }, [JSON.stringify(watchProps)])\r\n\r\n\r\n\r\n    return <div><input type=\"text\" ref={ref}/></div>\r\n}\r\n\r\nRangeSlider.defaultProps = {\r\n    skin: 'flat'\r\n}\r\n\r\nRangeSlider.propTypes = {\r\n    /* Basic setup */\r\n    type: PropTypes.string,\r\n    min: PropTypes.number,\r\n    max: PropTypes.number,\r\n    from: PropTypes.number,\r\n    to: PropTypes.number,\r\n\r\n    /* Advanced setup */\r\n    step: PropTypes.number,\r\n    values: PropTypes.array,\r\n    keyboard: PropTypes.bool,\r\n\r\n    /* Grid setup */\r\n    grid: PropTypes.bool,\r\n    grid_margin: PropTypes.bool,\r\n    grid_num: PropTypes.number,\r\n    grid_snap: PropTypes.bool,\r\n\r\n    /* Interval control */\r\n    drag_interval: PropTypes.bool,\r\n    min_interval: PropTypes.number,\r\n    max_interval: PropTypes.number,\r\n\r\n    /* Handles control */\r\n    from_fixed: PropTypes.bool,\r\n    from_min: PropTypes.number,\r\n    from_max: PropTypes.number,\r\n    from_shadow: PropTypes.bool,\r\n    to_fixed: PropTypes.bool,\r\n    to_min: PropTypes.number,\r\n    to_max: PropTypes.number,\r\n    to_shadow: PropTypes.bool,\r\n\r\n    /* UI control */\r\n    skin: PropTypes.string,\r\n    hide_min_max: PropTypes.bool,\r\n    hide_from_to: PropTypes.bool,\r\n    force_edges: PropTypes.bool,\r\n    extra_classes: PropTypes.string,\r\n    block: PropTypes.bool,\r\n\r\n    /* Prettify numbers */\r\n    prettify_enabled: PropTypes.bool,\r\n    prettify_separator: PropTypes.string,\r\n    prettify: PropTypes.func,\r\n    prefix: PropTypes.string,\r\n    postfix: PropTypes.string,\r\n    max_postfix: PropTypes.string,\r\n    decorate_both: PropTypes.bool,\r\n    value_separator: PropTypes.string,\r\n\r\n    /* Data control */\r\n    input_values_separator: PropTypes.string,\r\n    disable: PropTypes.bool,\r\n\r\n    /* Callbacks */\r\n    scope: PropTypes.object,\r\n    onStart: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    onFinish: PropTypes.func,\r\n    onUpdate: PropTypes.func\r\n}\r\n\r\nexport default memo(RangeSlider)","import React, { memo } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nfunction BtnSubmit({children, loading, ...props}) {\r\n    return (\r\n        <Button disabled={loading} {...props}>\r\n            {loading && <i className=\"icon-spinner2 spinner mr-1\"/>} {children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nBtnSubmit.defaultProps = {\r\n    variant: 'contained',\r\n    color: 'primary'\r\n}\r\n\r\nexport default memo(BtnSubmit)","import React, { memo, useEffect, useRef, useMemo } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { jsPanel } from 'jspanel4'\r\nimport 'jspanel4/dist/jspanel.min.css'\r\n\r\nfunction JsPanel({isOpen, setOpen, children, title, ...props}) {\r\n    let contenRef = useRef(),\r\n        panelRef = useRef()\r\n\r\n    const [opts, setOpts] = useImmer({\r\n        width: null, height: null,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if(isOpen){\r\n            panelRef.current = jsPanel.create({\r\n                theme: {\r\n                    // bgPanel: '#03a9f4',\r\n                    bgPanel: 'url(\"https://jspanel.de/img/trianglify-primary.svg\") right bottom',\r\n                    colorHeader: '#ffffff',\r\n                    // bgContent: '#67989A',\r\n                    // colorContent: '#ffffff'\r\n                },\r\n                // headerToolbar: 'header toolbar ...',\r\n                // footerToolbar: 'footer toolbar ...',\r\n                iconfont: 'material-icons',\r\n                headerLogo: `<i class='icon-stack2 ml-2'></i>`,\r\n                headerTitle: title,\r\n                closeOnEscape: true,\r\n                headerControls: {\r\n                    smallify: 'remove',\r\n                    size: 'md'\r\n                },\r\n                borderRadius: '4px',\r\n                position: 'center-top 0 58',\r\n                content: contenRef.current,\r\n                resizeit: {\r\n                    minWidth: 350,\r\n                    minHeight: 200,\r\n                    stop: function (panel, paneldata, e) {\r\n                        setOpts(state => {\r\n                            state.width = paneldata.width\r\n                            state.height = paneldata.height\r\n                        })\r\n                    }\r\n                },\r\n                onclosed: function(panel, closedByUser){\r\n                    panelRef.current = undefined\r\n                    setOpen(false)\r\n                },\r\n                // contentSize: {\r\n                //     width: 'auto',\r\n                //     height: 'auto'\r\n                // }\r\n                // panelSize: {\r\n                //     width: 'auto',\r\n                //     height: 'auto'\r\n                // }\r\n                // setStatus: 'maximized'\r\n                    ...props\r\n            })\r\n\r\n            console.log(props);\r\n\r\n            if(opts.width || opts.height) panelRef.current.resize({width: opts.width, height: opts.height}).reposition()\r\n        } else {\r\n            console.log(panelRef.current);\r\n            panelRef.current && panelRef.current.close()\r\n        }\r\n\r\n        return () => {\r\n\r\n        }\r\n    }, [isOpen])\r\n\r\n    // useEffect(() => {\r\n    //     console.log(opts.width || opts.height);\r\n    //\r\n    // }, [opts.width, opts.height])\r\n\r\n    return (\r\n        <div ref={contenRef} style={{display: isOpen ? 'inherit' : 'none'}}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nJsPanel.defaultProps = {\r\n    title: 'My Panel'\r\n}\r\n\r\nexport default memo(JsPanel)","import React, { memo } from 'react'\r\nimport { isBoolean } from 'lodash-es'\r\nimport BaseBox from '@material-ui/core/Box';\r\n\r\nfunction Box(props) {\r\n    const {flex, row, column, wrap, grow, shrink, bold, regular, h100, style = {}, uppercase, relative,\r\n        absolute, ...outter} = props\r\n    let inner = {style}\r\n\r\n    if (flex) inner.display = 'flex'\r\n    if (row) inner.flexDirection = 'row'\r\n    if (column) inner.flexDirection = 'column'\r\n    if (wrap) inner.flexWrap = 'wrap'\r\n    if (shrink) inner.flexShrink = isBoolean(shrink) ? 1 : shrink\r\n    if (grow) inner.flexGrow = isBoolean(grow) ? 1 : grow\r\n    if (regular) inner.fontWeight = 'fontWeightRegular'\r\n    if (bold) inner.fontWeight = 500\r\n    if (h100) inner.style.height = '100%'\r\n    if (uppercase) inner.style.textTransform = 'uppercase'\r\n    if (relative) inner.position = 'relative'\r\n    if (absolute) inner.position = 'absolute'\r\n\r\n    return <BaseBox {...inner} {...outter}/>\r\n}\r\n\r\nexport default memo(Box)","export { default as Slot } from './Slot'\r\nexport { default as AppLoader } from './AppLoader'\r\nexport { default as Tooltip } from './Tooltip'\r\nexport { default as InnerHTML } from './InnerHTML'\r\nexport { default as RangeSlider } from './RangeSlider'\r\nexport { default as BtnSubmit } from './BtnSubmit'\r\nexport { default as JsPanel } from './JsPanel'\r\n\r\n// Material UI\r\nexport { default as Button } from '@material-ui/core/Button'\r\nexport { default as Box } from './Box'\r\nexport { default as Grid } from '@material-ui/core/Grid'\r\nexport { default as Typography } from '@material-ui/core/Typography'\r\nexport { default as Hidden } from '@material-ui/core/Hidden'\r\nexport { Alert } from '@material-ui/lab'","import Vuex from 'vuex'\r\nimport { get } from '@ttungbmt/utils'\r\nimport pathify from 'vuex-pathify'\r\n\r\nconst moduleMap = {\r\n    state: {\r\n        boundary: null,\r\n    },\r\n    mutations: {\r\n        setMap(state, data){\r\n            state.boundary = data.boundary\r\n        }\r\n    },\r\n    actions: {\r\n\r\n    },\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        catalog: {}\r\n    },\r\n    getters: {\r\n        getCat: state => (name) => {\r\n            return get(state, `catalog.${name}`)\r\n        }\r\n    },\r\n    mutations: {\r\n        setCat(state, data) {\r\n            state.catalog = data\r\n        }\r\n    },\r\n    actions: {\r\n\r\n    },\r\n    modules: {\r\n        map: moduleMap\r\n    },\r\n    plugins: [ pathify.plugin ],\r\n})\r\n\r\nexport default store\r\n\r\nexport const getters = store.getters","import { map } from '@ttungbmt/utils'\r\nimport moment from './moment'\r\n\r\nexport const getRangeDate = (arr, field = 'ngaymacbenh_nv') => map(arr, field).filter(i => i).map(v => moment(v, 'L').unix()).sort()\r\n","import * as moment from 'moment/moment.js'\r\nimport 'moment/locale/vi.js'\r\n\r\nexport default moment","import { uniqid, includes } from '@ttungbmt/utils'\r\nimport * as acts from './cabenh.actions'\r\n\r\nconst cabenhSlice = {\r\n    caseReducers: {\r\n        [acts.createCabenh.type]: ({payload}, Cabenh) => {\r\n            Cabenh.create({...payload, id: uniqid()})\r\n        },\r\n        [acts.createMany.type]: ({payload}, Cabenh) => {\r\n            payload.filter(p => p.geometry).map(p => Cabenh.create({...p, id: uniqid()}))\r\n        },\r\n        [acts.selected.type]: ({payload: id}, Cabenh) => {\r\n            Cabenh.all().update({selected: false})\r\n            Cabenh.withId(id).update({selected: true})\r\n        },\r\n        [acts.removeAll.type]: ({payload}, Cabenh) => {\r\n            Cabenh.all().delete();\r\n        },\r\n        [acts.deleteCabenhById.type]: ({payload: id}, Cabenh) => {\r\n            Cabenh.filter({gid: id}).delete()\r\n        },\r\n        [acts.remove.type]: ({payload: ids}, Cabenh) => {\r\n            Cabenh.filter(c => includes(ids, c.gid)).delete()\r\n        },\r\n    }\r\n}\r\n\r\nexport default cabenhSlice","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'auth'\r\n\r\nlet initialState = {\r\n    user: {},\r\n    roles: [],\r\n    permissions: [],\r\n}\r\n\r\nconst authSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setAuth(state, {payload}) {\r\n            state.user = payload.user\r\n            state.roles = payload.roles\r\n            state.permissions = payload.permissions\r\n        }\r\n    },\r\n})\r\n\r\n\r\n\r\nexport default authSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\n\r\nimport slice, {name} from './slice'\r\n\r\nconst getAuth = createSelector(['auth'], r => r)\r\n\r\n\r\nexport const actions = {\r\n    ...slice.actions\r\n}\r\n\r\n\r\nexport const selectors = {\r\n    getAuth,\r\n}\r\n\r\nexport default slice.reducer","import * as acts from './odich.actions'\r\nimport { head, last, isArray, isPlainObject } from '@ttungbmt/utils'\r\n\r\nimport { getRangeDate } from 'app/utils'\r\n\r\nfunction createOdich({Odich, Cabenh}, {id, cabenhs, source, ...props}) {\r\n    let dates = getRangeDate(cabenhs)\r\n\r\n    const model = Odich.create({\r\n        ...props,\r\n        id,\r\n        source,\r\n        range: {\r\n            minMax: [head(dates), last(dates)],\r\n            value: [head(dates), last(dates)]\r\n        }\r\n    })\r\n    cabenhs.map(c => model.cabenhs.add(Cabenh.create(c)))\r\n}\r\n\r\nconst odichSlice = {\r\n    caseReducers: {\r\n        [acts.addCabenh.type]: ({payload}, Odich, {Cabenh}) => {\r\n            let model = Odich.withId(payload.id)\r\n            if(!model) model = Odich.create(payload.id)\r\n\r\n            payload.cabenhs.map(c => model.cabenhs.add(Cabenh.create(c)))\r\n\r\n            let dates = getRangeDate(model.cabenhs.all().toRefArray())\r\n\r\n            model.update({\r\n                source: payload.source,\r\n                range: {\r\n                    minMax: [head(dates), last(dates)],\r\n                    value: [head(dates), last(dates)]\r\n                }\r\n            })\r\n        },\r\n\r\n        [acts.create.type]: ({payload}, Odich, session) => {\r\n            if(isArray(payload)) {\r\n                payload.map(i => createOdich(session, i))\r\n            } else {\r\n                createOdich(session, payload)\r\n            }\r\n        },\r\n        [acts.update.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({range: payload.range})\r\n        },\r\n        [acts.remove.type]: ({payload: id}, Odich) => {\r\n            const model = Odich.withId(id)\r\n            model.cabenhs.all().delete()\r\n            model.delete()\r\n        },\r\n        [acts.removeAll.type]: ({payload}, Odich) => {\r\n            let models = Odich.all()\r\n            if(isPlainObject(payload)){\r\n                models.filter(payload)\r\n            }\r\n\r\n            models.toModelArray().map(m => m.cabenhs.all().delete())\r\n            models.delete()\r\n        },\r\n        [acts.updateRangeValue.type]: ({payload}, Odich) => {\r\n            const model = Odich.withId(payload.id)\r\n            model.update({range: {...model.range, value: payload.value}})\r\n        },\r\n        [acts.runSlider.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({runStatus: 'Running'})\r\n        },\r\n        [acts.stopSlider.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({runStatus: 'Stopped'})\r\n        },\r\n        [acts.setLoading.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({loading: payload.value})\r\n        },\r\n        [acts.selected.type]: ({payload: id}, Odich) => {\r\n            Odich.all().filter(({id}) => id > 0).update({selected: false})\r\n            Odich.withId(id).update({selected: true})\r\n        },\r\n    }\r\n}\r\n\r\nexport default odichSlice","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"style_text__1zVxJ\",\"loader_wrapper\":\"style_loader_wrapper__yXF7d\",\"loader\":\"style_loader__3EzLM\",\"spin\":\"style_spin__mDqhH\"};","module.exports = Vue;","import React, {memo} from 'react'\r\nimport { castArray, get } from \"lodash-es\"\r\n\r\nexport const isSlot = (o) => get(o, 'type.type.name') === 'Slot'\r\nexport const filterSlot = (arr, name) => arr.filter(o => isSlot(o) && o.props.name === name)\r\n\r\nexport const hasChildren = p => {\r\n    const arr = castArray(p)\r\n    for (let i in arr) {\r\n        if(get(arr[i], 'props.children')){\r\n            return true\r\n        }\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nfunction Slot({children}) {\r\n    return (\r\n        <>\r\n            {children}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(Slot)","module.exports = jQuery;","import L, { TileLayer, setOptions } from 'leaflet'\r\nimport { getFeatureInfoUrl } from \"@ttungbmt/geo\";\r\nimport { uniqid } from \"@ttungbmt/utils\";\r\nimport 'leaflet.nontiledlayer'\r\n\r\nconst getOptions = ({uuid, ...options}) => ({\r\n    format: 'image/png',\r\n    transparent: true,\r\n    ...options\r\n})\r\n\r\nexport const TileWMSLayer = TileLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        TileLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport const SingleTileWMSLayer = L.NonTiledLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        L.NonTiledLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport function tileWMSLayer(url, {tiled, ...options}) {\r\n    return tiled ? new SingleTileWMSLayer (url, options) : new TileWMSLayer(url, options);\r\n}\r\n\r\n","import { createSelector, createSlice, createAction, combineReducers, emitter, useDispatch, useSelector, compose, connect } from '@ttungbmt/redux-toolkit';\nimport { defaults, isEmpty, cloneDeep, get, toBool, omit, findIndex, mergeFilter, includes, str_contains, map, isPlainObject, find, filter, uniqid, isArray, isString, remove, head, orderBy, isUndefined, isEqual as isEqual$1 } from '@ttungbmt/utils';\nimport { toCenter, toBounds, getWMSLayers } from '@ttungbmt/geo';\nimport _, { map as map$1 } from 'lodash-es';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport React, { memo, useEffect, useRef, cloneElement, Fragment } from 'react';\nimport { tileWMSLayer } from '@ttungbmt/leaflet-wms';\nimport { isEqual } from '@ttungbmt/validator';\nimport PropTypes from 'prop-types';\nimport L, { TileLayer as TileLayer$2, Control, GeoJSON as GeoJSON$2 } from 'leaflet';\nimport { LayersControl, withLeaflet, GridLayer, useLeaflet, Popup, MapControl, ZoomControl, ScaleControl, AttributionControl, Map, Marker as Marker$2, Path } from 'react-leaflet';\nexport { AttributionControl, Circle, CircleMarker, FeatureGroup, GridLayer, ImageOverlay, LayerGroup, LayersControl, Map, Polygon, Polyline, Popup, Rectangle, ScaleControl, Tooltip, VideoOverlay, ZoomControl, useLeaflet, withLeaflet } from 'react-leaflet';\nimport { geosearch } from 'esri-leaflet-geocoder';\nimport 'leaflet-fullscreen';\nimport 'leaflet.locatecontrol';\nimport 'leaflet.polylinemeasure';\nimport SideBySide from 'leaflet-side-by-side';\nimport { useModal, useDidMount } from '@ttungbmt/react-hooks';\nimport { Modal, ProgressBar, Button } from 'react-bootstrap';\nimport leafletImage from 'leaflet-image';\nimport ReactCrop from 'react-image-crop';\nimport { useImmer } from 'use-immer';\nimport FileSaver from 'file-saver';\nimport 'leaflet-extra-markers';\n\nvar KEY = 'map';\nvar BASEMAP = 'basemap';\nvar OVERLAY = 'overlay';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar getConfig = createSelector([[KEY, 'config']], function (config) {\n  return config || {};\n});\nvar getZoom = createSelector([getConfig], function (config) {\n  return config.zoom;\n});\n\nvar selectors = /*#__PURE__*/Object.freeze({\n  getConfig: getConfig,\n  getZoom: getZoom\n});\n\n\n\nvar actions = /*#__PURE__*/Object.freeze({\n\n});\n\nvar name = \"\".concat(KEY, \".config\");\nvar initialState = {\n  center: [10.804476, 106.639384],\n  zoom: 10 // bounds: []\n\n};\nvar reducers = {\n  setConfig: function setConfig(state, _ref) {\n    var payload = _ref.payload;\n    return _objectSpread2({}, initialState, {}, payload);\n  },\n  setCenter: function setCenter(state, _ref2) {\n    var payload = _ref2.payload;\n    state.center = toCenter(payload);\n  },\n  setZoom: function setZoom(state, _ref3) {\n    var payload = _ref3.payload;\n    state.zoom = payload;\n  },\n  setBounds: function setBounds(state, _ref4) {\n    var payload = _ref4.payload;\n    if (!isEmpty(payload)) state.bounds = payload;\n  }\n};\nvar configSlice = createSlice({\n  name: name,\n  initialState: initialState,\n  reducers: reducers\n});\nconfigSlice.selectors = selectors;\nconfigSlice.actions = defaults(configSlice.actions, actions);\n\nfunction isTileLayerProps(_ref) {\n  var type = _ref.type,\n      options = _ref.options;\n  var url = get(options, 'url', '');\n  if (includes(['tile', 'wms'], type) || str_contains(url, '{x}') && str_contains(url, '{y}') && str_contains(url, '{z}') || str_contains(url, 'geoserver/ows?')) return true;\n  return false;\n}\n\nfunction layerFn(_ref2) {\n  var control = _ref2.control,\n      title = _ref2.title,\n      active = _ref2.active,\n      type = _ref2.type,\n      options = _ref2.options,\n      uuid = _ref2.uuid,\n      popupTemplate = _ref2.popupTemplate;\n  var BaseLayer = LayersControl.BaseLayer,\n      Overlay = LayersControl.Overlay;\n  var opts = cloneDeep(options);\n  var boundary = get(window, 'store.state.map.boundary');\n\n  if (control === 'basemap' && opts) {\n    opts.boundary = boundary;\n  }\n\n  return {\n    wrapper: control === BASEMAP ? BaseLayer : Overlay,\n    wrapperProps: {\n      name: title,\n      checked: toBool(active)\n    },\n    layer: type2Component(type),\n    layerProps: isTileLayerProps({\n      type: type,\n      options: options\n    }) ? _objectSpread2({\n      uuid: uuid\n    }, opts) : {\n      uuid: uuid,\n      type: type,\n      data: options.url,\n      options: omit(options, ['url', 'data']),\n      popupTemplate: popupTemplate\n    }\n  };\n}\n\nfunction type2Component(type) {\n  switch (type) {\n    case 'tile':\n      return TileLayer$1;\n\n    case 'wms':\n      return WMSTileLayer$1;\n    // default:\n    //     return Source\n  }\n}\n\nfunction fnToggleLayer(state, uuid) {\n  var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'active';\n  var index = findIndex(state, {\n    uuid: uuid\n  });\n\n  if (state[index]) {\n    state[index][key] = !state[index][key];\n  }\n}\nfunction fnDeactiveAllBasemap(state) {\n  mergeFilter(state, {\n    control: BASEMAP,\n    active: true\n  }, {\n    active: false\n  });\n}\n\nfunction fnFormatCtrls(items) {\n  return map(items, function (props, name) {\n    return _objectSpread2({}, !isPlainObject(props) ? {\n      enabled: props\n    } : props, {\n      name: name\n    });\n  });\n}\n\nvar getLayers = createSelector([\"\".concat(KEY, \".layers\")], function (layers) {\n  return layers || [];\n});\nvar getLayer = createSelector([getLayers, function (_, id) {\n  return id;\n}], function (layers, id) {\n  return find(layers, {\n    uuid: id\n  }) || {};\n});\nvar getLayersControl = createSelector([getLayers], function (layers) {\n  var basemap = filter(layers, {\n    control: BASEMAP\n  }).map(layerFn),\n      overlay = filter(layers, function (i) {\n    return i.control !== BASEMAP;\n  }).map(layerFn);\n  return basemap.concat(overlay);\n});\nvar getLayersById = createSelector([getLayers, function (_, id) {\n  return id;\n}], function (layers, id) {\n  return filter(layers, function (l) {\n    return includes(id, l.uuid);\n  });\n});\nvar getFancytreeSource = createSelector([getLayers], function (layers) {\n  var basemap = {\n    title: \"Basemap\",\n    extraClasses: 'font-weight-semibold',\n    expanded: true,\n    folder: true,\n    checkbox: false,\n    radiogroup: true,\n    children: []\n  },\n      overlay = {\n    title: \"Overlay\",\n    extraClasses: 'font-weight-semibold',\n    expanded: true,\n    folder: true,\n    checkbox: false,\n    children: []\n  };\n\n  _.chain(layers).filter(function (l) {\n    return l.control === BASEMAP;\n  }).map(function (i) {\n    basemap.children = basemap.children.concat({\n      title: i.title || 'None',\n      selected: i.active,\n      icon: false,\n      data: i\n    });\n  }).value();\n\n  _.chain(layers).filter(function (l) {\n    return l.control !== BASEMAP;\n  }).map(function (i) {\n    overlay.children = overlay.children.concat({\n      title: i.title || 'None',\n      selected: i.active,\n      icon: false,\n      data: i\n    });\n  }).value();\n\n  return [basemap, overlay];\n});\n\nvar selectors$1 = /*#__PURE__*/Object.freeze({\n  getLayers: getLayers,\n  getLayer: getLayer,\n  getLayersControl: getLayersControl,\n  getLayersById: getLayersById,\n  getFancytreeSource: getFancytreeSource\n});\n\nvar baselayers = {\n  google: {\n    \"control\": \"basemap\",\n    \"title\": \"Google\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\",\n      \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\n    }\n  },\n  openstreet: {\n    \"control\": \"basemap\",\n    \"title\": \"OpenStreetMap\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      \"attribution\": \"&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }\n  },\n  here: {\n    \"control\": \"basemap\",\n    \"title\": \"Here\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"https://2.{base}.maps.cit.api.here.com/maptile/2.1/{type}/newest/{scheme}/{z}/{x}/{y}/256/png?app_id={app_id}&app_code={app_code}\",\n      \"base\": \"base\",\n      \"type\": \"maptile\",\n      \"scheme\": \"normal.day\",\n      \"app_id\": \"kDm0Jq1K4Ak7Bwtn8uvk\",\n      \"app_code\": \"xnmvc4dKZrDfGlvQHXSvwQ\",\n      \"attribution\": \"Map data &copy; <a href=\\\"http://developer.here.com\\\">HERE</a>\"\n    }\n  },\n  bing: {\n    \"control\": \"basemap\",\n    \"title\": \"Mapbox\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"map\": \"mapbox.streets\",\n      \"url\": \"https://api.tiles.mapbox.com/v4/{map}/{z}/{x}/{y}.png?access_token={accessToken}\",\n      \"accessToken\": \"pk.eyJ1IjoidHR1bmdibXQiLCJhIjoiY2EzNDFhZjU4ZThkNzY5NTU3M2U1YWFiNmY4OTE3OWQifQ.Bo1ss5J4UjPPOjmq9S3VQw\",\n      \"attribution\": \"Map data &copy; <a href='http://mapbox.com'>Mapbox</a>\"\n    }\n  },\n  // hcmgis: {\n  //     \"control\": \"basemap\",\n  //     \"title\": \"HCMGIS\",\n  //     \"type\": \"wms\",\n  //     \"options\": {\n  //         \"url\": \"/geoserver/gwc/service/wms\",\n  //         \"layers\": \"hcm_map:hcm_map_all\"\n  //     }\n  // },\n  hcmgis: {\n    \"control\": \"basemap\",\n    \"title\": \"HCMGIS\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"/geoserver/gwc/service/wmts?service=wmts&request=GetTile&version=1.0.0&layer=hcm_map:hcm_map_all&tilematrixset=EPSG:900913&tilematrix=EPSG:900913:{z}&tilerow={y}&tilecol={x}&format=image%2Fjpeg\",\n      \"attribution\": \"Map data &copy; <a href='https://hcmgis.vn/'>HCMGIS</a>\"\n    }\n  },\n  lidar: {\n    \"control\": \"basemap\",\n    \"title\": \"Ảnh hàng không\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://trueortho.hcmgis.vn/basemap/cache_lidar/{z}/{x}/{y}.jpg\",\n      \"attribution\": \"Map data &copy; <a href='https://hcmgis.vn/'>HCMGIS</a>\"\n    }\n  },\n  satellite: {\n    \"control\": \"basemap\",\n    \"title\": \"Ảnh vệ tinh\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}\",\n      \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\n    }\n  }\n};\n\nvar name$1 = \"\".concat(KEY, \"/layers\");\nvar initialState$1 = [];\nvar reducers$1 = {\n  setLayers: function setLayers(state, _ref) {\n    var payload = _ref.payload;\n    if (payload) return payload.map(function (l) {\n      return _objectSpread2({\n        uuid: uniqid()\n      }, l);\n    });\n  },\n  addLayers: function addLayers(state, _ref2) {\n    var payload = _ref2.payload;\n    map(payload, function (l) {\n      return state.push(Object.assign({}, payload.uuid ? {\n        uuid: payload.uuid\n      } : {\n        uuid: uniqid()\n      }, {\n        control: l.control,\n        active: l.active,\n        type: l.type,\n        title: l.title ? l.title : 'None',\n        options: l.options\n      }));\n    });\n  },\n  addBasemap: {\n    reducer: function reducer(state, _ref3) {\n      var _ref3$payload = _ref3.payload,\n          keys = _ref3$payload.keys,\n          active = _ref3$payload.active;\n\n      if (isArray(keys)) {\n        keys.map(function (k) {\n          state.push(_objectSpread2({\n            uuid: uniqid(),\n            key: k,\n            active: active === k\n          }, get(baselayers, k)));\n        });\n      }\n\n      if (isString(keys)) {\n        fnDeactiveAllBasemap(state);\n        state.push(_objectSpread2({\n          uuid: uniqid(),\n          key: keys,\n          active: true\n        }, get(baselayers, keys)));\n      }\n    },\n    prepare: function prepare(keys, active) {\n      return {\n        payload: {\n          keys: keys,\n          active: active\n        }\n      };\n    }\n  },\n  clipBasemap: {\n    reducer: function reducer(state, _ref4) {\n      var _ref4$payload = _ref4.payload,\n          boundary = _ref4$payload.boundary,\n          keys = _ref4$payload.keys;\n\n      if (keys) ; else {\n        state.filter(function (b) {\n          return b.control === BASEMAP;\n        }).map(function (i) {\n          i.options.boundary = boundary;\n        });\n      }\n    },\n    prepare: function prepare(boundary, keys) {\n      return {\n        payload: {\n          boundary: boundary,\n          keys: keys\n        }\n      };\n    }\n  },\n  // addBasemap: (state, p) => {\n  //     // key: String|Array\n  //\n  //     console.log(p)\n  //\n  //     // if(isArray(payload)) {\n  //     //\n  //     // }\n  //\n  //\n  //\n  //\n  //\n  //     // if(isArray(key)) {\n  //     //     key.map((v, k1) => {\n  //     //         let layer = get(baselayers, v)\n  //     //         if(layer)  state.push({uuid: uniqid(), key: v, ...layer})\n  //     //     })\n  //     // } else {\n  //     //     let layer = get(baselayers, key)\n  //     //     if (layer) {\n  //     //         fnDeactiveAllBasemap(state)\n  //     //         state.push({uuid: uniqid(), key, active: true, ...layer})\n  //     //     }\n  //     // }\n  // },\n  activeBasemap: function activeBasemap(state, _ref5) {\n    var uuid = _ref5.payload;\n    fnDeactiveAllBasemap(state);\n    mergeFilter(state, {\n      uuid: uuid\n    }, {\n      active: true\n    });\n  },\n  activeOverlay: function activeOverlay(state, _ref6) {\n    var uuid = _ref6.payload;\n    mergeFilter(state, {\n      uuid: uuid\n    }, {\n      active: true\n    });\n  },\n  toggleOverlay: function toggleOverlay(state, _ref7) {\n    var uuid = _ref7.payload;\n    fnToggleLayer(state, uuid);\n  },\n  deactiveOverlay: function deactiveOverlay(state, _ref8) {\n    var uuid = _ref8.payload;\n    mergeFilter(state, {\n      uuid: uuid\n    }, {\n      active: false\n    });\n  },\n  removeLayer: function removeLayer(state, _ref9) {\n    var uuid = _ref9.payload;\n    remove(state, function (i) {\n      return i.uuid === uuid;\n    });\n  },\n  saveLayer: function saveLayer(state, _ref10) {\n    var _ref10$payload = _ref10.payload,\n        uuid = _ref10$payload.uuid,\n        active = _ref10$payload.active,\n        props = _objectWithoutProperties(_ref10$payload, [\"uuid\", \"active\"]);\n\n    if (props.control === BASEMAP) fnDeactiveAllBasemap(state);\n    mergeFilter(state, {\n      uuid: uuid\n    }, _objectSpread2({}, props, {\n      active: toBool(active)\n    }));\n  },\n  setZIndex: function setZIndex(state, _ref11) {\n    var payload = _ref11.payload;\n    payload.map(function (_ref12) {\n      var uuid = _ref12.uuid,\n          zIndex = _ref12.zIndex;\n      mergeFilter(state, {\n        uuid: uuid\n      }, {\n        options: {\n          zIndex: zIndex\n        }\n      });\n    });\n  }\n};\nvar layersSlice = createSlice({\n  name: name$1,\n  initialState: initialState$1,\n  reducers: reducers$1\n});\nlayersSlice.selectors = selectors$1;\nlayersSlice.actions = defaults(layersSlice.actions, actions);\n\nvar getControls = createSelector([[KEY, 'controls']], function (controls) {\n  return controls || {};\n});\nvar getControl = createSelector([getControls, function (_, name) {\n  return name;\n}], function (controls, name) {\n  return get(controls, name) || {};\n});\n\nvar selectors$2 = /*#__PURE__*/Object.freeze({\n  getControls: getControls,\n  getControl: getControl\n});\n\n\n\nvar actions$1 = /*#__PURE__*/Object.freeze({\n\n});\n\nvar name$2 = \"\".concat(KEY, \"/controls\");\nvar initialState$2 = {\n  zoom: {\n    enabled: true,\n    position: 'bottomright'\n  },\n  layers: {\n    position: 'topright',\n    autoZIndex: false\n  },\n  scale: {\n    position: 'bottomleft',\n    enabled: false\n  },\n  locate: {\n    position: 'bottomright'\n  },\n  ruler: {\n    enabled: false,\n    position: 'topleft'\n  },\n  exportMap: {\n    enabled: true\n  }\n};\nvar reducers$2 = {\n  setControl: function setControl(state, _ref) {\n    var payload = _ref.payload;\n  },\n  setControls: function setControls(state, _ref2) {\n    var payload = _ref2.payload;\n  },\n  addControls: function addControls(state, _ref3) {\n    var payload = _ref3.payload;\n  },\n  removeControl: function removeControl(state, _ref4) {\n    var payload = _ref4.payload;\n  },\n  toggleControl: function toggleControl(state, _ref5) {\n    var name = _ref5.payload;\n    state[name].enabled = !state[name].enabled;\n  }\n};\nvar optionsSlice = createSlice({\n  name: name$2,\n  initialState: initialState$2,\n  reducers: reducers$2\n});\noptionsSlice.selectors = selectors$2;\noptionsSlice.actions = defaults(optionsSlice.actions, actions$1);\n\nvar getOptions = createSelector([[KEY, 'options']], function (options) {\n  return options || {};\n});\nvar getMapOptions = createSelector([getOptions], function (options) {\n  return options.map || {};\n});\nvar getLoading = createSelector([getOptions], function (options) {\n  return options.loading;\n});\n\nvar selectors$3 = /*#__PURE__*/Object.freeze({\n  getOptions: getOptions,\n  getMapOptions: getMapOptions,\n  getLoading: getLoading\n});\n\n\n\nvar actions$2 = /*#__PURE__*/Object.freeze({\n\n});\n\nvar name$3 = \"\".concat(KEY, \"/options\");\nvar initialState$3 = {\n  map: {\n    zoomControl: false\n  },\n  loading: true\n};\nvar reducers$3 = {\n  setOptions: function setOptions(state, _ref) {\n    var payload = _ref.payload;\n    map(payload, function (v, k) {\n      state[k] = v;\n    });\n  },\n  setMapOptions: function setMapOptions(state, _ref2) {\n    var payload = _ref2.payload;\n    state.map = payload;\n  },\n  setLoading: function setLoading(state, _ref3) {\n    var payload = _ref3.payload;\n    state.loading = payload;\n  }\n};\nvar optionsSlice$1 = createSlice({\n  name: name$3,\n  initialState: initialState$3,\n  reducers: reducers$3\n});\noptionsSlice$1.selectors = selectors$3;\noptionsSlice$1.actions = defaults(optionsSlice$1.actions, actions$2);\n\nvar getPopup = createSelector([[KEY, 'popup']], function (popup) {\n  return popup || {};\n});\nvar getPopupKeys = createSelector([getPopup], function (popup) {\n  return popup.keys || [];\n});\nvar getPopItems = createSelector([getPopup], function (popup) {\n  return popup.items || [];\n});\nvar getPopItemById = createSelector([getPopItems, function (_, id) {\n  return id;\n}], function (items, id) {\n  return find(items, function (i) {\n    return get(i, 'model.gid') === id;\n  }) || {};\n});\nvar getCurrentPopup = createSelector([getPopup], function (popup) {\n  var items = get(popup, 'items', []).filter(function (i) {\n    return i.loaded;\n  }),\n      item = head(items);\n  if (!get(item, 'loaded')) return null;\n  return _objectSpread2({\n    position: popup.position,\n    _key: item.key\n  }, item);\n});\n\nvar selectors$4 = /*#__PURE__*/Object.freeze({\n  getPopup: getPopup,\n  getPopupKeys: getPopupKeys,\n  getPopItems: getPopItems,\n  getPopItemById: getPopItemById,\n  getCurrentPopup: getCurrentPopup\n});\n\n\n\nvar actions$3 = /*#__PURE__*/Object.freeze({\n\n});\n\nvar name$4 = \"\".concat(KEY, \"/popup\");\nvar initialState$4 = {\n  uuid: null,\n  keys: [],\n  items: []\n};\nvar reducers$4 = {\n  resetPopup: function resetPopup(state, _ref) {\n    var payload = _ref.payload;\n    return _objectSpread2({}, initialState$4, {\n      keys: state.keys\n    });\n  },\n  setPopup: function setPopup(state, _ref2) {\n    var payload = _ref2.payload;\n    return _objectSpread2({}, state, {}, payload);\n  },\n  setPopupKeys: function setPopupKeys(state, _ref3) {\n    var payload = _ref3.payload;\n    state.keys = payload;\n  },\n  updatePopupContent: function updatePopupContent(state, _ref4) {\n    var payload = _ref4.payload;\n    var uuid = payload.uuid,\n        content = payload.content,\n        model = payload.model;\n    mergeFilter(state.items, {\n      uuid: uuid\n    }, {\n      loaded: true,\n      content: content,\n      model: model\n    });\n  },\n  createPopup: function createPopup(state, _ref5) {\n    var payload = _ref5.payload;\n    var geometry = payload.model.geometry;\n    state.uuid = uniqid();\n    state.position = geometry ? toCenter(geometry) : null;\n    state.items = [{\n      key: payload.key,\n      loaded: true,\n      model: payload.model\n    }];\n  }\n};\nvar popupSlice = createSlice({\n  name: name$4,\n  initialState: initialState$4,\n  reducers: reducers$4\n});\npopupSlice.selectors = selectors$4;\npopupSlice.actions = defaults(popupSlice.actions, actions$3);\n\nvar getMap = createSelector([KEY], function (map) {\n  return map;\n});\n\nvar generalSelectors = /*#__PURE__*/Object.freeze({\n  getMap: getMap\n});\n\n// import { actions } from './index'\n\nvar setMap = createAction(\"\".concat(KEY, \"/SET_MAP\"));\nvar getWMSInfo = createAction(\"\".concat(KEY, \"/GET_WMS_INFO\"));\nvar setMapLoading = createAction(\"\".concat(KEY, \"/LOADING\"));\nvar setMapLoaded = createAction(\"\".concat(KEY, \"/LOADED\")); //\n// export const saveMap = (builder) => (dispatch, getState) => {\n//     const {app, config, options, layers, controls} = builder\n//     const {setApp, setConfig, setOptions, setLayers, setControls} = actions\n//\n//     dispatch(setApp(app))\n//     dispatch(setConfig(config))\n//     dispatch(setOptions(options))\n//     dispatch(setLayers(layers))\n//     dispatch(setControls(controls))\n// }\n//\n\nvar generalActions = /*#__PURE__*/Object.freeze({\n  setMap: setMap,\n  getWMSInfo: getWMSInfo,\n  setMapLoading: setMapLoading,\n  setMapLoaded: setMapLoaded\n});\n\nvar reducer = combineReducers({\n  config: configSlice.reducer,\n  layers: layersSlice.reducer,\n  controls: optionsSlice.reducer,\n  options: optionsSlice$1.reducer,\n  popup: popupSlice.reducer\n});\nvar actions$4 = _objectSpread2({}, generalActions, {}, configSlice.actions, {}, layersSlice.actions, {}, optionsSlice.actions, {}, optionsSlice$1.actions, {}, popupSlice.actions);\nvar selectors$5 = _objectSpread2({}, generalSelectors, {}, configSlice.selectors, {}, layersSlice.selectors, {}, optionsSlice.selectors, {}, optionsSlice$1.selectors, {}, popupSlice.selectors);\nvar slices = _objectSpread2({}, configSlice, {}, layersSlice, {}, optionsSlice, {}, optionsSlice$1, {}, popupSlice);\n\nvar createSymbol = function createSymbol(name) {\n  return \"@@redux-saga/\" + name;\n};\n\nvar CANCEL =\n/*#__PURE__*/\ncreateSymbol('CANCEL_PROMISE');\nvar IO =\n/*#__PURE__*/\ncreateSymbol('IO');\nvar MULTICAST =\n/*#__PURE__*/\ncreateSymbol('MULTICAST');\nvar SELF_CANCELLATION =\n/*#__PURE__*/\ncreateSymbol('SELF_CANCELLATION');\nvar TASK =\n/*#__PURE__*/\ncreateSymbol('TASK');\n\nvar undef = function undef(v) {\n  return v === null || v === undefined;\n};\nvar notUndef = function notUndef(v) {\n  return v !== null && v !== undefined;\n};\nvar func = function func(f) {\n  return typeof f === 'function';\n};\nvar string = function string(s) {\n  return typeof s === 'string';\n};\nvar array = Array.isArray;\nvar object = function object(obj) {\n  return obj && !array(obj) && typeof obj === 'object';\n};\nvar task = function task(t) {\n  return t && t[TASK];\n};\nvar pattern = function pattern(pat) {\n  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));\n};\nvar channel = function channel(ch) {\n  return ch && func(ch.take) && func(ch.close);\n};\nvar stringableFunc = function stringableFunc(f) {\n  return func(f) && f.hasOwnProperty('toString');\n};\nvar symbol = function symbol(sym) {\n  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;\n};\nvar multicast = function multicast(ch) {\n  return channel(ch) && ch[MULTICAST];\n};\nvar effect = function effect(eff) {\n  return eff && eff[IO];\n};\n\nfunction delayP(ms, val) {\n  if (val === void 0) {\n    val = true;\n  }\n\n  var timeoutId;\n  var promise = new Promise(function (resolve) {\n    timeoutId = setTimeout(resolve, ms, val);\n  });\n\n  promise[CANCEL] = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return promise;\n}\n\nvar identity = function identity(v) {\n  return v;\n};\nfunction check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error);\n  }\n}\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\n\nvar kReturn = function kReturn(value) {\n  return {\n    value: value,\n    done: true\n  };\n};\n\nfunction makeIterator(next, thro, name) {\n  if (thro === void 0) {\n    thro = kThrow;\n  }\n\n  if (name === void 0) {\n    name = 'iterator';\n  }\n\n  var iterator = {\n    meta: {\n      name: name\n    },\n    next: next,\n    throw: thro,\n    return: kReturn,\n    isSagaIterator: true\n  };\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n\n  return iterator;\n}\n\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar CALL = 'CALL';\nvar FORK = 'FORK';\nvar CANCEL$1 = 'CANCEL';\nvar SELECT = 'SELECT';\n\nvar TEST_HINT = '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';\n\nvar makeEffect = function makeEffect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;\n};\nfunction take(patternOrChannel, multicastPattern) {\n  if (patternOrChannel === void 0) {\n    patternOrChannel = '*';\n  }\n\n  if ( arguments.length) {\n    check(arguments[0], notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n\n  if (pattern(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      pattern: patternOrChannel\n    });\n  }\n\n  if (multicast(patternOrChannel) && notUndef(multicastPattern) && pattern(multicastPattern)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel,\n      pattern: multicastPattern\n    });\n  }\n\n  if (channel(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel\n    });\n  }\n\n  {\n    throw new Error(\"take(patternOrChannel): argument \" + patternOrChannel + \" is not valid channel or a valid pattern\");\n  }\n}\nfunction put(channel$1, action) {\n  {\n    if (arguments.length > 1) {\n      check(channel$1, notUndef, 'put(channel, action): argument channel is undefined');\n      check(channel$1, channel, \"put(channel, action): argument \" + channel$1 + \" is not a valid channel\");\n      check(action, notUndef, 'put(channel, action): argument action is undefined');\n    } else {\n      check(channel$1, notUndef, 'put(action): argument action is undefined');\n    }\n  }\n\n  if (undef(action)) {\n    action = channel$1; // `undefined` instead of `null` to make default parameter work\n\n    channel$1 = undefined;\n  }\n\n  return makeEffect(PUT, {\n    channel: channel$1,\n    action: action\n  });\n}\n\nvar validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {\n  check(fnDescriptor, notUndef, effectName + \": argument fn is undefined or null\");\n\n  if (func(fnDescriptor)) {\n    return;\n  }\n\n  var context = null;\n  var fn;\n\n  if (array(fnDescriptor)) {\n    context = fnDescriptor[0];\n    fn = fnDescriptor[1];\n    check(fn, notUndef, effectName + \": argument of type [context, fn] has undefined or null `fn`\");\n  } else if (object(fnDescriptor)) {\n    context = fnDescriptor.context;\n    fn = fnDescriptor.fn;\n    check(fn, notUndef, effectName + \": argument of type {context, fn} has undefined or null `fn`\");\n  } else {\n    check(fnDescriptor, func, effectName + \": argument fn is not function\");\n    return;\n  }\n\n  if (context && string(fn)) {\n    check(context[fn], func, effectName + \": context arguments has no such method - \\\"\" + fn + \"\\\"\");\n    return;\n  }\n\n  check(fn, func, effectName + \": unpacked fn argument (from [context, fn] or {context, fn}) is not a function\");\n};\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  var context = null;\n  var fn;\n\n  if (func(fnDescriptor)) {\n    fn = fnDescriptor;\n  } else {\n    if (array(fnDescriptor)) {\n      context = fnDescriptor[0];\n      fn = fnDescriptor[1];\n    } else {\n      context = fnDescriptor.context;\n      fn = fnDescriptor.fn;\n    }\n\n    if (context && string(fn) && func(context[fn])) {\n      fn = context[fn];\n    }\n  }\n\n  return {\n    context: context,\n    fn: fn,\n    args: args\n  };\n}\n\nvar isNotDelayEffect = function isNotDelayEffect(fn) {\n  return fn !== delay;\n};\n\nfunction call(fnDescriptor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  {\n    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';\n    check(fnDescriptor, isNotDelayEffect, \"instead of writing `yield call(delay, \" + arg0 + \")` where delay is an effect from `redux-saga/effects` you should write `yield delay(\" + arg0 + \")`\");\n    validateFnDescriptor('call', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction fork(fnDescriptor) {\n  {\n    validateFnDescriptor('fork', fnDescriptor);\n    check(fnDescriptor, function (arg) {\n      return !effect(arg);\n    }, 'fork: argument must not be an effect');\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction cancel(taskOrTasks) {\n  if (taskOrTasks === void 0) {\n    taskOrTasks = SELF_CANCELLATION;\n  }\n\n  {\n    if (arguments.length > 1) {\n      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"cancel([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else if (taskOrTasks !== SELF_CANCELLATION && notUndef(taskOrTasks)) {\n      check(taskOrTasks, task, \"cancel(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(CANCEL$1, taskOrTasks);\n}\nfunction select(selector) {\n  if (selector === void 0) {\n    selector = identity;\n  }\n\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  if ( arguments.length) {\n    check(arguments[0], notUndef, 'select(selector, [...]): argument selector is undefined');\n    check(selector, func, \"select(selector, [...]): argument \" + selector + \" is not a function\");\n  }\n\n  return makeEffect(SELECT, {\n    selector: selector,\n    args: args\n  });\n}\nvar delay =\n/*#__PURE__*/\ncall.bind(null, delayP);\n\nvar done = function done(value) {\n  return {\n    done: true,\n    value: value\n  };\n};\n\nvar qEnd = {};\nfunction safeName(patternOrChannel) {\n  if (channel(patternOrChannel)) {\n    return 'channel';\n  }\n\n  if (stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel);\n  }\n\n  if (func(patternOrChannel)) {\n    return patternOrChannel.name;\n  }\n\n  return String(patternOrChannel);\n}\nfunction fsmIterator(fsm, startState, name) {\n  var stateUpdater,\n      errorState,\n      effect,\n      nextState = startState;\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg);\n    }\n\n    if (error && !errorState) {\n      nextState = qEnd;\n      throw error;\n    } else {\n      stateUpdater && stateUpdater(arg);\n      var currentState = error ? fsm[errorState](error) : fsm[nextState]();\n      nextState = currentState.nextState;\n      effect = currentState.effect;\n      stateUpdater = currentState.stateUpdater;\n      errorState = currentState.errorState;\n      return nextState === qEnd ? done(arg) : effect;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name);\n}\n\nfunction takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action)\n      };\n    }\n  }, 'q1', \"takeEvery(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLatest(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yCancel = function yCancel(task) {\n    return {\n      done: false,\n      value: cancel(task)\n    };\n  };\n\n  var task, action;\n\n  var setTask = function setTask(t) {\n    return task = t;\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return task ? {\n        nextState: 'q3',\n        effect: yCancel(task)\n      } : {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    }\n  }, 'q1', \"takeLatest(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nvar validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {\n  check(patternOrChannel, notUndef, fn.name + \" requires a pattern or channel\");\n  check(worker, notUndef, fn.name + \" requires a saga parameter\");\n};\n\nfunction takeEvery$1(patternOrChannel, worker) {\n  {\n    validateTakeEffect(takeEvery$1, patternOrChannel, worker);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));\n}\nfunction takeLatest$1(patternOrChannel, worker) {\n  {\n    validateTakeEffect(takeLatest$1, patternOrChannel, worker);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));\n}\n\nvar _marked =\n/*#__PURE__*/\nregeneratorRuntime.mark(mapSaga),\n    _marked2 =\n/*#__PURE__*/\nregeneratorRuntime.mark(setMap$1),\n    _marked3 =\n/*#__PURE__*/\nregeneratorRuntime.mark(getWMSInfo$1),\n    _marked4 =\n/*#__PURE__*/\nregeneratorRuntime.mark(toggleMapFullscreen);\nfunction mapSaga() {\n  return regeneratorRuntime.wrap(function mapSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return takeEvery$1('layout/toggleMapFullscreen', toggleMapFullscreen);\n\n        case 2:\n          _context.next = 4;\n          return takeEvery$1(actions$4.setMap.type, setMap$1);\n\n        case 4:\n          _context.next = 6;\n          return takeLatest$1(actions$4.getWMSInfo.type, getWMSInfo$1);\n\n        case 6:\n          _context.next = 8;\n          return takeEvery$1(actions$4.setMapLoading.type, setMapLoading$1);\n\n        case 8:\n          _context.next = 10;\n          return takeEvery$1(actions$4.setMapLoaded.type, setMapLoaded$1);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction setMap$1(_ref) {\n  var payload, layer_tree, popup, extent, boundary, basemap;\n  return regeneratorRuntime.wrap(function setMap$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          payload = _ref.payload;\n          layer_tree = payload.layer_tree, popup = payload.popup, extent = payload.extent, boundary = payload.boundary, basemap = payload.basemap;\n          _context2.next = 4;\n          return put(actions$4.setLoading(true));\n\n        case 4:\n          if (!layer_tree) {\n            _context2.next = 7;\n            break;\n          }\n\n          _context2.next = 7;\n          return put(actions$4.setLayers(layer_tree));\n\n        case 7:\n          if (!popup) {\n            _context2.next = 10;\n            break;\n          }\n\n          _context2.next = 10;\n          return put(actions$4.setPopupKeys(popup));\n\n        case 10:\n          if (basemap) {\n            _context2.next = 13;\n            break;\n          }\n\n          _context2.next = 13;\n          return put(actions$4.addBasemap(['google', 'openstreet', 'hcmgis', 'lidar', 'satellite'], 'hcmgis'));\n\n        case 13:\n          if (!extent) {\n            _context2.next = 16;\n            break;\n          }\n\n          _context2.next = 16;\n          return put(actions$4.setBounds(toBounds([extent])));\n\n        case 16:\n          _context2.next = 18;\n          return put(actions$4.setLoading(false));\n\n        case 18:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction getWMSInfo$1(_ref2) {\n  var payload, ids, layers, keys, postData, _ref3, data;\n\n  return regeneratorRuntime.wrap(function getWMSInfo$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          payload = _ref2.payload;\n          ids = map(payload.items, 'uuid');\n          _context3.next = 4;\n          return select(function (state) {\n            return selectors$5.getLayersById(state, ids);\n          });\n\n        case 4:\n          layers = _context3.sent;\n          _context3.next = 7;\n          return select(selectors$5.getPopupKeys);\n\n        case 7:\n          keys = _context3.sent;\n          postData = _objectSpread2({}, payload, {\n            items: orderBy(payload.items, ['zIndex'], ['desc']).map(function (i) {\n              var key = get(find(layers, {\n                uuid: i.uuid\n              }), 'key');\n              return _objectSpread2({\n                key: key\n              }, i);\n            }).filter(function (i) {\n              return includes(keys, i.key);\n            })\n          });\n\n          if (!isEmpty(postData.items)) {\n            _context3.next = 11;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 11:\n          _context3.next = 13;\n          return put(actions$4.setMapLoading());\n\n        case 13:\n          _context3.next = 15;\n          return put(actions$4.setPopup(postData));\n\n        case 15:\n          _context3.prev = 15;\n          _context3.next = 18;\n          return call(axios.post, '/maps/get-wms-info', postData);\n\n        case 18:\n          _ref3 = _context3.sent;\n          data = _ref3.data;\n          _context3.next = 22;\n          return put(actions$4.setMapLoaded());\n\n        case 22:\n          if (!(isString(data) || !data.data)) {\n            _context3.next = 24;\n            break;\n          }\n\n          return _context3.abrupt(\"return\", null);\n\n        case 24:\n          _context3.next = 26;\n          return put(actions$4.updatePopupContent(data.data));\n\n        case 26:\n          _context3.next = 33;\n          break;\n\n        case 28:\n          _context3.prev = 28;\n          _context3.t0 = _context3[\"catch\"](15);\n          _context3.next = 32;\n          return put(actions$4.setMapLoaded());\n\n        case 32:\n          console.error(_context3.t0);\n\n        case 33:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[15, 28]]);\n}\n\nfunction toggleMapFullscreen() {\n  return regeneratorRuntime.wrap(function toggleMapFullscreen$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          emitter.emit('@layout/TOGGLE_MAP_FULLSCREEN');\n\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction setMapLoading$1(_ref4) {\n  var _ref4$payload = _ref4.payload,\n      payload = _ref4$payload === void 0 ? '.leaflet-container' : _ref4$payload;\n  $(payload).css('cursor', 'progress');\n  $('.leaflet-interactive').css('cursor', 'progress');\n}\n\nfunction setMapLoaded$1(_ref5) {\n  var _ref5$payload = _ref5.payload,\n      payload = _ref5$payload === void 0 ? '.leaflet-container' : _ref5$payload;\n  $(payload).css('cursor', 'default');\n  $('.leaflet-interactive').css('cursor', 'pointer');\n}\n\n\n\nvar index = /*#__PURE__*/Object.freeze({\n  map: mapSaga\n});\n\nfunction PopManager(_ref) {\n  var _key = _ref._key,\n      model = _ref.model,\n      features = _ref.features;\n  var Component = get(features, \"\".concat(_key, \".pop\"), function () {\n    return React.createElement(\"div\", null, \"Kh\\xF4ng t\\xECm th\\u1EA5y: \", React.createElement(\"b\", null, _key));\n  });\n  return React.createElement(Component, model);\n}\n\nvar PopManager$1 = memo(PopManager);\n\nvar MapContext = React.createContext();\n\nfunction MapProvider(props) {\n  return React.createElement(MapContext.Provider, {\n    value: {}\n  }, props.children);\n}\n\nvar MapConsumer = MapContext.Consumer;\n\nvar isRingBbox = function isRingBbox(ring, bbox) {\n  if (ring.length !== 4) {\n    return false;\n  }\n\n  var p,\n      sumX = 0,\n      sumY = 0;\n\n  for (p = 0; p < 4; p++) {\n    if (ring[p].x !== bbox.min.x && ring[p].x !== bbox.max.x || ring[p].y !== bbox.min.y && ring[p].y !== bbox.max.y) {\n      return false;\n    }\n\n    sumX += ring[p].x;\n    sumY += ring[p].y; //bins[Number(ring[p].x === bbox.min.x) + 2 * Number(ring[p].y === bbox.min.y)] = 1;\n  } //check that we have all 4 vertex of bbox in our geometry\n\n\n  return sumX === 2 * (bbox.min.x + bbox.max.x) && sumY === 2 * (bbox.min.y + bbox.max.y);\n};\n\nvar ExtendMethods = {\n  _toMercGeometry: function _toMercGeometry(b, isGeoJSON) {\n    var res = [];\n    var c, r, p, mercComponent, mercRing, coords;\n\n    if (!isGeoJSON) {\n      if (!(b[0] instanceof Array)) {\n        b = [[b]];\n      } else if (!(b[0][0] instanceof Array)) {\n        b = [b];\n      }\n    }\n\n    for (c = 0; c < b.length; c++) {\n      mercComponent = [];\n\n      for (r = 0; r < b[c].length; r++) {\n        mercRing = [];\n\n        for (p = 0; p < b[c][r].length; p++) {\n          coords = isGeoJSON ? L.latLng(b[c][r][p][1], b[c][r][p][0]) : b[c][r][p];\n          mercRing.push(this._map.project(coords, 0));\n        }\n\n        mercComponent.push(mercRing);\n      }\n\n      res.push(mercComponent);\n    }\n\n    return res;\n  },\n  //lazy calculation of layer's boundary in map's projection. Bounding box is also calculated\n  _getOriginalMercBoundary: function _getOriginalMercBoundary() {\n    if (this._mercBoundary) {\n      return this._mercBoundary;\n    }\n\n    var compomentBbox, c;\n\n    if (L.Util.isArray(this.options.boundary)) {\n      //Depricated: just array of coordinates\n      this._mercBoundary = this._toMercGeometry(this.options.boundary);\n    } else {\n      //GeoJSON\n      this._mercBoundary = [];\n\n      var processGeoJSONObject = function (obj) {\n        if (obj.type === 'GeometryCollection') {\n          obj.geometries.forEach(processGeoJSONObject);\n        } else if (obj.type === 'Feature') {\n          processGeoJSONObject(obj.geometry);\n        } else if (obj.type === 'FeatureCollection') {\n          obj.features.forEach(processGeoJSONObject);\n        } else if (obj.type === 'Polygon') {\n          this._mercBoundary = this._mercBoundary.concat(this._toMercGeometry([obj.coordinates], true));\n        } else if (obj.type === 'MultiPolygon') {\n          this._mercBoundary = this._mercBoundary.concat(this._toMercGeometry(obj.coordinates, true));\n        }\n      }.bind(this);\n\n      processGeoJSONObject(this.options.boundary);\n    }\n\n    this._mercBbox = new L.Bounds();\n\n    for (c = 0; c < this._mercBoundary.length; c++) {\n      compomentBbox = new L.Bounds(this._mercBoundary[c][0]);\n\n      this._mercBbox.extend(compomentBbox.min);\n\n      this._mercBbox.extend(compomentBbox.max);\n    }\n\n    return this._mercBoundary;\n  },\n  _getClippedGeometry: function _getClippedGeometry(geom, bounds) {\n    var clippedGeom = [],\n        clippedComponent,\n        clippedExternalRing,\n        clippedHoleRing,\n        iC,\n        iR;\n\n    for (iC = 0; iC < geom.length; iC++) {\n      clippedComponent = [];\n      clippedExternalRing = L.PolyUtil.clipPolygon(geom[iC][0], bounds);\n\n      if (clippedExternalRing.length === 0) {\n        continue;\n      }\n\n      clippedComponent.push(clippedExternalRing);\n\n      for (iR = 1; iR < geom[iC].length; iR++) {\n        clippedHoleRing = L.PolyUtil.clipPolygon(geom[iC][iR], bounds);\n\n        if (clippedHoleRing.length > 0) {\n          clippedComponent.push(clippedHoleRing);\n        }\n      }\n\n      clippedGeom.push(clippedComponent);\n    }\n\n    if (clippedGeom.length === 0) {\n      //we are outside of all multipolygon components\n      return {\n        isOut: true\n      };\n    }\n\n    for (iC = 0; iC < clippedGeom.length; iC++) {\n      if (isRingBbox(clippedGeom[iC][0], bounds)) {\n        //inside exterior rings and no holes\n        if (clippedGeom[iC].length === 1) {\n          return {\n            isIn: true\n          };\n        }\n      } else {\n        //intersects exterior ring\n        return {\n          geometry: clippedGeom\n        };\n      }\n\n      for (iR = 1; iR < clippedGeom[iC].length; iR++) {\n        //inside exterior ring, but have intersection with a hole\n        if (!isRingBbox(clippedGeom[iC][iR], bounds)) {\n          return {\n            geometry: clippedGeom\n          };\n        }\n      }\n    } //we are inside all holes in geometry\n\n\n    return {\n      isOut: true\n    };\n  },\n  // Calculates intersection of original boundary geometry and tile boundary.\n  // Uses quadtree as cache to speed-up intersection.\n  // Return\n  //   {isOut: true} if no intersection,\n  //   {isIn: true} if tile is fully inside layer's boundary\n  //   {geometry: <LatLng[][][]>} otherwise\n  _getTileGeometry: function _getTileGeometry(x, y, z, skipIntersectionCheck) {\n    if (!this.options.boundary) {\n      return {\n        isIn: true\n      };\n    }\n\n    var cacheID = x + \":\" + y + \":\" + z,\n        zCoeff = Math.pow(2, z),\n        parentState,\n        cache = this._boundaryCache;\n\n    if (cache[cacheID]) {\n      return cache[cacheID];\n    }\n\n    var mercBoundary = this._getOriginalMercBoundary(),\n        ts = this.options.tileSize,\n        tileBbox = new L.Bounds(new L.Point(x * ts / zCoeff, y * ts / zCoeff), new L.Point((x + 1) * ts / zCoeff, (y + 1) * ts / zCoeff)); //fast check intersection\n\n\n    if (!skipIntersectionCheck && !tileBbox.intersects(this._mercBbox)) {\n      return {\n        isOut: true\n      };\n    }\n\n    if (z === 0) {\n      cache[cacheID] = {\n        geometry: mercBoundary\n      };\n      return cache[cacheID];\n    }\n\n    parentState = this._getTileGeometry(Math.floor(x / 2), Math.floor(y / 2), z - 1, true);\n\n    if (parentState.isOut || parentState.isIn) {\n      return parentState;\n    }\n\n    cache[cacheID] = this._getClippedGeometry(parentState.geometry, tileBbox);\n    return cache[cacheID];\n  },\n  _drawTileInternal: function _drawTileInternal(canvas, tilePoint, url, callback) {\n    var zoom = this._getZoomForUrl(),\n        state = this._getTileGeometry(tilePoint.x, tilePoint.y, zoom);\n\n    if (state.isOut) {\n      callback();\n      return;\n    }\n\n    var ts = this.options.tileSize,\n        tileX = ts * tilePoint.x,\n        tileY = ts * tilePoint.y,\n        zCoeff = Math.pow(2, zoom),\n        ctx = canvas.getContext('2d'),\n        imageObj = new Image();\n\n    var setPattern = function setPattern() {\n      var c, r, p, pattern, geom;\n\n      if (!state.isIn) {\n        geom = state.geometry;\n        ctx.beginPath();\n\n        for (c = 0; c < geom.length; c++) {\n          for (r = 0; r < geom[c].length; r++) {\n            if (geom[c][r].length === 0) {\n              continue;\n            }\n\n            ctx.moveTo(geom[c][r][0].x * zCoeff - tileX, geom[c][r][0].y * zCoeff - tileY);\n\n            for (p = 1; p < geom[c][r].length; p++) {\n              ctx.lineTo(geom[c][r][p].x * zCoeff - tileX, geom[c][r][p].y * zCoeff - tileY);\n            }\n          }\n        }\n\n        ctx.clip();\n      }\n\n      pattern = ctx.createPattern(imageObj, \"repeat\");\n      ctx.beginPath();\n      ctx.rect(0, 0, canvas.width, canvas.height);\n      ctx.fillStyle = pattern;\n      ctx.fill();\n      callback();\n    };\n\n    if (this.options.crossOrigin) {\n      imageObj.crossOrigin = '';\n    }\n\n    imageObj.onload = function () {\n      //TODO: implement correct image loading cancelation\n      canvas.complete = true; //HACK: emulate HTMLImageElement property to make happy L.TileLayer\n\n      setTimeout(setPattern, 0); //IE9 bug - black tiles appear randomly if call setPattern() without timeout\n    };\n\n    imageObj.src = url;\n  },\n  onAdd: function onAdd(map) {\n    (L.TileLayer.Canvas || L.TileLayer).prototype.onAdd.call(this, map);\n\n    if (this.options.trackAttribution) {\n      map.on('moveend', this._updateAttribution, this);\n\n      this._updateAttribution();\n    }\n  },\n  onRemove: function onRemove(map) {\n    (L.TileLayer.Canvas || L.TileLayer).prototype.onRemove.call(this, map);\n\n    if (this.options.trackAttribution) {\n      map.off('moveend', this._updateAttribution, this);\n\n      if (!this._attributionRemoved) {\n        var attribution = L.TileLayer.BoundaryCanvas.prototype.getAttribution.call(this);\n        map.attributionControl.removeAttribution(attribution);\n      }\n    }\n  },\n  _updateAttribution: function _updateAttribution() {\n    var geom = this._getOriginalMercBoundary(),\n        mapBounds = this._map.getBounds(),\n        mercBounds = L.bounds(this._map.project(mapBounds.getSouthWest(), 0), this._map.project(mapBounds.getNorthEast(), 0)),\n        state = this._getClippedGeometry(geom, mercBounds);\n\n    if (this._attributionRemoved !== !!state.isOut) {\n      var attribution = L.TileLayer.BoundaryCanvas.prototype.getAttribution.call(this);\n\n      this._map.attributionControl[state.isOut ? 'removeAttribution' : 'addAttribution'](attribution);\n\n      this._attributionRemoved = !!state.isOut;\n    }\n  }\n};\n\nif (L.version >= '0.8') {\n  L.TileLayer.BoundaryCanvas = L.TileLayer.extend({\n    options: {\n      // all rings of boundary should be without self-intersections or intersections with other rings\n      // zero-winding fill algorithm is used in canvas, so holes should have opposite direction to exterior ring\n      // boundary can be\n      // LatLng[] - simple polygon\n      // LatLng[][] - polygon with holes\n      // LatLng[][][] - multipolygon\n      boundary: null\n    },\n    includes: ExtendMethods,\n    initialize: function initialize(url, options) {\n      L.TileLayer.prototype.initialize.call(this, url, options);\n      this._boundaryCache = {}; //cache index \"x:y:z\"\n\n      this._mercBoundary = null;\n      this._mercBbox = null;\n\n      if (this.options.trackAttribution) {\n        this._attributionRemoved = true;\n        this.getAttribution = null;\n      }\n    },\n    createTile: function createTile(coords, done) {\n      var tile = document.createElement('canvas'),\n          url = this.getTileUrl(coords);\n      tile.width = tile.height = this.options.tileSize;\n\n      this._drawTileInternal(tile, coords, url, L.bind(done, null, null, tile));\n\n      return tile;\n    }\n  });\n} else {\n  L.TileLayer.BoundaryCanvas = L.TileLayer.Canvas.extend({\n    options: {\n      // all rings of boundary should be without self-intersections or intersections with other rings\n      // zero-winding fill algorithm is used in canvas, so holes should have opposite direction to exterior ring\n      // boundary can be\n      // LatLng[] - simple polygon\n      // LatLng[][] - polygon with holes\n      // LatLng[][][] - multipolygon\n      boundary: null\n    },\n    includes: ExtendMethods,\n    initialize: function initialize(url, options) {\n      L.Util.setOptions(this, options);\n      L.Util.setOptions(this, {\n        async: true\n      }); //image loading is always async\n\n      this._url = url;\n      this._boundaryCache = {}; //cache index \"x:y:z\"\n\n      this._mercBoundary = null;\n      this._mercBbox = null;\n\n      if (this.options.trackAttribution) {\n        this._attributionRemoved = true;\n        this.getAttribution = null;\n      }\n    },\n    drawTile: function drawTile(canvas, tilePoint) {\n      var adjustedTilePoint = L.extend({}, tilePoint),\n          url;\n\n      this._adjustTilePoint(adjustedTilePoint);\n\n      url = this.getTileUrl(adjustedTilePoint);\n\n      this._drawTileInternal(canvas, tilePoint, url, L.bind(this.tileDrawn, this, canvas)); //Leaflet v0.7.x bugfix (L.Tile.Canvas doesn't support maxNativeZoom option)\n\n\n      if (this._getTileSize() !== this.options.tileSize) {\n        canvas.style.width = canvas.style.height = this._getTileSize() + 'px';\n      }\n    }\n  });\n}\n\nL.TileLayer.boundaryCanvas = function (url, options) {\n  return new L.TileLayer.BoundaryCanvas(url, options);\n};\n\nL.TileLayer.BoundaryCanvas.createFromLayer = function (layer, options) {\n  return new L.TileLayer.BoundaryCanvas(layer._url, L.extend({}, layer.options, options));\n};\n\nvar withBoundary = function withBoundary(layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var boundary = options.boundary;\n  return boundary ? L.TileLayer.BoundaryCanvas.createFromLayer(layer, options) : layer;\n};\n\nvar EVENTS_RE = /^on(.+)$/i;\n\nvar WMSTileLayer =\n/*#__PURE__*/\nfunction (_GridLayer) {\n  _inherits(WMSTileLayer, _GridLayer);\n\n  function WMSTileLayer() {\n    _classCallCheck(this, WMSTileLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(WMSTileLayer).apply(this, arguments));\n  }\n\n  _createClass(WMSTileLayer, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      var url = props.url,\n          boundary = props.boundary,\n          params = _objectWithoutProperties(props, [\"url\", \"boundary\"]);\n\n      var _this$getOptions = this.getOptions(params),\n          _l = _this$getOptions.leaflet,\n          options = _objectWithoutProperties(_this$getOptions, [\"leaflet\"]);\n\n      return withBoundary(tileWMSLayer(url, options), {\n        boundary: boundary\n      });\n    }\n  }, {\n    key: \"updateLeafletElement\",\n    value: function updateLeafletElement(fromProps, toProps) {\n      _get(_getPrototypeOf(WMSTileLayer.prototype), \"updateLeafletElement\", this).call(this, fromProps, toProps);\n\n      var preUuid = fromProps.uuid,\n          prevUrl = fromProps.url,\n          _po = fromProps.opacity,\n          _pz = fromProps.zIndex,\n          prevProps = _objectWithoutProperties(fromProps, [\"uuid\", \"url\", \"opacity\", \"zIndex\"]);\n\n      var _this$getOptions2 = this.getOptions(prevProps),\n          _pl = _this$getOptions2.leaflet,\n          prevParams = _objectWithoutProperties(_this$getOptions2, [\"leaflet\"]);\n\n      var uuid = toProps.uuid,\n          url = toProps.url,\n          _o = toProps.opacity,\n          _z = toProps.zIndex,\n          props = _objectWithoutProperties(toProps, [\"uuid\", \"url\", \"opacity\", \"zIndex\"]);\n\n      var _this$getOptions3 = this.getOptions(props),\n          _l = _this$getOptions3.leaflet,\n          params = _objectWithoutProperties(_this$getOptions3, [\"leaflet\"]);\n\n      if (uuid !== preUuid) {\n        this.leafletElement.uuid = uuid;\n      }\n\n      if (url !== prevUrl) {\n        this.leafletElement.setUrl(url);\n      }\n\n      if (!isEqual(params, prevParams)) {\n        this.leafletElement.setParams(params);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(params) {\n      var superOptions = _get(_getPrototypeOf(WMSTileLayer.prototype), \"getOptions\", this).call(this, params);\n\n      return Object.keys(superOptions).reduce(function (options, key) {\n        if (!EVENTS_RE.test(key)) {\n          options[key] = superOptions[key];\n        }\n\n        return options;\n      }, {});\n    }\n  }]);\n\n  return WMSTileLayer;\n}(GridLayer);\n\nWMSTileLayer.propTypes = {\n  layers: PropTypes.string.isRequired\n};\nvar WMSTileLayer$1 = withLeaflet(WMSTileLayer);\n\nvar TileLayer =\n/*#__PURE__*/\nfunction (_GridLayer) {\n  _inherits(TileLayer, _GridLayer);\n\n  function TileLayer() {\n    _classCallCheck(this, TileLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TileLayer).apply(this, arguments));\n  }\n\n  _createClass(TileLayer, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(_ref) {\n      var boundary = _ref.boundary,\n          props = _objectWithoutProperties(_ref, [\"boundary\"]);\n\n      var url = props.url,\n          params = _objectWithoutProperties(props, [\"url\"]);\n\n      var _this$getOptions = this.getOptions(params),\n          _l = _this$getOptions.leaflet,\n          options = _objectWithoutProperties(_this$getOptions, [\"leaflet\"]);\n\n      return withBoundary(new TileLayer$2(url, options), {\n        boundary: boundary\n      });\n    }\n  }, {\n    key: \"updateLeafletElement\",\n    value: function updateLeafletElement(fromProps, toProps) {\n      _get(_getPrototypeOf(TileLayer.prototype), \"updateLeafletElement\", this).call(this, fromProps, toProps);\n\n      if (toProps.url !== fromProps.url) {\n        this.leafletElement.setUrl(toProps.url);\n      }\n    }\n  }]);\n\n  return TileLayer;\n}(GridLayer);\n\nvar TileLayer$1 = withLeaflet(TileLayer);\n\nfunction usePopupInfo() {\n  var dispatch = useDispatch();\n\n  var _useLeaflet = useLeaflet(),\n      map = _useLeaflet.map;\n\n  var layers = useSelector(selectors$5.getLayers);\n  useEffect(function () {\n    var showInfo = function showInfo(_ref) {\n      var latlng = _ref.latlng;\n      var info = {\n        uuid: uniqid(),\n        position: [latlng.lat, latlng.lng],\n        items: []\n      };\n      getWMSLayers(map).map(function (l) {\n        var infoUrl = l.getFeatureInfoUrl(latlng);\n        info.items.push({\n          loaded: false,\n          infoUrl: infoUrl,\n          layers: l.options.layers,\n          zIndex: l.options.zIndex,\n          uuid: l.uuid,\n          content: ''\n        });\n      });\n      dispatch(actions$4.getWMSInfo(info));\n    };\n\n    map.on('click', showInfo);\n    return function () {\n      map.off('click', showInfo);\n    };\n  }, [JSON.stringify(layers)]);\n}\n\n//     const dispatch = useDispatch()\n//     let content = popup.content\n//     useEffect(() => {\n//         if (content) {\n//             let $popupEl = $(popupRef.current.leafletElement.getElement())\n//             setTimeout(() => {\n//                 $popupEl.find('[data-react]').click(function () {\n//                     let {action} = $(this).data()\n//                     dispatch(acts[action.name](...action.params);)\n//                 })\n//             }, 200)\n//         }\n//     }, [content])\n// }\n\nfunction PopupWMS(_ref) {\n  var map = _ref.map,\n      popup = _ref.popup,\n      children = _ref.children;\n  var popupRef = useRef();\n  usePopupInfo(); // usePopupOnClick(popup || {}, popupRef)\n\n  if (!popup) return;\n  if (!popup.position) return;\n  return React.createElement(Popup, {\n    ref: popupRef,\n    position: popup.position,\n    minWidth: 280\n  }, React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: popup.content\n    }\n  }), popup.model && cloneElement(children, popup));\n}\n\nvar withConnect = connect(function (state) {\n  return {\n    popup: selectors$5.getCurrentPopup(state)\n  };\n});\nvar PopupWMS$1 = compose(withConnect, memo)(PopupWMS);\n\nfunction LayersManager() {\n  var layersControl = useSelector(selectors$5.getLayersControl);\n  var props = useSelector(function (state) {\n    return selectors$5.getControl(state, 'layers') || {};\n  });\n  if (isEmpty(layersControl) || !props || get(props, 'enabled') === false) return React.createElement(Fragment, null);\n  return React.createElement(LayersControl, props, layersControl.map(function (_ref, k) {\n    var Wrapper = _ref.wrapper,\n        wrapperProps = _ref.wrapperProps,\n        Layer = _ref.layer,\n        layerProps = _ref.layerProps;\n    return React.createElement(Wrapper, _extends({\n      key: k\n    }, wrapperProps, {\n      checked: wrapperProps.checked\n    }), React.createElement(Layer, layerProps));\n  }));\n}\n\nvar LayersManager$1 = memo(LayersManager);\n\nvar SearchControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(SearchControl, _MapControl);\n\n  function SearchControl() {\n    _classCallCheck(this, SearchControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SearchControl).apply(this, arguments));\n  }\n\n  _createClass(SearchControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return geosearch();\n    }\n  }]);\n\n  return SearchControl;\n}(MapControl);\n\nvar SearchControl$1 = withLeaflet(SearchControl);\n\nvar FullscreenControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(FullscreenControl, _MapControl);\n\n  function FullscreenControl() {\n    _classCallCheck(this, FullscreenControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FullscreenControl).apply(this, arguments));\n  }\n\n  _createClass(FullscreenControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new Control.Fullscreen(props);\n    }\n  }]);\n\n  return FullscreenControl;\n}(MapControl);\n\nvar FullscreenControl$1 = withLeaflet(FullscreenControl);\n\nvar LocateControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(LocateControl, _MapControl);\n\n  function LocateControl() {\n    _classCallCheck(this, LocateControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LocateControl).apply(this, arguments));\n  }\n\n  _createClass(LocateControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new Control.Locate(props);\n    }\n  }]);\n\n  return LocateControl;\n}(MapControl);\n\nvar LocateControl$1 = withLeaflet(LocateControl);\n\nvar MeasureControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(MeasureControl, _MapControl);\n\n  function MeasureControl() {\n    _classCallCheck(this, MeasureControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MeasureControl).apply(this, arguments));\n  }\n\n  _createClass(MeasureControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new Control.PolylineMeasure(props);\n    }\n  }]);\n\n  return MeasureControl;\n}(MapControl);\n\nvar MeasureControl$1 = withLeaflet(MeasureControl);\n\nvar SideBySideControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(SideBySideControl, _MapControl);\n\n  function SideBySideControl() {\n    _classCallCheck(this, SideBySideControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SideBySideControl).apply(this, arguments));\n  }\n\n  _createClass(SideBySideControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new SideBySide(props);\n    }\n  }]);\n\n  return SideBySideControl;\n}(MapControl);\n\nvar SideBySideControl$1 = withLeaflet(SideBySideControl);\n\nvar RulerControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(RulerControl, _MapControl);\n\n  function RulerControl() {\n    _classCallCheck(this, RulerControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RulerControl).apply(this, arguments));\n  }\n\n  _createClass(RulerControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new Control.PolylineMeasure(props);\n    }\n  }]);\n\n  return RulerControl;\n}(MapControl);\n\nRulerControl.defaultProps = {\n  unit: 'metres',\n  showClearControl: true,\n  showUnitControl: true,\n  showBearings: false,\n  clearMeasurementsOnStop: true,\n  measureControlTitleOn: 'Bật thước đo',\n  measureControlTitleOff: 'Tắt thước đo',\n  measureControlLabel: '<i class=\"icon-rulers\"/>',\n  clearControlTitle: 'Clear Measurements'\n};\nvar RulerControl$1 = withLeaflet(RulerControl);\n\nvar Header = Modal.Header,\n    Title = Modal.Title,\n    Body = Modal.Body,\n    Footer = Modal.Footer;\n\nfunction getCroppedImg(image, pixelCrop) {\n  var canvas = document.createElement('canvas');\n  canvas.width = pixelCrop.width;\n  canvas.height = pixelCrop.height;\n  var ctx = canvas.getContext('2d');\n  ctx.drawImage(image, pixelCrop.x, pixelCrop.y, pixelCrop.width, pixelCrop.height, 0, 0, pixelCrop.width, pixelCrop.height);\n  return canvas.toDataURL();\n}\n\nfunction ExportMapModal(_ref) {\n  var isOpen = _ref.isOpen,\n      onClose = _ref.onClose,\n      map = _ref.map,\n      props = _objectWithoutProperties(_ref, [\"isOpen\", \"onClose\", \"map\"]);\n\n  var _useImmer = useImmer({\n    loading: true,\n    src: null,\n    crop: {\n      unit: '%'\n    },\n    croppedSrc: null\n  }),\n      _useImmer2 = _slicedToArray(_useImmer, 2),\n      _useImmer2$ = _useImmer2[0],\n      loading = _useImmer2$.loading,\n      src = _useImmer2$.src,\n      crop = _useImmer2$.crop,\n      setSrc = _useImmer2[1];\n\n  var imageRef = useRef();\n\n  var onCropChange = function onCropChange(crop) {\n    return setSrc(function (state) {\n      state.crop = crop;\n    });\n  };\n\n  var onImageLoaded = function onImageLoaded(image) {\n    return imageRef.current = image;\n  };\n\n  var onSave = function onSave() {\n    var croppedImgSrc = crop.width === 0 && crop.height === 0 ? src : getCroppedImg(imageRef.current, crop);\n    FileSaver.saveAs(croppedImgSrc, 'Bando.jpg');\n    onClose();\n  };\n\n  useEffect(function () {\n    leafletImage(map, function (err, canvas) {\n      setSrc(function (state) {\n        state.loading = false;\n        state.src = canvas.toDataURL();\n      });\n    });\n  }, []);\n  return React.createElement(Modal, {\n    show: isOpen,\n    onHide: onClose,\n    dialogClassName: \"modal-export-map-w\"\n  }, React.createElement(Header, {\n    className: \"bordered\",\n    closeButton: true\n  }, React.createElement(Title, {\n    className: \"font-weight-semibold\"\n  }, \"Xu\\u1EA5t b\\u1EA3n \\u0111\\u1ED3\")), React.createElement(Body, {\n    style: {\n      padding: '12px 0'\n    }\n  }, loading ? React.createElement(ProgressBar, {\n    animated: true,\n    now: 100,\n    className: \"m-2\"\n  }) : React.createElement(ReactCrop, {\n    src: src,\n    ruleOfThirds: true,\n    crop: crop,\n    onChange: onCropChange,\n    onImageLoaded: onImageLoaded\n  })), React.createElement(Footer, null, React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: onClose\n  }, \"\\u0110\\xF3ng\"), !loading && React.createElement(Button, {\n    variant: \"primary\",\n    onClick: onSave\n  }, \"L\\u01B0u file\")));\n}\n\nfunction ExportMapControl() {\n  var _useLeaflet = useLeaflet(),\n      map = _useLeaflet.map;\n\n  var _useModal = useModal(ExportMapModal, {\n    map: map\n  }),\n      _useModal2 = _slicedToArray(_useModal, 2),\n      onShow = _useModal2[0],\n      onHide = _useModal2[1];\n\n  useDidMount(function () {\n    emitter.on('exportMap', onShow);\n  });\n}\n\nvar ExportMapControl$1 = memo(ExportMapControl);\n\nL.Control.Legend = L.Control.extend({\n  _map: null,\n  includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\n  options: {\n    position: 'topright',\n    legends: [],\n    // array of legend entries - see README for format\n    detectStretched: false,\n    // if true, will test to see if legend entries look stretched.  These are usually in sets of 3 with the middle element having no label.\n    collapsed: true,\n    label: 'Legend'\n  },\n  onAdd: function onAdd(map) {\n    this._map = map;\n    var container = L.DomUtil.create('div', 'leaflet-control leaflet-legend');\n    this._container = container; // Disable events on container\n\n    L.DomEvent.disableClickPropagation(container);\n\n    if (!L.Browser.touch) {\n      L.DomEvent.disableScrollPropagation(container);\n    }\n\n    this.render();\n    return this._container;\n  },\n  // render this.options.entries\n  render: function render() {\n    L.DomUtil.empty(this._container);\n    var legends = this.options.legends,\n        collapsed = this.options.collapsed,\n        className = 'leaflet-legend';\n    if (!legends) return;\n    var link = L.DomUtil.create('a', className + '-toggle', this._container);\n    link.href = '#';\n    link.title = 'legend';\n    link.innerHTML = this.options.label;\n\n    if (L.Browser.touch) {\n      L.DomEvent.on(link, 'click', L.DomEvent.stop);\n      L.DomEvent.on(link, 'click', this.expand, this);\n    } else {\n      L.DomEvent.on(link, 'focus', this.expand, this);\n    }\n\n    if (collapsed) {\n      this._map.on('click', this.collapse, this);\n\n      if (!L.Browser.android) {\n        L.DomEvent.on(this._container, {\n          'mouseover': this.expand,\n          'mouseout': this.collapse\n        }, this);\n      }\n    }\n\n    var list = L.DomUtil.create('div', className + '-list');\n    legends.forEach(function (legend) {\n      var items = legend.items;\n      if (legend.visible === false) return null;\n      className = 'legend-block';\n\n      if (this.options.detectStretched) {\n        if (items && items.length === 3 && items[0].label !== '' && items[1].label === '' && items[2].label !== '') {\n          legend.type = 'stretched';\n        }\n      }\n\n      if (legend.type === 'stretched') {\n        className += ' legend-stretched';\n      }\n\n      var block = L.DomUtil.create('div', className, list);\n\n      if (!items) {\n        this._addElement(legend, block);\n\n        return;\n      }\n\n      if (legend.label) {\n        var closedClass = legend.collapsed === true ? 'closed' : '';\n        var header = L.DomUtil.create('h4', closedClass, block);\n        L.DomUtil.create('div', 'caret', header);\n        L.DomUtil.create('span', null, header).innerHTML = legend.label;\n        L.DomEvent.on(header, 'click', function () {\n          if (L.DomUtil.hasClass(header, 'closed')) {\n            L.DomUtil.removeClass(header, 'closed');\n          } else {\n            L.DomUtil.addClass(header, 'closed');\n          }\n        }, this);\n      }\n\n      var elementContainer = L.DomUtil.create('div', 'legend-items', block);\n      items.forEach(function (element) {\n        if (element.visible === false) return null;\n\n        this._addElement(element, elementContainer);\n      }, this);\n    }, this);\n\n    if (!collapsed) {\n      this.expand();\n    }\n\n    this._container.appendChild(list);\n  },\n  _addElement: function _addElement(legend, container) {\n    var label = legend.label,\n        imageData = legend.imageData,\n        imageUrl = legend.imageUrl,\n        color = legend.color,\n        style = legend.style,\n        html = legend.html;\n    var row = L.DomUtil.create('div', 'legend-row', container);\n\n    if (imageData) {\n      L.DomUtil.create('img', null, row).src = imageData;\n    } else if (imageUrl) {\n      var imgbox = L.DomUtil.create('div', 'leaflet-legend-image-url', row);\n      imgbox.style.backgroundImage = \"url(\".concat(imageUrl, \")\");\n      imgbox.style.backgroundSize = '20px';\n    } else if (color) {\n      var colorbox = L.DomUtil.create('div', 'leaflet-legend-color', row);\n      colorbox.style.backgroundColor = color;\n      map$1(style, function (v, k) {\n        return colorbox.style[k] = v;\n      });\n    } else if (html) {\n      L.DomUtil.create('div', 'leaflet-legend-html', row).innerHTML = html;\n    }\n\n    if (!!label) {\n      L.DomUtil.create('label', null, row).innerHTML = label;\n    }\n  },\n  expand: function expand() {\n    L.DomUtil.addClass(this._container, 'leaflet-legend-expanded');\n    return this;\n  },\n  collapse: function collapse() {\n    L.DomUtil.removeClass(this._container, 'leaflet-legend-expanded');\n    return this;\n  }\n});\n\nL.control.legend = function (options) {\n  return new L.Control.Legend(options);\n};\n\nvar legendControl = L.control.legend;\n\nvar legends = [{\n  \"label\": \"A simple element\",\n  // \"imageUrl\": \"https://image.flaticon.com/icons/png/512/361/361890.png\"\n  // \"color\": \"red\",\n  \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAO5JREFUOI3NlD0OgzAMhd+AIliYsnhHbD4Np+QwnVgjBq4QIeypHarQ0ECBlqFvc5R8evFf1rbtHRcqi4O+7zGO4+bluq4hIhiGIYmZ+QXsug4AYK39CBQR5HmexOE9My8dEhGIaPdbwU1Q0zQQkZdDay2maQIAlGUJY8wuFAC891DVhfMsOAsyxqCqqkNA5xxUdc7p/OU4B78q27/yBTDO4SXAI5U9Bfz/HP6quAaXAOMaXALcnGXgOU7OuUMg731ylgBVFap6yuFqDuMVRkRzvCVmXuzPxT6M++/MxBRFkezP2eF7Ux9p8pX9eXsAPNt0X7NgcsoAAAAASUVORK5CYII=\"\n}, {\n  \"label\": \"A longer legend\",\n  // \"collapsed\": true,\n  // \"visible\": false,\n  \"items\": [{\n    \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHJJREFUOI1jYaAyYIExcnJyGigxaMqUKQ1wA3Nychq0VAXrRYS5yDLs/uNPDDk5OQxTpkxpgLtQRJiLQVNNlGwXPn76mQHuQmqCUQNHDRw1cJgZeP/xJ7INefP2G6qBU6ZMacjJyYEXQeQAlAIWWYBSAABjPiDfvMzQCwAAAABJRU5ErkJggg==\",\n    \"label\": \"Alabama\"\n  }, {\n    \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHFJREFUOI3t1CEOgDAQBMATJSGhjmDw8Lr9A/eI/WGDJCCqqEHRUNtWka66nJisWiOVY94DgJZAJDWCAHSZ7m20IQtzZy8AhKTGhqMNss4+u+F+DRIb1kwDG9jAn4Hu7LORw3cpSFIBxAnKSTKw30dpHoqHIAJwBO9uAAAAAElFTkSuQmCC\",\n    \"label\": \"Wyoming\"\n  }]\n}];\n\nvar LegendControl =\n/*#__PURE__*/\nfunction (_MapControl) {\n  _inherits(LegendControl, _MapControl);\n\n  function LegendControl() {\n    _classCallCheck(this, LegendControl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LegendControl).apply(this, arguments));\n  }\n\n  _createClass(LegendControl, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return legendControl(props);\n    }\n  }]);\n\n  return LegendControl;\n}(MapControl);\n\nLegendControl.propTypes = {};\nLegendControl.defaultProps = {\n  position: 'bottomleft',\n  label: 'Legend',\n  legends: legends,\n  collapsed: false,\n  detectStretched: true\n};\nvar LegendControl$1 = withLeaflet(LegendControl);\n\nvar ctrlComps = {\n  zoom: ZoomControl,\n  scale: ScaleControl,\n  attribute: AttributionControl,\n  search: SearchControl$1,\n  locate: LocateControl$1,\n  measure: MeasureControl$1,\n  fullscreen: FullscreenControl$1,\n  sidebyside: SideBySideControl$1,\n  ruler: RulerControl$1,\n  exportMap: ExportMapControl$1\n};\n\nvar Empty = memo(function () {\n  return React.createElement(React.Fragment, null);\n});\n\nfunction ControlsManager() {\n  var ctrls = omit(useSelector(selectors$5.getControls), ['layers']);\n  if (isEmpty(ctrls)) return React.createElement(Fragment, null);\n  return fnFormatCtrls(ctrls).filter(function (v) {\n    return v.enabled === true || isUndefined(v.enabled);\n  }).map(function (_ref, k) {\n    var name = _ref.name,\n        props = _objectWithoutProperties(_ref, [\"name\"]);\n\n    var Component = get(ctrlComps, name, Empty);\n    return React.createElement(Component, _extends({\n      key: k\n    }, props));\n  });\n}\n\nvar ControlsManager$1 = memo(ControlsManager);\n\nfunction useUpdateZoom(map) {\n  var dispatch = useDispatch();\n  var zoom = useSelector(selectors$5.getZoom);\n  useEffect(function () {\n    if (zoom && zoom !== map.getZoom()) dispatch(actions$4.setZoom(map.getZoom()));\n    map.on('zoomend', function (e) {\n      return dispatch(actions$4.setZoom(e.target.getZoom()));\n    });\n  }, []);\n}\n\nfunction useUpdateMapSize(map) {\n  var updateMapSize = function updateMapSize() {\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return setTimeout(function () {\n      return map.invalidateSize();\n    }, delay);\n  };\n\n  useEffect(function () {\n    updateMapSize();\n    var onResizeSb = emitter.on(\"@layout/RESIZE_SIDEBAR\", updateMapSize);\n    var onToggleMapFullscreen = emitter.on(\"@layout/TOGGLE_MAP_FULLSCREEN\", function () {\n      return updateMapSize(400);\n    });\n    return function () {\n      onResizeSb.remove();\n      onToggleMapFullscreen.remove();\n    };\n  }, []);\n}\n\nfunction EventsManager() {\n  var _useLeaflet = useLeaflet(),\n      map = _useLeaflet.map;\n\n  useUpdateZoom(map);\n  useUpdateMapSize(map);\n  return React.createElement(React.Fragment, null);\n}\n\nvar EventsManager$1 = memo(EventsManager);\n\nfunction LeafletContainer(_ref) {\n  var children = _ref.children,\n      mapOptions = _ref.mapOptions,\n      loading = _ref.loading;\n  if (loading || !mapOptions.center) return null;\n  return React.createElement(React.Fragment, null, React.createElement(Map, mapOptions, React.createElement(LayersManager$1, null), React.createElement(ControlsManager$1, null), React.createElement(EventsManager$1, null), children));\n}\n\nvar makeMapOptions = createSelector([selectors$5.getConfig, selectors$5.getMapOptions], function (config, options) {\n  return _objectSpread2({\n    style: {\n      height: '100%',\n      background: 'white'\n    }\n  }, options, {}, config);\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    mapOptions: makeMapOptions(state),\n    loading: selectors$5.getLoading(state)\n  };\n};\n\nvar withConnect$1 = connect(mapStateToProps);\nvar LeafletContainer$1 = compose(withConnect$1, memo)(LeafletContainer);\n\nvar getIcon = function getIcon(_ref) {\n  var selected = _ref.selected;\n  var options = {\n    icon: 'fa-circle-o',\n    markerColor: selected ? 'orange' : 'cyan',\n    shape: selected ? 'square' : 'circle',\n    prefix: 'fa'\n  };\n  return L.ExtraMarkers.icon(options);\n};\n\nfunction Marker(_ref2) {\n  var children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, [\"children\"]);\n\n  return React.createElement(Marker$2, _extends({\n    icon: getIcon(props)\n  }, props), children);\n}\n\nvar Marker$1 = memo(Marker);\n\nvar GeoJSON =\n/*#__PURE__*/\nfunction (_Path) {\n  _inherits(GeoJSON, _Path);\n\n  function GeoJSON() {\n    _classCallCheck(this, GeoJSON);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GeoJSON).apply(this, arguments));\n  }\n\n  _createClass(GeoJSON, [{\n    key: \"createLeafletElement\",\n    value: function createLeafletElement(props) {\n      return new GeoJSON$2(props.data, this.getOptions(props));\n    }\n  }, {\n    key: \"updateLeafletElement\",\n    value: function updateLeafletElement(fromProps, toProps) {\n      if (typeof toProps.style === 'function') {\n        this.leafletElement.setStyle(toProps.style);\n      } else {\n        this.setStyleIfChanged(fromProps, toProps);\n      }\n\n      if (!isEqual$1(toProps.data, this.getPathOptions(fromProps.data))) {\n        this.layerContainer.removeLayer(this.leafletElement);\n        this.leafletElement = this.createLeafletElement(toProps);\n        this.layerContainer.addLayer(this.leafletElement);\n      }\n    }\n  }]);\n\n  return GeoJSON;\n}(Path);\n\nvar GeoJSON$1 = withLeaflet(GeoJSON);\n\nexport { BASEMAP, ExportMapControl$1 as ExportMapControl, FullscreenControl$1 as FullscreenControl, GeoJSON$1 as GeoJSON, KEY, LeafletContainer$1 as LeafletContainer, LegendControl$1 as LegendControl, LocateControl$1 as LocateControl, MapConsumer, MapContext, MapProvider, Marker$1 as Marker, MeasureControl$1 as MeasureControl, OVERLAY, PopManager$1 as PopManager, PopupWMS$1 as PopupWMS, RulerControl$1 as RulerControl, SearchControl$1 as SearchControl, SideBySideControl$1 as SideBySideControl, TileLayer$1 as TileLayer, WMSTileLayer$1 as WMSTileLayer, actions$4 as actions, reducer, index as sagas, selectors$5 as selectors, slices };\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('urijs'), require('lodash-es')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'urijs', 'lodash-es'], factory) :\n\t(global = global || self, factory(global.validator = {}, global.URI, global._));\n}(this, function (exports, URI, lodashEs) { 'use strict';\n\n\tURI = URI && URI.hasOwnProperty('default') ? URI['default'] : URI;\n\n\tfunction unwrapExports (x) {\n\t\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n\t}\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar assertString_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = assertString;\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\tfunction assertString(input) {\n\t  var isString = typeof input === 'string' || input instanceof String;\n\n\t  if (!isString) {\n\t    var invalidType;\n\n\t    if (input === null) {\n\t      invalidType = 'null';\n\t    } else {\n\t      invalidType = _typeof(input);\n\n\t      if (invalidType === 'object' && input.constructor && input.constructor.hasOwnProperty('name')) {\n\t        invalidType = input.constructor.name;\n\t      } else {\n\t        invalidType = \"a \".concat(invalidType);\n\t      }\n\t    }\n\n\t    throw new TypeError(\"Expected string but received \".concat(invalidType, \".\"));\n\t  }\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(assertString_1);\n\n\tvar isLatLong = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _default;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar lat = /^\\(?[+-]?(90(\\.0+)?|[1-8]?\\d(\\.\\d+)?)$/;\n\tvar long = /^\\s?[+-]?(180(\\.0+)?|1[0-7]\\d(\\.\\d+)?|\\d{1,2}(\\.\\d+)?)\\)?$/;\n\n\tfunction _default(str) {\n\t  (0, _assertString.default)(str);\n\t  if (!str.includes(',')) return false;\n\t  var pair = str.split(',');\n\t  return lat.test(pair[0]) && long.test(pair[1]);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isLatLong$1 = unwrapExports(isLatLong);\n\n\tvar isDataURI_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isDataURI;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar validMediaType = /^[a-z]+\\/[a-z0-9\\-\\+]+$/i;\n\tvar validAttribute = /^[a-z\\-]+=[a-z0-9\\-]+$/i;\n\tvar validData = /^[a-z0-9!\\$&'\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*$/i;\n\n\tfunction isDataURI(str) {\n\t  (0, _assertString.default)(str);\n\t  var data = str.split(',');\n\n\t  if (data.length < 2) {\n\t    return false;\n\t  }\n\n\t  var attributes = data.shift().trim().split(';');\n\t  var schemeAndMediaType = attributes.shift();\n\n\t  if (schemeAndMediaType.substr(0, 5) !== 'data:') {\n\t    return false;\n\t  }\n\n\t  var mediaType = schemeAndMediaType.substr(5);\n\n\t  if (mediaType !== '' && !validMediaType.test(mediaType)) {\n\t    return false;\n\t  }\n\n\t  for (var i = 0; i < attributes.length; i++) {\n\t    if (i === attributes.length - 1 && attributes[i].toLowerCase() === 'base64') ; else if (!validAttribute.test(attributes[i])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  for (var _i = 0; _i < data.length; _i++) {\n\t    if (!validData.test(data[_i])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isDataURI = unwrapExports(isDataURI_1);\n\n\tvar merge_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = merge;\n\n\tfunction merge() {\n\t  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var defaults = arguments.length > 1 ? arguments[1] : undefined;\n\n\t  for (var key in defaults) {\n\t    if (typeof obj[key] === 'undefined') {\n\t      obj[key] = defaults[key];\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(merge_1);\n\n\tvar isByteLength_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isByteLength;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\t/* eslint-disable prefer-rest-params */\n\tfunction isByteLength(str, options) {\n\t  (0, _assertString.default)(str);\n\t  var min;\n\t  var max;\n\n\t  if (_typeof(options) === 'object') {\n\t    min = options.min || 0;\n\t    max = options.max;\n\t  } else {\n\t    // backwards compatibility: isByteLength(str, min [, max])\n\t    min = arguments[1];\n\t    max = arguments[2];\n\t  }\n\n\t  var len = encodeURI(str).split(/%..|./).length - 1;\n\t  return len >= min && (typeof max === 'undefined' || len <= max);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isByteLength_1);\n\n\tvar isFQDN_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isFQDN;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tvar _merge = _interopRequireDefault(merge_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar default_fqdn_options = {\n\t  require_tld: true,\n\t  allow_underscores: false,\n\t  allow_trailing_dot: false\n\t};\n\n\tfunction isFQDN(str, options) {\n\t  (0, _assertString.default)(str);\n\t  options = (0, _merge.default)(options, default_fqdn_options);\n\t  /* Remove the optional trailing dot before checking validity */\n\n\t  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n\t    str = str.substring(0, str.length - 1);\n\t  }\n\n\t  var parts = str.split('.');\n\n\t  for (var i = 0; i < parts.length; i++) {\n\t    if (parts[i].length > 63) {\n\t      return false;\n\t    }\n\t  }\n\n\t  if (options.require_tld) {\n\t    var tld = parts.pop();\n\n\t    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n\t      return false;\n\t    } // disallow spaces\n\n\n\t    if (/[\\s\\u2002-\\u200B\\u202F\\u205F\\u3000\\uFEFF\\uDB40\\uDC20]/.test(tld)) {\n\t      return false;\n\t    }\n\t  }\n\n\t  for (var part, _i = 0; _i < parts.length; _i++) {\n\t    part = parts[_i];\n\n\t    if (options.allow_underscores) {\n\t      part = part.replace(/_/g, '');\n\t    }\n\n\t    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n\t      return false;\n\t    } // disallow full-width chars\n\n\n\t    if (/[\\uff01-\\uff5e]/.test(part)) {\n\t      return false;\n\t    }\n\n\t    if (part[0] === '-' || part[part.length - 1] === '-') {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isFQDN_1);\n\n\tvar isIP_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isIP;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\n\tvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\n\tfunction isIP(str) {\n\t  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t  (0, _assertString.default)(str);\n\t  version = String(version);\n\n\t  if (!version) {\n\t    return isIP(str, 4) || isIP(str, 6);\n\t  } else if (version === '4') {\n\t    if (!ipv4Maybe.test(str)) {\n\t      return false;\n\t    }\n\n\t    var parts = str.split('.').sort(function (a, b) {\n\t      return a - b;\n\t    });\n\t    return parts[3] <= 255;\n\t  } else if (version === '6') {\n\t    var blocks = str.split(':');\n\t    var foundOmissionBlock = false; // marker to indicate ::\n\t    // At least some OS accept the last 32 bits of an IPv6 address\n\t    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n\t    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n\t    // and '::a.b.c.d' is deprecated, but also valid.\n\n\t    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n\t    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n\t    if (blocks.length > expectedNumberOfBlocks) {\n\t      return false;\n\t    } // initial or final ::\n\n\n\t    if (str === '::') {\n\t      return true;\n\t    } else if (str.substr(0, 2) === '::') {\n\t      blocks.shift();\n\t      blocks.shift();\n\t      foundOmissionBlock = true;\n\t    } else if (str.substr(str.length - 2) === '::') {\n\t      blocks.pop();\n\t      blocks.pop();\n\t      foundOmissionBlock = true;\n\t    }\n\n\t    for (var i = 0; i < blocks.length; ++i) {\n\t      // test for a :: which can not be at the string start/end\n\t      // since those cases have been handled above\n\t      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n\t        if (foundOmissionBlock) {\n\t          return false; // multiple :: in address\n\t        }\n\n\t        foundOmissionBlock = true;\n\t      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) ; else if (!ipv6Block.test(blocks[i])) {\n\t        return false;\n\t      }\n\t    }\n\n\t    if (foundOmissionBlock) {\n\t      return blocks.length >= 1;\n\t    }\n\n\t    return blocks.length === expectedNumberOfBlocks;\n\t  }\n\n\t  return false;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isIP_1);\n\n\tvar isEmail_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isEmail;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tvar _merge = _interopRequireDefault(merge_1);\n\n\tvar _isByteLength = _interopRequireDefault(isByteLength_1);\n\n\tvar _isFQDN = _interopRequireDefault(isFQDN_1);\n\n\tvar _isIP = _interopRequireDefault(isIP_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\n\tfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\n\tfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n\tfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\tvar default_email_options = {\n\t  allow_display_name: false,\n\t  require_display_name: false,\n\t  allow_utf8_local_part: true,\n\t  require_tld: true\n\t};\n\t/* eslint-disable max-len */\n\n\t/* eslint-disable no-control-regex */\n\n\tvar splitNameAddress = /^([^\\x00-\\x1F\\x7F-\\x9F\\cX]+)<(.+)>$/i;\n\tvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\n\tvar gmailUserPart = /^[a-z\\d]+$/;\n\tvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\n\tvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\n\tvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\n\tvar defaultMaxEmailLength = 254;\n\t/* eslint-enable max-len */\n\n\t/* eslint-enable no-control-regex */\n\n\t/**\n\t * Validate display name according to the RFC2822: https://tools.ietf.org/html/rfc2822#appendix-A.1.2\n\t * @param {String} display_name\n\t */\n\n\tfunction validateDisplayName(display_name) {\n\t  var trim_quotes = display_name.match(/^\"(.+)\"$/i);\n\t  var display_name_without_quotes = trim_quotes ? trim_quotes[1] : display_name; // display name with only spaces is not valid\n\n\t  if (!display_name_without_quotes.trim()) {\n\t    return false;\n\t  } // check whether display name contains illegal character\n\n\n\t  var contains_illegal = /[\\.\";<>]/.test(display_name_without_quotes);\n\n\t  if (contains_illegal) {\n\t    // if contains illegal characters,\n\t    // must to be enclosed in double-quotes, otherwise it's not a valid display name\n\t    if (!trim_quotes) {\n\t      return false;\n\t    } // the quotes in display name must start with character symbol \\\n\n\n\t    var all_start_with_back_slash = display_name_without_quotes.split('\"').length === display_name_without_quotes.split('\\\\\"').length;\n\n\t    if (!all_start_with_back_slash) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tfunction isEmail(str, options) {\n\t  (0, _assertString.default)(str);\n\t  options = (0, _merge.default)(options, default_email_options);\n\n\t  if (options.require_display_name || options.allow_display_name) {\n\t    var display_email = str.match(splitNameAddress);\n\n\t    if (display_email) {\n\t      var display_name;\n\n\t      var _display_email = _slicedToArray(display_email, 3);\n\n\t      display_name = _display_email[1];\n\t      str = _display_email[2];\n\n\t      // sometimes need to trim the last space to get the display name\n\t      // because there may be a space between display name and email address\n\t      // eg. myname <address@gmail.com>\n\t      // the display name is `myname` instead of `myname `, so need to trim the last space\n\t      if (display_name.endsWith(' ')) {\n\t        display_name = display_name.substr(0, display_name.length - 1);\n\t      }\n\n\t      if (!validateDisplayName(display_name)) {\n\t        return false;\n\t      }\n\t    } else if (options.require_display_name) {\n\t      return false;\n\t    }\n\t  }\n\n\t  if (!options.ignore_max_length && str.length > defaultMaxEmailLength) {\n\t    return false;\n\t  }\n\n\t  var parts = str.split('@');\n\t  var domain = parts.pop();\n\t  var user = parts.join('@');\n\t  var lower_domain = domain.toLowerCase();\n\n\t  if (options.domain_specific_validation && (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com')) {\n\t    /*\n\t      Previously we removed dots for gmail addresses before validating.\n\t      This was removed because it allows `multiple..dots@gmail.com`\n\t      to be reported as valid, but it is not.\n\t      Gmail only normalizes single dots, removing them from here is pointless,\n\t      should be done in normalizeEmail\n\t    */\n\t    user = user.toLowerCase(); // Removing sub-address from username before gmail validation\n\n\t    var username = user.split('+')[0]; // Dots are not included in gmail length restriction\n\n\t    if (!(0, _isByteLength.default)(username.replace('.', ''), {\n\t      min: 6,\n\t      max: 30\n\t    })) {\n\t      return false;\n\t    }\n\n\t    var _user_parts = username.split('.');\n\n\t    for (var i = 0; i < _user_parts.length; i++) {\n\t      if (!gmailUserPart.test(_user_parts[i])) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  if (!(0, _isByteLength.default)(user, {\n\t    max: 64\n\t  }) || !(0, _isByteLength.default)(domain, {\n\t    max: 254\n\t  })) {\n\t    return false;\n\t  }\n\n\t  if (!(0, _isFQDN.default)(domain, {\n\t    require_tld: options.require_tld\n\t  })) {\n\t    if (!options.allow_ip_domain) {\n\t      return false;\n\t    }\n\n\t    if (!(0, _isIP.default)(domain)) {\n\t      if (!domain.startsWith('[') || !domain.endsWith(']')) {\n\t        return false;\n\t      }\n\n\t      var noBracketdomain = domain.substr(1, domain.length - 2);\n\n\t      if (noBracketdomain.length === 0 || !(0, _isIP.default)(noBracketdomain)) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  if (user[0] === '\"') {\n\t    user = user.slice(1, user.length - 1);\n\t    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n\t  }\n\n\t  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n\t  var user_parts = user.split('.');\n\n\t  for (var _i2 = 0; _i2 < user_parts.length; _i2++) {\n\t    if (!pattern.test(user_parts[_i2])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isEmail = unwrapExports(isEmail_1);\n\n\tvar isUUID_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isUUID;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar uuid = {\n\t  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\t  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n\t  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n\t  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i\n\t};\n\n\tfunction isUUID(str) {\n\t  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n\t  (0, _assertString.default)(str);\n\t  var pattern = uuid[version];\n\t  return pattern && pattern.test(str);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isUUID = unwrapExports(isUUID_1);\n\n\tfunction isURL(value) {\n\t  return lodashEs.isString(value) && URI(value).is('url');\n\t}\n\n\tvar isJSON_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isJSON;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\tfunction isJSON(str) {\n\t  (0, _assertString.default)(str);\n\n\t  try {\n\t    var obj = JSON.parse(str);\n\t    return !!obj && _typeof(obj) === 'object';\n\t  } catch (e) {\n\t    /* ignore */\n\t  }\n\n\t  return false;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar _isJSON = unwrapExports(isJSON_1);\n\n\tfunction isJSONStr(value) {\n\t  return lodashEs.isString(value) && _isJSON(value);\n\t}\n\n\tfunction isJSON(value) {\n\t  if (lodashEs.isObject(value)) value = JSON.stringify(value);\n\t  return isJSONStr(value);\n\t}\n\n\tObject.defineProperty(exports, 'isArray', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isArray;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isBoolean', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isBoolean;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isElement', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isElement;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isEmpty', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isEmpty;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isEqual', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isEqual;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isFunction', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isFunction;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNil', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNil;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNull', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNull;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNumber', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNumber;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isObject', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isObject;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isPlainObject', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isPlainObject;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isRegExp', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isRegExp;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isString', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isString;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isUndefined', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isUndefined;\n\t\t}\n\t});\n\texports.isDataURI = isDataURI;\n\texports.isEmail = isEmail;\n\texports.isJSON = isJSON;\n\texports.isJSONStr = isJSONStr;\n\texports.isLatLong = isLatLong$1;\n\texports.isURL = isURL;\n\texports.isUUID = isUUID;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","module.exports = Vuex;","import React, { memo, useEffect } from 'react'\r\n\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport * as am4plugins_forceDirected from \"@amcharts/amcharts4/plugins/forceDirected\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\nam4core.useTheme(am4themes_animated);\r\n\r\nfunction AmCharts({data}) {\r\n    useEffect(() => {\r\n        let chart = am4core.create('chartdiv', am4plugins_forceDirected.ForceDirectedTree)\r\n        let series = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries())\r\n        series.data = data;\r\n\r\n        series.dataFields.value = \"value\";\r\n        series.dataFields.name = \"id\";\r\n        series.dataFields.children = \"children\";\r\n        series.dataFields.color = \"color\";\r\n\r\n        series.nodes.template.label.text = \"{label}\";\r\n        series.nodes.template.label.truncate = true;\r\n\r\n        series.fontSize = 13;\r\n        series.maxRadius = am4core.percent(6);\r\n        // series.minRadius = 30;\r\n        series.maxRadius = 70;\r\n        series.maxLevels = 1;\r\n        series.nodes.template.tooltipText = \"#{id}: {hoten}\";\r\n        // series.nodes.template.fillOpacity = 0.8;\r\n        // series.events.on(\"hit\", function(ev) {\r\n        //     console.log(ev.target);\r\n        // });\r\n\r\n        series.nodes.template.events.on(\"up\", function (event) {\r\n            // const node = event.target;\r\n            // node.expandAll = false;\r\n        });\r\n\r\n        let hoverState = series.links.template.states.create(\"hover\");\r\n        hoverState.properties.strokeWidth = 3;\r\n        hoverState.properties.strokeOpacity = 1;\r\n\r\n        series.nodes.template.events.on(\"over\", function(event) {\r\n            event.target.dataItem.childLinks.each(function(link) {\r\n                link.isHover = true;\r\n            })\r\n            if (event.target.dataItem.parentLink) {\r\n                event.target.dataItem.parentLink.isHover = true;\r\n            }\r\n\r\n        })\r\n\r\n        series.nodes.template.events.on(\"out\", function(event) {\r\n            event.target.dataItem.childLinks.each(function(link) {\r\n                link.isHover = false;\r\n            })\r\n            if (event.target.dataItem.parentLink) {\r\n                event.target.dataItem.parentLink.isHover = false;\r\n            }\r\n        })\r\n\r\n\r\n        // networkSeries.dataFields.linkWith = \"linkWith\";\r\n        // series.dataFields.name = \"name\";\r\n        // series.dataFields.id = \"name\";\r\n        // series.dataFields.value = \"value\";\r\n        // series.dataFields.children = \"children\";\r\n        //\r\n        // series.nodes.template.tooltipText = \"{name}\";\r\n        // series.nodes.template.fillOpacity = 1;\r\n        //\r\n        // series.nodes.template.label.text = \"{name}\"\r\n        // series.fontSize = 12;\r\n        // networkSeries.maxLevels = 2;\r\n        // networkSeries.maxRadius = am4core.percent(6);\r\n        // networkSeries.manyBodyStrength = -16;\r\n        // networkSeries.nodes.template.label.hideOversized = true;\r\n\r\n        return () => {\r\n            chart && chart.dispose()\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div id=\"chartdiv\" style={{ width: \"100%\", minHeight: 600 }} />\r\n    )\r\n}\r\nAmCharts.defaultProps = {\r\n    data: []\r\n}\r\n\r\nexport default memo(AmCharts)","import React, {memo} from 'react'\r\nimport { get, isEmpty } from '@ttungbmt/utils'\r\nimport { useFetch } from \"@ttungbmt/react-hooks\";\r\nimport arr2tree from 'array-to-tree'\r\nimport AmCharts from \"@core/components/AmCharts\";\r\n\r\nconst getColor = (index) => {\r\n    switch (index) {\r\n        case 0:\r\n            return '#DA251D'\r\n        case 1:\r\n            return '#E7781D'\r\n        case 2:\r\n            return '#00923F'\r\n        case 3:\r\n            return '#0093DD'\r\n        case 4:\r\n            return '#443C92'\r\n        case 5:\r\n            return '#974578'\r\n        default:\r\n            return '#974578'\r\n    }\r\n}\r\n\r\nconst updateValue = (data = [], index = 0) => {\r\n    return data.map(({children, ...d}) => {\r\n        if(children) return {\r\n            ...d,\r\n            label: `F${index} - #${d.id}`,\r\n            color: getColor(index),\r\n            children: updateValue(children, index+1)\r\n        }\r\n\r\n        return {\r\n            label: `F${index} - #${d.id}`,\r\n            color: getColor(index),\r\n            value: 1,\r\n            ...d\r\n        }\r\n    })\r\n}\r\n\r\nfunction TreeChart({data: props}) {\r\n    const {loading, data = []} = useFetch(`/admin/cabenh/get-tree?id=${props.id}`)\r\n\r\n    let chartData = arr2tree(get(data, 'data.related', []), {\r\n        parentProperty: 'parent_id', customID: 'id'\r\n    })\r\n        .filter(c => c.id !== 34)\r\n    // 91, 97, 98, 120, 124, 125, 126, 127, 159, 158, 157,\r\n    let model = get(data, 'data.model')\r\n\r\n\r\n    let chartData1 = [\r\n        {label: 'BUDDHA BAR', color: 'red', value: 2, parent_id: null, id: 0, children: updateValue(chartData)}\r\n    ]\r\n\r\n    // chartData = updateValue(chartData)\r\n\r\n\r\n    console.log(chartData);\r\n\r\n    return (\r\n        <div>\r\n            {loading && 'Loading...'}\r\n            {!isEmpty(chartData) && <AmCharts data={chartData1}/>}\r\n            {model && <div dangerouslySetInnerHTML={{__html: model.mota}} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(TreeChart)","module.exports = L;","import L, { Util, latLngBounds } from 'leaflet';\nimport { find, isString, parseJSON, isArray, get, isEmpty, map } from '@ttungbmt/utils';\nimport { Buffer } from 'buffer';\nimport wkx from 'wkx';\nimport { featureCollection, feature, center, getGeom, getCoords, getType, circle, flip, bboxPolygon, bbox } from '@turf/turf';\n\nfunction getFeatureInfoUrl(layer, latlng, params) {\n  const map = layer._map;\n  const url = layer._url;\n  let point = map.latLngToContainerPoint(latlng, map.getZoom()),\n      size = map.getSize(),\n      bounds = map.getBounds().toBBoxString(),\n      wmsParams = layer.wmsParams; // var sw = bounds.getSouthWest(),\n  //     ne = bounds.getNorthEast(),\n  //     sw = crs.projection._proj.forward([sw.lng, sw.lat]),\n  //     ne = crs.projection._proj.forward([ne.lng, ne.lat]),\n  //     bbox = [sw.join(','), ne.join(',')].join(',');\n\n  let defaultParams = {\n    request: 'GetFeatureInfo',\n    service: 'WMS',\n    srs: 'EPSG:4326',\n    //layer._crs.code,\n    transparent: wmsParams.transparent,\n    styles: wmsParams.styles,\n    version: wmsParams.version,\n    //layer._wmsVersion,\n    env: wmsParams.env,\n    viewparams: wmsParams.viewparams,\n    format: layer.options.format,\n    bbox: bounds,\n    height: size.y,\n    width: size.x,\n    layers: layer.options.layers,\n    query_layers: layer.options.layers,\n    info_format: 'application/json'\n  };\n  params = Util.extend(defaultParams, params || {}); // Remove undefined field from object\n\n  Object.keys(params).forEach(key => params[key] === undefined ? delete params[key] : '');\n  params[params.version === '1.3.0' ? 'i' : 'x'] = _.round(point.x); // Fix WMS X and Y incorrectly specified\n\n  params[params.version === '1.3.0' ? 'j' : 'y'] = _.round(point.y);\n  return url + Util.getParamString(params, url, true);\n}\n\nfunction getWMSLayers(map) {\n  let layer = [];\n  map.eachLayer(l => {\n    if (l instanceof L.TileLayer.WMS) layer.push(l);\n  });\n  let timestamp = new Date().getTime(),\n      layerOrdered = [];\n  Object.keys(layer).sort().forEach(function (key) {\n    layerOrdered[key] = layer[key];\n    layerOrdered[key]._timestamp = timestamp;\n  });\n  return layerOrdered;\n}\n\nfunction getWMSLayer(map, predicate) {\n  return find(getWMSLayers(map), predicate);\n}\n\nconst toGeometry = (value, type = 'geojson') => {\n  let geometry = null;\n\n  switch (type) {\n    case 'ewkb':\n    case 'wkb':\n      value = Buffer.from(value, 'hex');\n      geometry = wkx.Geometry.parse(value);\n      break;\n\n    case 'geojson':\n      if (isString(value)) value = parseJSON(value);\n      geometry = wkx.Geometry.parseGeoJSON(value);\n      break;\n\n    default:\n      // support type: wkt\n      geometry = wkx.Geometry.parse(value);\n  }\n\n  return geometry;\n};\n\nconst toGeoJSON = (value, type) => {\n  let geometry = toGeometry(value, type);\n  if (!geometry) return null;\n  return geometry.toGeoJSON();\n};\n\nfunction toCenter(geom, format = 'latlng') {\n  let geometry;\n\n  if (isArray(geom)) {\n    geometry = featureCollection(geom.map(g => feature(toGeoJSON(g))));\n  } else {\n    geometry = toGeoJSON(geom);\n  }\n\n  let centerGeo = center(geometry);\n  if (format == 'geometry') return getGeom(centerGeo);\n  let coords = getCoords(centerGeo);\n  return [get(coords, '1', 0), get(coords, '0', 0)];\n}\n\nfunction posToGeoJSON(position) {\n  return L.marker(position).toGeoJSON();\n}\n\nconst pointToCir = (pt, radius = 200) => circle(pt, radius, {\n  units: 'meters'\n});\n\nconst toBounds = items => {\n  if (isEmpty(items)) return null;\n  let collection = featureCollection(items.map(i => {\n    let item = i.type === 'Feature' ? i : feature(i);\n\n    if (getType(item) === 'Point') {\n      item = pointToCir(item);\n    }\n\n    return item;\n  })),\n      bounds = latLngBounds(getCoords(flip(bboxPolygon(bbox(collection))))),\n      southWest = map(bounds.getSouthWest()),\n      northEast = map(bounds.getNorthEast());\n\n  if (JSON.stringify(southWest) === JSON.stringify(northEast)) {\n    let item = pointToCir(southWest.reverse());\n    return toBounds([item]);\n  }\n\n  return [southWest, northEast];\n};\n\nexport { getFeatureInfoUrl, getWMSLayer, getWMSLayers, posToGeoJSON, toBounds, toCenter, toGeoJSON, toGeometry };\n","import React, { memo } from 'react'\r\nimport { useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { actions as pcdActs } from 'app/reducers/pcd'\r\n\r\nfunction Pop(props) {\r\n    const dispatch = useDispatch()\r\n    let link = '/admin/cabenh/update?id=' + props.id\r\n\r\n    const onKhoanhvung = () => dispatch(pcdActs.khoanhVung(props))\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> #{props.ma_qg} {props.hoten} (<span className=\"text-capitalize\">{props.phanloai_text}</span>)</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        <li><b>Địa chỉ:</b> <span>{props.diachi}</span></li>\r\n                        <li><b>Nơi phát hiện:</b> <span>{props.noi_ph}</span></li>\r\n                        <li><b>Ngày phát hiện:</b> <span>{props.ngay_ph}</span></li>\r\n                        <li><b>Nơi làm việc:</b> <span>{props.noilamviec}</span></li>\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tiết</a></li>\r\n                        <li className=\"list-inline-item\"><a onClick={onKhoanhvung} target=\"_blank\">Khoanh bùng</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import React, { memo } from 'react'\r\nimport { useDispatch, useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { actions as odichActs } from '../../reducers/odich'\r\nimport { actions as cabenhActs, selectors as cabenhSels } from '../../reducers/cabenh'\r\n\r\nfunction Pop(props) {\r\n    const dispatch = useDispatch()\r\n    const cabenh = useSelector(state => cabenhSels.getCabenhById(state, props.gid))\r\n    let link = '/sxh/default/update?id=' + props.gid\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> {props.hoten} (<span className=\"text-capitalize\"></span>)</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        <li><b>Họ tên:</b> <span>{props.hoten}</span></li>\r\n                        <li><b>Địa chỉ:</b> <span>{props.diachi} - {props.tenquan} - {props.tenphuong}</span></li>\r\n                        <li><b>Khu phố - Tổ:</b> <span>{props.khupho_to}</span></li>\r\n                        <li><b>Ngày mắc bệnh:</b> <span>{props.ngaymacbenh}</span></li>\r\n                        <li><b>Ngày xuất viện:</b> <span>{props.ngayxuatvien}</span></li>\r\n                        <li><b>Ngày báo cáo:</b> <span>{props.ngaybaocao}</span></li>\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tiết</a></li>\r\n                        <li className=\"list-inline-item\"><a onClick={() => dispatch(odichActs.khoanhVung(props.gid))}>Khoanh\r\n                            vùng</a></li>\r\n                        {cabenh && <li className=\"list-inline-item\"><a className=\"text-danger\"\r\n                                                                       onClick={() => dispatch(cabenhActs.deleteCabenhById(props.gid))}><i\r\n                            className=\"icon-bin\"/> Xóa</a></li>}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import React, { memo, useState, Fragment } from 'react'\r\nimport useFetch from 'use-http'\r\nimport {isEmpty, range, find, get, toString} from 'lodash-es'\r\nimport {ProgressBar} from 'react-bootstrap'\r\n\r\nfunction getLoaihinhText(props) {\r\n    return `${props.nhom} - ${props.loaihinh}`\r\n}\r\n\r\nfunction monthField(data, month, field) {\r\n    console.log(data, toString(month), find(data, {month: toString(month)}))\r\n    return get(find(data, {month: toString(month)}), field, 0)\r\n}\r\n\r\nfunction Pop(props = {}) {\r\n    const [giamsats, setGiamsats] = useState([])\r\n    const { get, response, loading, error } = useFetch('/pt_nguyco')\r\n\r\n    let link = '/pt_nguyco/default/update?id=' + props.gid\r\n\r\n    async function getGiamsats() {\r\n        const newGss = await get(`/thongke/giamsat?id=${props.gid}`)\r\n        if (response.ok) setGiamsats([...giamsats, newGss])\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> {props.ten_cs}</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\" style={{maxHeight: 350}}>\r\n                    <ul className=\"list-data mb-10 mb-2\">\r\n                        <li><b>Tên/ Người:</b> <span>{props.ten_cs}</span></li>\r\n                        <li><b>Địa chỉ:</b> <span dangerouslySetInnerHTML={{__html: props.diachi}} /> - {props.tenquan} - {props.tenphuong}</li>\r\n                        <li><b>Khu phố - Tổ dân phố:</b> <span>{props.khupho_to}</span></li>\r\n                        <li><b>Nhóm - Loại hình:</b> <span>{getLoaihinhText(props)}</span></li>\r\n                        <li><b>Ngày cập nhật:</b> <span>{props.ngaycapnhat}</span></li>\r\n                    </ul>\r\n                    {loading ? <ProgressBar animated now={100} /> : (!isEmpty(giamsats) && response && response.data) && (\r\n                        <Fragment>\r\n                            <hr/>\r\n                            <div className=\"table-responsive\" style={{maxHeight: 160}}>\r\n                                <table className=\"table table-sm\">\r\n                                    <thead>\r\n                                    <tr>\r\n                                        <th>Tháng</th>\r\n                                        <th>Số lần GS</th>\r\n                                        <th>Số lần có LQ</th>\r\n                                    </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                    {range(1, 13).map((m, k) => (\r\n                                        <tr key={k}><td>{m}</td><td>{monthField(response.data.data, m, 'count_gs')}</td><td>{monthField(response.data.data, m, 'count_lq')}</td></tr>\r\n                                    ))}\r\n                                    </tbody>\r\n\r\n                                </table>\r\n                            </div>\r\n                        </Fragment>\r\n                    )}\r\n\r\n                    <ul className=\"list-actions list-inline mb-0 mt-2\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tiết</a></li>\r\n                        <li className=\"list-inline-item\"><a onClick={getGiamsats}>Lịch sử giám sát</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import React, { memo } from 'react'\r\n\r\nfunction Pop(props = {}) {\r\n    let link = '/sxh/odich/update?id=' + props.gid\r\n\r\n    let items = [\r\n        {title: 'Ngày mắc bệnh ca đầu tiên', field: 'ngaymacbenh_1'},\r\n        {title: 'Ngày xác định', field: 'ngayxacdinh'},\r\n        {title: 'Khu phố', field: 'khupho'},\r\n        {title: 'PX', field: 'px'},\r\n        {title: 'QH', field: 'qh'},\r\n        {title: 'Ngày dự kiến kết thúc', field: 'ngaydukienkt'},\r\n        {title: 'Ngày ca gần nhất', field: 'ngaymacbenh_last'},\r\n        {title: 'Số ca', field: 'soca'},\r\n        {title: 'Số lần xử lý', field: 'solan_xl'},\r\n        {title: 'Tình trạng', field: 'tinhtrang'},\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">Ổ dịch #{props.id} ({props.soca})</a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        {items.map(({title, field}, k) => props[field] ? (<li key={k}><b>{title}:</b> <span>{props[field]}</span></li>) : '')}\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tiết</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)"],"sourceRoot":""}