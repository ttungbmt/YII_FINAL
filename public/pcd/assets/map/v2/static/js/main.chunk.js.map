{"version":3,"sources":["@modules/redux-layout/src/LayoutProvider.js","@modules/redux-layout/src/BaseLayout.js","@modules/redux-layout/src/Template.js","@modules/redux-layout/src/Slot.js","@modules/redux-layout/src/useSlot.js","@modules/redux-layout/src/index.js","@core/serviceWorker.js","@core/reducers/layout/slice.js","@core/reducers/layout/actions.js","@core/reducers/layout/hooks.js","@core/reducers/layout/index.js","@core/containers/AppContainer.js","@core/utils/checkStore.js","@core/utils/history.js","@core/reducers/app/slice.js","@core/reducers/app/index.js","@core/reducers/index.js","@core/utils/reducerInjectors.js","@core/utils/injectReducer.js","@core/utils/constants.js","@core/utils/sagaInjectors.js","@core/utils/injectSaga.js","@core/utils.js","app/main/maps/config.js","app/configs/routesConfig.js","@core/layouts/blank/index.js","@core/layouts/Layouts.js","app/layouts/map/partials/Header/index.js","app/features/index.js","app/layouts/map/partials/Main/Map/OdichMap.js","app/layouts/map/partials/Main/Map/KhoanhVungMap.js","app/layouts/map/partials/Main/Map/Leaflet.js","app/layouts/map/partials/Main/Map/Wrapper.js","app/layouts/map/partials/Main/Map/Layout.js","app/layouts/map/partials/Main/Map/index.js","app/layouts/map/partials/Main/Sidebar/Wrapper.js","app/layouts/map/partials/Main/Sidebar/index.js","app/layouts/map/partials/Main/index.js","app/layouts/map/partials/Footer/index.js","app/layouts/map/Layout.js","app/layouts/Layouts.js","app/sagas/app.saga.js","@core/reducers/layout/saga.js","app/reducers/orm/index.js","app/layouts/map/components/NavLink/index.js","app/layouts/map/MapPage.js","app/App.js","@core/plugins/input-values.jquery.js","@core/bootstrap.js","app/bootstrap.js","index.js","@core/configureStore.js","app/reducers/pcd/pcd.slice.js","app/reducers/pcd/pcd.selectors.js","app/reducers/pcd/pcd.saga.js","app/reducers/pcd/index.js","../external \"_\"","app/reducers/odich/odich.actions.js","../../src/utils/emitter.js","../../src/useDidMount.js","../../src/useDidUpdate.js","../../src/useFetch.js","../../src/useModal.js","../../src/useQueryString.js","app/models/Cabenh.js","app/models/Odich.js","app/reducers/orm/orm.js","app/reducers/cabenh/cabenh.selectors.js","app/services/index.js","app/reducers/cabenh/cabenh.saga.js","app/reducers/cabenh/index.js","../../src/getAttrsDOM.js","../../src/getDuplicateIds.js","../../src/updateIn.js","../../src/mergeIn.js","../../src/appendIn.js","../../src/prependIn.js","../../src/filterIn.js","../../src/deleteIn.js","../../src/mergeFilterIn.js","../../src/mergeFilter.js","../../src/replaceFilterIn.js","../../src/uniqid.js","../../src/getOrValue.js","../../src/orValue.js","../../node_modules/voca/helper/number/clip_number.js","../../node_modules/voca/helper/object/is_nil.js","../../node_modules/voca/is_string.js","../../node_modules/voca/helper/string/coerce_to_string.js","../../node_modules/voca/helper/number/const.js","../../node_modules/voca/helper/number/to_integer.js","../../node_modules/voca/helper/string/to_string.js","../../node_modules/voca/includes.js","../../src/toBool.js","../../src/parseJSON.js","../../src/stringifyJSON.js","../../src/isURL.js","../../node_modules/validator/lib/util/assertString.js","../../node_modules/validator/lib/isJSON.js","../../src/isJSONStr.js","../../src/isJSON.js","../../src/template.js","../../src/fieldsToStr.js","../../src/popupToContent.js","app/reducers/cabenh/cabenh.actions.js","app/reducers/odich/odich.selectors.js","@core/selectors/router.js","app/reducers/odich/odich.saga.js","app/reducers/odich/index.js","@core/components/AppLoader/index.js","@core/components/Tooltip/index.js","@core/components/InnerHTML.js","@core/components/RangeSlider.js","@core/components/BtnSubmit.js","@core/components/JsPanel/index.js","@core/components/Box/index.js","@core/components/index.js","app/Store.js","app/utils/index.js","app/utils/moment.js","app/reducers/cabenh/cabenh.slice.js","@core/reducers/auth/slice.js","@core/reducers/auth/index.js","app/reducers/odich/odich.slice.js","@core/components/AppLoader/style.module.scss","../external \"Vue\"","@core/components/Slot.js","../external \"jQuery\"","../.yalc/@ttungbmt/validator/dist/validator.umd.js","../../src/TileWMSLayer.js","../../src/consts/index.js","../../src/reducers/config/config.selectors.js","../../src/reducers/config/config.slice.js","../../src/utils/layers.utils.js","../../src/reducers/layers/layers.selectors.js","../../src/fixtures/baselayers.js","../../src/reducers/layers/layers.slice.js","../../src/reducers/controls/controls.selectors.js","../../src/reducers/controls/controls.slice.js","../../src/reducers/options/options.selectors.js","../../src/reducers/options/options.slice.js","../../src/reducers/popup/popup.selectors.js","../../src/reducers/popup/popup.slice.js","../../src/reducers/selectors.js","../../src/reducers/actions.js","../../src/reducers/index.js","../../node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js","../../node_modules/@redux-saga/is/dist/redux-saga-is.esm.js","../../node_modules/@redux-saga/core/dist/io-6de156f3.js","../../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js","../../src/sagas/map.saga.js","../../src/components/managers/PopManager.js","../../src/MapProvider.js","../../src/libs/BoundaryCanvas.js","../../src/components/layers/WMSTileLayer.js","../../src/components/layers/TileLayer.js","../../src/components/PopupWMS.js","../../src/hooks/index.js","../../src/components/managers/LayersManager.js","../../src/components/controls/SearchControl.js","../../src/components/controls/FullscreenControl.js","../../src/components/controls/LocateControl.js","../../src/components/controls/MeasureControl.js","../../src/components/controls/SideBySideControl.js","../../src/components/controls/RulerControl.js","../../src/components/controls/ExportMapControl.js","../../src/vendor/leaflet-legend/leaflet-legend.js","../../src/components/controls/LegendControl.js","../../src/fixtures/controls.fixture.js","../../src/components/managers/ControlsManager.js","../../src/utils/controls.utils.js","../../src/components/managers/EventsManager.js","../../src/LeafletContainer.js","../../src/components/vectors/Marker.js","../../src/components/vectors/GeoJSON.js","../external \"Vuex\"","@core/components/AmCharts.js","app/main/maps/views/cabenh/TreeChart.js","../external \"L\"","app/features/cabenh/Pop.js","../../src/getFeatureInfoUrl.js","../../src/getWMSLayers.js","../../src/toGeometry.js","../../src/toGeoJSON.js","../../src/toCenter.js","../../src/toBounds.js","app/features/cabenh_sxh/Pop.js","app/features/dnc/Pop.js","app/features/odich/Pop.js"],"names":["LayoutContext","React","createContext","memo","children","layouts","useImmer","layout","templates","state","setState","value","getLayout","name","getTemplate","slot","setLayout","draft","Provider","getTemplates","parent","isPlainObject","type","isEqual","get","props","isArray","i","c","length","Object","assign","BaseLayout","context","useContext","useCallback","createElement","Error","useEffect","propTypes","PropTypes","string","isRequired","Template","displayName","node","Slot","outerChildren","component","template","any","defaultProps","useSlot","Children","map","castArray","child","isString","Fragment","cloneElement","Boolean","window","location","hostname","match","initialState","fullscreen","header","size","menuItems","sidebar","maximumSize","handleSize","footer","toggleDiv","layoutSlice","createSlice","reducers","payload","headerMenu","toggleSidebar","toggleHeader","toggleAppFullscreen","toggleMapFullscreen","resizeSidebar","createAction","useFullscreen","ref","onClose","dispatch","useDispatch","show","useSelector","layout_sels","getAppFullscreen","baseUseFullscreen","layout_acts","createSelector","r","getMapFullscreen","getHeader","getMenu","getSidebar","getFooter","actions","layoutActions","slice","selectors","utils","pickSpace","pick","hooks","layoutHooks","theme","createMuiTheme","palette","primary","main","blue","dark","typography","fontSize","Wrapper","styled","div","wrapperRef","useRef","layout_hooks","ThemeProvider","id","style","backgroundColor","height","zIndex","checkStore","store","shape","isFunction","subscribe","getState","replaceReducer","runSaga","injectedReducers","isObject","injectedSagas","invariant","conformsTo","history","createHashHistory","appSlice","loaded","setApp","app_name","app_logo","description","initApp","getApp","getLoaded","createReducer","combineReducers","form","formReducer","auth","authReducer","app","appReducer","layoutReducer","router","connectRouter","loadingBar","loadingBarReducer","injectReducerFactory","isValid","key","reducer","isEmpty","Reflect","has","getInjectors","injectReducer","useInjectReducer","ReactReduxContext","DAEMON","ONCE_TILL_UNMOUNT","allowedModes","checkKey","checkDescriptor","descriptor","saga","mode","includes","injectSagaFactory","args","newDescriptor","hasSaga","task","ejectSagaFactory","cancel","injectSaga","ejectSaga","useInjectSaga","injectors","setRoutes","config","routes","settings","route","MapsContainer","lazy","OdichPage","OdichViewPage","OdichListPage","SxhPage","ThongkePage","DncPage","routeConfigs","path","to","configs","allRoutes","generateRoutesFromConfigs","exact","Layouts","blank","HeaderWrapper","Navbar","homeUrl","as","background","overflow","grow","href","Box","display","alignItems","m","className","onClick","cabenh","pop","require","default","cabenh_sxh","dnc","odich","CircleOdich","data","combineCir","radius","selected","odichCir","union","circle","feature","geometry","steps","units","color","k","position","Circle","center","OdichLeaflet","cabenhs","range","options","filter","date","moment","ngaymacbenh_nv","unix","riseOnHover","zIndexOffset","Popup","features","_key","model","pcdSels","getOdichConf","models","odichSels","getOdichMap","FeatureGroup","items","toCenter","legends","label","html","mapReducer","mapSagas","leftTool","rightTool","leaflet","fullScreen","borderBottom","flexGrow","css","borderLeft","ToolItem","icon","text","NavItem","tooltip","title","Nav","Link","Item","Dropdown","Toggle","Menu","v","useHistory","lft_tool_items","push","pcdActs","setCombineCir","rgt_tool_items","removeAllKhoanhVung","mapActs","toggleControl","alert","emitter","emit","sidebarProps","onResizeEnd","footerProps","Helmet","defaultTitle","coreLayouts","appSaga","takeEvery","call","axios","commit","dm","put","authActs","setAuth","layoutActs","appActs","delay","setMap","console","error","layoutSaga","resizeSb","acts","ormReducer","orm","session","action","sessionBoundModels","forEach","modelClass","caseReducers","keys","cx","url","useLocation","A","active","matchPath","pathname","app_sels","src","alt","renderRoutes","hot","pcdKey","pcdReducer","pcdSaga","cabenhKey","cabenhSaga","odichSaga","app_acts","fallback","controlsWrapper","_getSelectOneValue","select","val","_getSelectMultipleValue","values","$","each","option","$option","is","getSelectValue","this","getCheckboxValue","checkbox","getValues","container","keyFilter","formObject","find","disabled","$node","attr","fn","inputValues","opts","includeDisabled","hasOwnProperty","undefined","setSelectValue","prop","_checkCheckableValue","checkable","inArray","checkCheckboxesValue","anyWasChecked","eq","checkRadiosValue","radios","setValues","nodes","paramA","paramB","extend","BASE_URL","Store","sagaMiddleware","createSagaMiddleware","baseConfigureStore","preloadedState","middleware","getDefaultMiddleware","routerMiddleware","loadingBarMiddleware","promiseTypeSuffixes","run","configureStore","MOUNT_NODE","document","getElementById","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","odichSlice","khoanhvung","khoanhVung","getRadius","s","pcdSlice","module","exports","_","create","createMany","remove","removeAll","update","khoanhVungOd","addCabenh","updateRangeValue","setLoading","runSlider","stopSlider","clickOdich","panToCabenhCir","showDetail","searchSemiAutoOD","createAutoOD","showPopDnc","useDidMount","f","useDidUpdate","conditions","didMoutRef","fetchInit","fetchSuccess","fetchFailure","loading","onSuccess","dataFetchReducer","isError","useFetch","trigger","conf","useState","innerTrigger","setInnerTrigger","useReducer","outerTrigger","JSON","err","source","CancelToken","fetchData","cancelToken","token","isShown","refresh","ModalContext","ModalProvider","modals","setModals","onShow","isOpen","isVisible","onHide","timeoutHack","setTimeout","clearTimeout","contextValue","useMemo","generateModalKey","count","useModal","inputs","modal","modalData","useQueryString","URI","Cabenh","Model","modelName","fields","Odich","play","getDefault","timer","runStatus","many","ORM","stateSelector","register","getCabenhById","ormCreateSelector","gid","first","Client","method","request","api","fetch","params","onClickCabenh","onRowClick","onClickDnc","showPopCabenh","cabenhActs","clickCabenh","clickDnc","resetPopup","createPopup","setCenter","getCabenh","KEY","getAttrsDOM","transform","attrs","attribute","getDuplicateIds","ids","updateIn","_update","object","merge","appendIn","prependIn","filterIn","predicate","deleteIn","reject","mergeFilterIn","respTrue","respFalse","v2","mergeFilter","replaceFilterIn","updater","item","findIndex","findKey","baseUniqid","prefix","_formatSeed","reqWidth","seed","parseInt","Array","$global","$locutus","Math","retId","Date","getTime","uniqid","suffix","getOrValue","defaultValue","p","orValue","arguments","defineProperty","downLimit","upLimit","subject","_is_nil2","_is_string2","String","_interopRequireDefault","_is_nil","_is_string","obj","__esModule","MAX_SAFE_INTEGER","Infinity","_const","search","subjectString","_coerce_to_string2","searchString","_to_string2","_clip_number2","_to_integer2","indexOf","_clip_number","_coerce_to_string","_to_integer","_to_string","toBool","parseJSON","json","reviver","regrex1","regrex2","regrex3","Function","jsStr","js","eval","isUndefined","stringifyJSON","replacer","indent","isURL","_typeof","Symbol","iterator","constructor","prototype","input","invalidType","concat","TypeError","str","_assertString","parse","e","require$$0","isJSONStr","_isJSON","isJSON","tpl","content","Handlebars","fieldsToStr","popupToContent","popup","itemTpl","createCabenh","deleteCabenhById","getOdich","odichs","odFn","o","cb","getRange","minMax","getCabenhs","getPathname","onKhoanhVung","changeRangeValue","runSliderOdich","odichActs","takeLatest","mapSels","getPopItemById","cabenhSels","redirect","geoArr","bounds","toBounds","odich_id","setBounds","dates","uniq","getRangeDate","index","head","take","fork","bgSyncTask","cabenhIds","post","transformOdich","geomArr","flatten","g","dbCabenhs","pc","styles","loader_wrapper","loader","divRef","current","RangeSlider","ionSliderRange","watchProps","min","max","from","others","ionRangeSlider","_options","stringify","skin","BtnSubmit","Button","variant","JsPanel","setOpen","contenRef","panelRef","width","setOpts","jsPanel","bgPanel","colorHeader","iconfont","headerLogo","headerTitle","closeOnEscape","headerControls","smallify","borderRadius","resizeit","minWidth","minHeight","stop","panel","paneldata","onclosed","closedByUser","log","resize","reposition","close","flex","row","column","wrap","shrink","bold","regular","h100","uppercase","relative","absolute","outter","inner","flexDirection","flexWrap","flexShrink","isBoolean","fontWeight","textTransform","Vuex","catalog","getters","getCat","mutations","setCat","modules","boundary","plugins","pathify","plugin","arr","field","sort","cabenhSlice","all","withId","delete","authSlice","user","roles","permissions","getAuth","createOdich","last","add","toRefArray","toModelArray","Vue","jQuery","lodashEs","unwrapExports","x","createCommonjsModule","assertString_1","isLatLong$1","pair","split","lat","test","long","isDataURI","attributes","shift","trim","schemeAndMediaType","substr","mediaType","validMediaType","toLowerCase","validAttribute","_i","validData","merge_1","defaults","isByteLength_1","len","encodeURI","isFQDN_1","_merge","default_fqdn_options","allow_trailing_dot","substring","parts","require_tld","tld","part","allow_underscores","replace","isIP_1","isIP","version","ipv4Maybe","a","b","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","ipv6Block","isEmail","default_email_options","require_display_name","allow_display_name","display_email","splitNameAddress","display_name","_display_email","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","_nonIterableRest","_slicedToArray","endsWith","trim_quotes","display_name_without_quotes","validateDisplayName","ignore_max_length","defaultMaxEmailLength","domain","join","lower_domain","domain_specific_validation","username","_isByteLength","_user_parts","gmailUserPart","_isFQDN","allow_ip_domain","_isIP","startsWith","noBracketdomain","allow_utf8_local_part","quotedEmailUserUtf8","quotedEmailUser","pattern","emailUserUtf8Part","emailUserPart","user_parts","_i2","isUUID","uuid","3","4","5","enumerable","isElement","isNil","isNull","isNumber","isRegExp","isLatLong","factory","getOptions","format","transparent","TileWMSLayer","initialize","TileLayer","getFeatureInfoUrl","latlng","SingleTileWMSLayer","L","BASEMAP","getConfig","getZoom","zoom","setConfig","setZoom","configSlice","isTileLayerProps","str_contains","layerFn","control","popupTemplate","BaseLayer","LayersControl","Overlay","cloneDeep","wrapper","wrapperProps","checked","layer","type2Component","layerProps","omit","fnDeactiveAllBasemap","getLayers","layers","getLayer","getLayersControl","basemap","overlay","getLayersById","l","getFancytreeSource","extraClasses","expanded","folder","radiogroup","google","openstreet","here","bing","hcmgis","lidar","satellite","setLayers","addLayers","addBasemap","baselayers","prepare","clipBasemap","activeBasemap","activeOverlay","toggleOverlay","fnToggleLayer","deactiveOverlay","removeLayer","saveLayer","setZIndex","layersSlice","getControls","controls","getControl","optionsSlice","enabled","autoZIndex","scale","locate","ruler","exportMap","setControl","setControls","addControls","removeControl","getMapOptions","getLoading","setOptions","setMapOptions","zoomControl","getPopup","getPopupKeys","getPopItems","getCurrentPopup","setPopup","setPopupKeys","updatePopupContent","popupSlice","getMap","getWMSInfo","setMapLoading","setMapLoaded","controlsSlice","createSymbol","IO","MULTICAST","SELF_CANCELLATION","undef","notUndef","func","array","pat","symbol","every","channel","ch","stringableFunc","sym","multicast","identity","kThrow","kReturn","TAKE","PUT","CALL","FORK","CANCEL","SELECT","makeEffect","_ref","combinator","patternOrChannel","multicastPattern","channel$1","getFnCallDescriptor","fnDescriptor","_len","_len3","_key3","selector","_len5","_key5","qEnd","safeName","fsmIterator","fsm","startState","stateUpdater","errorState","effect","nextState","arg","currentState","thro","meta","throw","return","isSagaIterator","makeIterator","worker","yTake","setAction","ac","q1","q2","apply","yFork","yCancel","taskOrTasks","setTask","t","q3","takeEvery$1","takeLatest$1","_len2","_key2","mapSaga","layer_tree","extent","postData","Component","MapContext","isRingBbox","ring","sumX","sumY","bbox","ExtendMethods","_toMercGeometry","res","mercComponent","mercRing","coords","isGeoJSON","_map","project","_getOriginalMercBoundary","processGeoJSONObject","_mercBoundary","compomentBbox","_getClippedGeometry","clippedGeom","iC","geom","clippedComponent","clippedExternalRing","iR","clippedHoleRing","isOut","isIn","_getTileGeometry","cacheID","zCoeff","cache","mercBoundary","ts","tileBbox","y","skipIntersectionCheck","z","parentState","_drawTileInternal","tilePoint","callback","tileX","tileY","ctx","canvas","imageObj","setPattern","onAdd","onRemove","attribution","_updateAttribution","mapBounds","mercBounds","_attributionRemoved","createTile","tile","getTileUrl","async","drawTile","adjustedTilePoint","_getTileSize","withBoundary","EVENTS_RE","WMSTileLayer","tiled","tileWMSLayer","fromProps","toProps","preUuid","prevUrl","prevProps","prevParams","superOptions","GridLayer","withLeaflet","withConnect","connect","compose","popupRef","useLeaflet","showInfo","info","getWMSLayers","infoUrl","usePopupInfo","dangerouslySetInnerHTML","__html","layersControl","sels","Layer","SearchControl","geosearch","MapControl","FullscreenControl","Control","LocateControl","MeasureControl","SideBySideControl","RulerControl","unit","showClearControl","showUnitControl","showBearings","clearMeasurementsOnStop","measureControlTitleOn","measureControlTitleOff","measureControlLabel","clearControlTitle","Header","Modal","Title","Body","Footer","ExportMapModal","crop","croppedSrc","setSrc","imageRef","leafletImage","dialogClassName","closeButton","padding","animated","now","ruleOfThirds","onChange","onImageLoaded","image","croppedImgSrc","pixelCrop","getCroppedImg","FileSaver","detectStretched","collapsed","link","collapse","list","legend","block","closedClass","elementContainer","element","_addElement","imageData","imageUrl","imgbox","colorbox","expand","LegendControl","legendControl","ctrlComps","measure","sidebyside","ExportMapControl","Empty","ctrls","useUpdateZoom","updateMapSize","onResizeSb","onToggleMapFullscreen","useUpdateMapSize","makeMapOptions","mapOptions","getIcon","markerColor","GeoJSON","getPathOptions","createLeafletElement","Path","AmCharts","chart","am4core","am4plugins_forceDirected","series","dataFields","truncate","maxRadius","maxLevels","tooltipText","events","on","event","hoverState","links","states","properties","strokeWidth","strokeOpacity","target","dataItem","childLinks","isHover","parentLink","dispose","am4themes_animated","getColor","updateValue","d","chartData","arr2tree","parentProperty","customID","chartData1","parent_id","mota","ma_qg","hoten","phanloai_text","diachi","noi_ph","ngay_ph","noilamviec","point","wmsParams","defaultParams","service","srs","env","viewparams","query_layers","info_format","Util","timestamp","layerOrdered","toGeoJSON","Buffer","wkx","toGeometry","featureCollection","centerGeo","getGeom","getCoords","pointToCir","pt","collection","getType","latLngBounds","flip","bboxPolygon","southWest","northEast","tenquan","tenphuong","khupho_to","ngaymacbenh","ngayxuatvien","ngaybaocao","ten_cs","nhom","loaihinh","getLoaihinhText","ngaycapnhat","soca"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, { memo } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { get } from 'lodash-es'\r\n\r\nconst defaultState = {}\r\n\r\nexport const LayoutContext = React.createContext(defaultState)\r\n\r\nfunction LayoutProvider({children, layouts}) {\r\n    const [state, setState] = useImmer({\r\n        layout: null,\r\n        templates: null\r\n    })\r\n\r\n    const getLayout = (name) => layouts[name]\r\n    const getTemplate = (slot) => state.templates[slot] || false\r\n    const setLayout = ({name, templates}) => {\r\n        setState(draft => {\r\n            draft.layout = name\r\n            draft.templates = templates\r\n        })\r\n    }\r\n\r\n\r\n    const value = {\r\n        layout: state.layout,\r\n        layouts,\r\n        templates: state.templates,\r\n        getLayout,\r\n        getTemplate,\r\n        setLayout\r\n    }\r\n\r\n    return (\r\n        <LayoutContext.Provider value={value}>\r\n            {children}\r\n        </LayoutContext.Provider>\r\n    )\r\n}\r\nexport default memo(LayoutProvider)\r\n","import React, { createElement, memo, useContext, useEffect, useCallback } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { isPlainObject, isArray, get, isEqual } from 'lodash-es'\r\nimport { LayoutContext } from \"./LayoutProvider\"\r\n\r\nexport const getTemplates = (parent) => {\r\n    if (isPlainObject(parent)) {\r\n        // Check if the element is a template\r\n        if (parent.type && isEqual(get(parent, 'type.type.displayName'), 'Template')) {\r\n            return {[parent.props.slot]: parent};\r\n        }\r\n        return {};\r\n    } else if (isArray(parent)) {\r\n        let templates = [];\r\n        for (let i = 0, c = parent.length; i < c; i += 1) {\r\n            templates = Object.assign({}, templates, getTemplates(parent[i]));\r\n        }\r\n        return templates;\r\n    }\r\n    return {};\r\n}\r\n\r\nfunction BaseLayout({children, layout: name, ...props}) {\r\n    const context = useContext(LayoutContext)\r\n\r\n    const getLayout = useCallback((name) => {\r\n        const layout = context.getLayout(name)\r\n        return createElement(layout, props, children)\r\n    }, [name])\r\n\r\n    const layout = getLayout(name, props, children)\r\n    const templates = getTemplates(children)\r\n\r\n    if (!layout) throw new Error(`No layout found named: '${name}'`)\r\n\r\n\r\n    useEffect(() => {\r\n        context.setLayout({name, templates})\r\n    }, [name])\r\n\r\n    return layout\r\n}\r\n\r\nBaseLayout.propTypes = {\r\n    layout: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default memo(BaseLayout)","import React, {memo} from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction Template() {\r\n    throw new Error('You must only use <Template> inside a <BaseLayout>')\r\n}\r\n\r\nTemplate.displayName = `Template`\r\nTemplate.propTypes = {\r\n    slot: PropTypes.string.isRequired,\r\n    children: PropTypes.node,\r\n}\r\n\r\nexport default memo(Template)","import React, {memo, createElement, useContext} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { LayoutContext } from \"./LayoutProvider\";\r\n\r\nfunction Slot({children: outerChildren = null, name, component, ...props}) {\r\n    const context = useContext(LayoutContext)\r\n    if(!context.layout) return <></>\r\n\r\n    const template = context.getTemplate(name)\r\n    const children = template ? template.props.children : outerChildren\r\n    return createElement(component, props, children);\r\n}\r\n\r\nSlot.propTypes = {\r\n    name: PropTypes.string,\r\n    component: PropTypes.any,\r\n}\r\n\r\nSlot.defaultProps = {\r\n    component: 'div',\r\n}\r\n\r\nexport default memo(Slot)","import React, { Children, cloneElement, createElement, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { get, castArray, isString } from 'lodash-es'\r\nimport { getTemplates } from \"./BaseLayout\"\r\n\r\nfunction useSlot(children) {\r\n    const templates = getTemplates(children)\r\n    let Slot = ({children: outerChildren = null, name, component, ...props}) => {\r\n        const template = Slot.getTemplate(name)\r\n\r\n        const children = template ? Children.map(castArray(template.props.children), child => {\r\n            if(!child) return false\r\n            child = isString(child) ? createElement(Fragment, {}, child) : child\r\n\r\n            let name = get(child, 'type.name')\r\n            return cloneElement(child, name ? props : {})\r\n        }) : outerChildren\r\n        return children\r\n    }\r\n    Slot.getTemplate = (slot) => templates[slot] || false\r\n    Slot.propTypes = {\r\n        name: PropTypes.string.isRequired,\r\n    }\r\n    Slot.defaultProps = {\r\n        component: 'div'\r\n    }\r\n\r\n    return [Slot]\r\n}\r\n\r\nexport default useSlot","export {default as BaseLayout, getTemplates} from './BaseLayout'\r\nexport {default as LayoutProvider} from './LayoutProvider'\r\nexport {default as Template} from './Template'\r\nexport {default as Slot} from './Slot'\r\nexport {default as useSlot} from './useSlot'","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'layout'\r\n\r\nlet initialState = {\r\n    fullscreen: false,\r\n\r\n    map: {\r\n        fullscreen: false,\r\n    },\r\n    header: {\r\n        size: 55,\r\n        menuItems: [\r\n\r\n        ]\r\n    },\r\n    sidebar: {\r\n        size: 450,\r\n        maximumSize: 600,\r\n        handleSize: 5,\r\n    },\r\n    footer: {\r\n        maximumSize: 350,\r\n        size: 0\r\n    }\r\n}\r\n\r\nconst toggleDiv = (state, name) => {\r\n    state[name].size = state[name].size === 0 ? initialState[name].size : 0\r\n}\r\n\r\nconst layoutSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setLayout(state, {payload}){\r\n            state.header.menuItems = payload.headerMenu\r\n        },\r\n        toggleSidebar(state) {\r\n            toggleDiv(state, 'sidebar')\r\n        },\r\n        toggleHeader(state) {\r\n            toggleDiv(state, 'header')\r\n        },\r\n        toggleAppFullscreen(state) {\r\n            state.fullscreen = !state.fullscreen\r\n        },\r\n        toggleMapFullscreen(state){\r\n            state.map.fullscreen = !state.map.fullscreen\r\n        },\r\n    },\r\n})\r\n\r\nexport default layoutSlice","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nimport { name } from \"./slice\";\r\n\r\nexport const resizeSidebar = createAction(`@${name}/RESIZE_SIDEBAR`)\r\n","import { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts } from './index'\r\nimport { useFullscreen as baseUseFullscreen } from '@ttungbmt/react-hooks'\r\n\r\nexport const useFullscreen = ({ref, onClose}) => {\r\n    const dispatch = useDispatch()\r\n    const show = useSelector(layout_sels.getAppFullscreen)\r\n\r\n    baseUseFullscreen(ref, show, {\r\n        onClose: () =>  {\r\n            onClose ? onClose() : dispatch(layout_acts.toggleAppFullscreen())\r\n        }\r\n    })\r\n\r\n    return [show]\r\n}\r\n","import { pick } from 'lodash-es'\r\nimport { createAction, createSelector } from '@ttungbmt/redux-toolkit'\r\nimport slice, { name } from './slice'\r\nimport * as layoutActions from './actions'\r\nimport * as layoutHooks from './hooks'\r\n\r\n// SELECTORS\r\nconst getLayout = createSelector([name], r => r)\r\nconst getAppFullscreen = createSelector([getLayout], r => r.fullscreen)\r\nconst getMapFullscreen = createSelector([getLayout], r => r.map.fullscreen)\r\nconst getHeader = createSelector([getLayout], r => r.header)\r\nconst getMenu = createSelector([getLayout], r => r.header.menuItems)\r\nconst getSidebar = createSelector([getLayout], r => r.sidebar)\r\nconst getFooter = createSelector([getLayout], r => r.footer)\r\n\r\nexport const actions = {\r\n    ...layoutActions,\r\n    ...slice.actions\r\n}\r\n\r\nexport const selectors = {\r\n    getLayout,\r\n    getAppFullscreen,\r\n    getMapFullscreen,\r\n    getHeader,\r\n    getMenu,\r\n    getSidebar,\r\n    getFooter,\r\n}\r\n\r\nexport const utils = {\r\n    pickSpace(props) {\r\n        return pick(props, ['size', 'handeSize', 'maximumSize'])\r\n    }\r\n}\r\n\r\nexport const hooks = {\r\n    ...layoutHooks\r\n}\r\n\r\nexport default slice.reducer","import React, { memo, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport LoadingBar from 'react-redux-loading-bar'\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\r\nimport { ModalProvider } from \"@ttungbmt/react-hooks\"\r\nimport { hooks as layout_hooks } from '@core/reducers/layout'\r\nimport blue from '@material-ui/core/colors/blue'\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: blue[500],\r\n            dark: blue[700],\r\n        },\r\n    },\r\n    typography: {\r\n        fontSize: 13\r\n    }\r\n})\r\n\r\nconst Wrapper = styled.div`\r\n    \r\n`;\r\n\r\nfunction AppContainer({children}) {\r\n    const wrapperRef = useRef()\r\n    layout_hooks.useFullscreen({ref: wrapperRef})\r\n\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n                <ModalProvider>\r\n                    <Wrapper id=\"app-container\" ref={wrapperRef}>\r\n                        <LoadingBar style={{backgroundColor: '#f44336', height: 2, zIndex: 999999}}/>\r\n                        {children}\r\n                    </Wrapper>\r\n                </ModalProvider>\r\n\r\n        </ThemeProvider>\r\n    )\r\n}\r\n\r\nexport default memo(AppContainer)","import { conformsTo, isFunction, isObject } from 'lodash-es'\r\nimport invariant from 'invariant'\r\n\r\n/**\r\n * Validate the shape of redux store\r\n */\r\nexport default function checkStore(store) {\r\n    const shape = {\r\n        dispatch: isFunction,\r\n        subscribe: isFunction,\r\n        getState: isFunction,\r\n        replaceReducer: isFunction,\r\n        runSaga: isFunction,\r\n        injectedReducers: isObject,\r\n        injectedSagas: isObject,\r\n    };\r\n    invariant(\r\n        conformsTo(store, shape),\r\n        '(app/utils...) injectors: Expected a valid redux store',\r\n    );\r\n}","import { createBrowserHistory, createHashHistory } from 'history';\r\nconst history = createHashHistory();\r\nexport default history;","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'app'\r\n\r\nlet initialState = {\r\n        loaded: false,\r\n    }\r\n\r\nconst appSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setApp(state, {payload}) {\r\n            state.app_name = payload.app_name\r\n            state.app_logo = payload.app_logo\r\n            state.description = payload.description\r\n            state.loaded = true\r\n        }\r\n    },\r\n})\r\n\r\nexport default appSlice","import { createAction, createSelector } from '@ttungbmt/redux-toolkit'\r\n\r\nimport slice, {name} from './slice'\r\n\r\nconst initApp = createAction(`@${name}/INIT`)\r\n\r\nconst getApp = createSelector(['app'], r => r)\r\nconst getLoaded = createSelector([getApp], r => r.loaded)\r\n\r\nexport const actions = {\r\n    initApp,\r\n    ...slice.actions\r\n}\r\n\r\nexport const selectors = {\r\n    getApp,\r\n    getLoaded,\r\n}\r\n\r\nexport default slice.reducer","import { combineReducers } from 'redux'\r\nimport { connectRouter } from 'connected-react-router'\r\nimport { loadingBarReducer } from 'react-redux-loading-bar'\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nimport history from '@core/utils/history'\r\nimport appReducer from './app'\r\nimport authReducer from './auth'\r\n\r\nimport layoutReducer from './layout'\r\n\r\nexport default function createReducer(injectedReducers = {}) {\r\n    const rootReducer = combineReducers({\r\n        // global: globalReducer,\r\n        form: formReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n        layout: layoutReducer,\r\n        router: connectRouter(history),\r\n        loadingBar: loadingBarReducer,\r\n        // language: languageProviderReducer,\r\n        // router: connectRouter(history),\r\n        ...injectedReducers,\r\n    });\r\n\r\n    return rootReducer;\r\n}","import invariant from 'invariant';\r\nimport { isEmpty, isFunction, isString } from 'lodash-es'\r\n\r\nimport checkStore from './checkStore';\r\nimport createReducer from '../reducers'\r\n\r\n\r\nexport function injectReducerFactory(store, isValid) {\r\n    return function injectReducer(key, reducer) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        invariant(\r\n            isString(key) && !isEmpty(key) && isFunction(reducer),\r\n            '(app/utils...) injectReducer: Expected `reducer` to be a reducer function',\r\n        );\r\n\r\n        // Check `store.injectedReducers[key] === reducer` for hot reloading when a key is the same but a reducer is different\r\n        if (\r\n            Reflect.has(store.injectedReducers, key) &&\r\n            store.injectedReducers[key] === reducer\r\n        )\r\n            return;\r\n\r\n        store.injectedReducers[key] = reducer; // eslint-disable-line no-param-reassign\r\n        store.replaceReducer(createReducer(store.injectedReducers));\r\n    };\r\n}\r\n\r\nexport default function getInjectors(store) {\r\n    checkStore(store);\r\n\r\n    return {\r\n        injectReducer: injectReducerFactory(store, true),\r\n    };\r\n}","import React, { useEffect } from 'react';\r\nimport hoistNonReactStatics from 'hoist-non-react-statics';\r\nimport { ReactReduxContext } from 'react-redux'\r\n\r\nimport getInjectors from './reducerInjectors'\r\n\r\n/**\r\n * Dynamically injects a reducer\r\n *\r\n * @param {string} key A key of the reducer\r\n * @param {function} reducer A reducer that will be injected\r\n *\r\n */\r\nexport default ({key, reducer}) => WrappedComponent => {\r\n    class ReducerInjector extends React.Component {\r\n        static WrappedComponent = WrappedComponent;\r\n\r\n        static contextType = ReactReduxContext;\r\n\r\n        static displayName = `withReducer(${WrappedComponent.displayName ||\r\n        WrappedComponent.name ||\r\n        'Component'})`;\r\n\r\n        constructor(props, context) {\r\n            super(props, context);\r\n\r\n            getInjectors(context.store).injectReducer(key, reducer);\r\n        }\r\n\r\n        render() {\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    }\r\n\r\n    return hoistNonReactStatics(ReducerInjector, WrappedComponent);\r\n};\r\n\r\nconst useInjectReducer = ({key, reducer}) => {\r\n    const context = React.useContext(ReactReduxContext);\r\n\r\n    useEffect(() => {\r\n        getInjectors(context.store).injectReducer(key, reducer);\r\n        // eslint-disable-next-line\r\n    }, []);\r\n};\r\n\r\nexport { useInjectReducer };","export const RESTART_ON_REMOUNT = '@@saga-injector/restart-on-remount';\r\nexport const DAEMON = '@@saga-injector/daemon';\r\nexport const ONCE_TILL_UNMOUNT = '@@saga-injector/once-till-unmount';","import invariant from 'invariant'\r\nimport { isEmpty, isFunction, isString, conformsTo } from 'lodash-es'\r\n\r\nimport checkStore from './checkStore'\r\nimport { DAEMON, ONCE_TILL_UNMOUNT, RESTART_ON_REMOUNT } from './constants'\r\n\r\nconst allowedModes = [RESTART_ON_REMOUNT, DAEMON, ONCE_TILL_UNMOUNT];\r\n\r\nconst checkKey = key =>\r\n    invariant(\r\n        isString(key) && !isEmpty(key),\r\n        '(app/utils...) injectSaga: Expected `key` to be a non empty string',\r\n    );\r\n\r\nconst checkDescriptor = descriptor => {\r\n    const shape = {\r\n        saga: isFunction,\r\n        mode: mode => isString(mode) && allowedModes.includes(mode),\r\n    };\r\n    invariant(\r\n        conformsTo(descriptor, shape),\r\n        '(app/utils...) injectSaga: Expected a valid saga descriptor',\r\n    );\r\n};\r\n\r\nexport function injectSagaFactory(store, isValid) {\r\n    return function injectSaga(key, descriptor = {}, args) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        const newDescriptor = {\r\n            ...descriptor,\r\n            mode: descriptor.mode || DAEMON,\r\n        };\r\n        const { saga, mode } = newDescriptor;\r\n\r\n        checkKey(key);\r\n        checkDescriptor(newDescriptor);\r\n\r\n        let hasSaga = Reflect.has(store.injectedSagas, key);\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            const oldDescriptor = store.injectedSagas[key];\r\n            // enable hot reloading of daemon and once-till-unmount sagas\r\n            if (hasSaga && oldDescriptor.saga !== saga) {\r\n                oldDescriptor.task.cancel();\r\n                hasSaga = false;\r\n            }\r\n        }\r\n\r\n        if (\r\n            !hasSaga ||\r\n            (hasSaga && mode !== DAEMON && mode !== ONCE_TILL_UNMOUNT)\r\n        ) {\r\n            /* eslint-disable no-param-reassign */\r\n            store.injectedSagas[key] = {\r\n                ...newDescriptor,\r\n                task: store.runSaga(saga, args),\r\n            };\r\n            /* eslint-enable no-param-reassign */\r\n        }\r\n    };\r\n}\r\n\r\nexport function ejectSagaFactory(store, isValid) {\r\n    return function ejectSaga(key) {\r\n        if (!isValid) checkStore(store);\r\n\r\n        checkKey(key);\r\n\r\n        if (Reflect.has(store.injectedSagas, key)) {\r\n            const descriptor = store.injectedSagas[key];\r\n            if (descriptor.mode && descriptor.mode !== DAEMON) {\r\n                descriptor.task.cancel();\r\n                // Clean up in production; in development we need `descriptor.saga` for hot reloading\r\n                if (process.env.NODE_ENV === 'production') {\r\n                    // Need some value to be able to detect `ONCE_TILL_UNMOUNT` sagas in `injectSaga`\r\n                    store.injectedSagas[key] = 'done'; // eslint-disable-line no-param-reassign\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nexport default function getInjectors(store) {\r\n    checkStore(store);\r\n\r\n    return {\r\n        injectSaga: injectSagaFactory(store, true),\r\n        ejectSaga: ejectSagaFactory(store, true),\r\n    };\r\n}","import React, { useEffect } from 'react';\r\nimport hoistNonReactStatics from 'hoist-non-react-statics';\r\nimport { ReactReduxContext } from 'react-redux';\r\n\r\nimport getInjectors from './sagaInjectors';\r\n\r\n/**\r\n * Dynamically injects a saga, passes component's props as saga arguments\r\n *\r\n * @param {string} key A key of the saga\r\n * @param {function} saga A root saga that will be injected\r\n * @param {string} [mode] By default (constants.DAEMON) the saga will be started\r\n * on component mount and never canceled or started again. Another two options:\r\n *   - constants.RESTART_ON_REMOUNT  the saga will be started on component mount and\r\n *   cancelled with `task.cancel()` on component unmount for improved performance,\r\n *   - constants.ONCE_TILL_UNMOUNT  behaves like 'RESTART_ON_REMOUNT' but never runs it again.\r\n *\r\n */\r\nexport default ({key, saga, mode}) => WrappedComponent => {\r\n    class InjectSaga extends React.Component {\r\n        static WrappedComponent = WrappedComponent;\r\n\r\n        static contextType = ReactReduxContext;\r\n\r\n        static displayName = `withSaga(${WrappedComponent.displayName ||\r\n        WrappedComponent.name ||\r\n        'Component'})`;\r\n\r\n        constructor(props, context) {\r\n            super(props, context);\r\n\r\n            this.injectors = getInjectors(context.store);\r\n\r\n            this.injectors.injectSaga(key, {saga, mode}, this.props);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.injectors.ejectSaga(key);\r\n        }\r\n\r\n        render() {\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    }\r\n\r\n    return hoistNonReactStatics(InjectSaga, WrappedComponent);\r\n};\r\n\r\nconst useInjectSaga = ({key, saga, mode}) => {\r\n    const context = React.useContext(ReactReduxContext);\r\n    useEffect(() => {\r\n        const injectors = getInjectors(context.store);\r\n        injectors.injectSaga(key, {saga, mode});\r\n\r\n        return () => {\r\n            injectors.ejectSaga(key);\r\n        };\r\n        // eslint-disable-next-line\r\n    }, []);\r\n};\r\n\r\nexport { useInjectSaga };","import { map } from 'lodash-es'\r\nimport qs from 'qs'\r\n\r\nexport function isTrue(str) {\r\n    return str === 'true' || str === true\r\n}\r\n\r\nexport function getParamUrl(param) {\r\n    const url = new URL(window.location.href)\r\n    return url.searchParams.get(param)\r\n}\r\n\r\nexport const generateRoutesFromConfigs = (configs) => {\r\n    let allRoutes = [];\r\n\r\n    map(configs, (config) => {\r\n        allRoutes = [\r\n            ...allRoutes,\r\n            ...setRoutes(config)\r\n        ]\r\n    })\r\n\r\n    return allRoutes;\r\n}\r\n\r\nexport const getParsedQuerySettings = () => {\r\n    const parsedQueryString = qs.parse(window.location.search, {ignoreQueryPrefix: true});\r\n    if (parsedQueryString && parsedQueryString.defaultSettings) {\r\n        return JSON.parse(parsedQueryString.defaultSettings);\r\n    }\r\n    return {}\r\n    // Generating route params from settings\r\n    /*const settings = qs.stringify({\r\n        defaultSettings: JSON.stringify(defaultSettings, {strictNullHandling: true})\r\n    });\r\n    console.info(settings);*/\r\n}\r\n\r\nconst setRoutes = (config) => {\r\n    let routes = [...config.routes];\r\n    if (config.settings || config.auth) {\r\n        routes = routes.map((route) => {\r\n            let auth = config.auth ? [...config.auth] : [];\r\n            auth = route.auth ? [...auth, ...route.auth] : auth;\r\n            return {\r\n                ...route,\r\n                settings: {...config.settings, ...route.settings},\r\n                auth\r\n            };\r\n        });\r\n    }\r\n\r\n    return [...routes];\r\n}","import React, { lazy } from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst MapsContainer = lazy(() => import('./Container'))\r\nconst OdichPage = lazy(() => import('./views/odich/index'))\r\nconst OdichViewPage = lazy(() => import('./views/odich/view/index'))\r\nconst OdichListPage = lazy(() => import('./views/odich/list/index'))\r\nconst SxhPage = lazy(() => import('./views/ds-sxh/index'))\r\nconst HomePage = lazy(() => import('./views/home/index'))\r\nconst ThongkePage = lazy(() => import('./views/thongke/index'))\r\nconst DncPage = lazy(() => import('./views/pt-nguyco/index'))\r\nconst Cabenh = lazy(() => import('./views/cabenh/index'))\r\n\r\nexport const MapsConfig = {\r\n    routes: [\r\n        {\r\n            path: '/maps',\r\n            component: MapsContainer,\r\n            routes: [\r\n                {\r\n                    path: '/maps/ds-sxh',\r\n                    component: SxhPage\r\n                },\r\n                // {\r\n                //     path: '/maps/cabenh',\r\n                //     component: Cabenh\r\n                // },\r\n                {\r\n                    path: '/maps/odich/view/:id',\r\n                    component: OdichViewPage\r\n                },\r\n                {\r\n                    path: '/maps/odich/list',\r\n                    component: OdichListPage\r\n                },\r\n                {\r\n                    path: '/maps/odich',\r\n                    component: OdichPage\r\n                },\r\n                {\r\n                    path: '/maps/pt-nguyco',\r\n                    component: DncPage\r\n                },\r\n                {\r\n                    path: '/maps/thongke',\r\n                    component: ThongkePage\r\n                },\r\n                {\r\n                    path: '/',\r\n                    component: () => <Redirect to={'/maps/ds-sxh'}/>\r\n                },\r\n            ]\r\n        },\r\n\r\n    ]\r\n}","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { generateRoutesFromConfigs } from '@core/utils'\r\n\r\nimport { MapsConfig } from 'app/main/maps/config'\r\n\r\nconst routeConfigs = [\r\n    MapsConfig\r\n];\r\n\r\nconst routes = [\r\n    ...generateRoutesFromConfigs(routeConfigs),\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: () => <Redirect to={'/maps'}/>\r\n    },\r\n    {\r\n        component: () => <Redirect to=\"/pages/errors/error-404\"/>\r\n    },\r\n];\r\n\r\nexport default routes","import React, {memo} from 'react'\r\n\r\nfunction BlankLayout({children}) {\r\n\r\n    return (\r\n        <div>\r\n            {children}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default memo(BlankLayout)\r\n","import blank from './blank/index'\r\n\r\nconst Layouts = {\r\n    blank,\r\n}\r\n\r\nexport default Layouts;","import React, { memo } from 'react'\r\nimport * as Space from \"react-spaces\"\r\nimport Flex from 'react-flexview'\r\nimport Box from '@material-ui/core/Box'\r\nimport { Navbar } from 'react-bootstrap'\r\nimport styled from \"styled-components\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts, utils } from '@core/reducers/layout'\r\nimport { Slot } from \"@ttungbmt/redux-layout\"\r\n\r\n// import { isSlot, filterSlot } from '@core/components/Slot'\r\n\r\nconst HeaderWrapper = styled(Navbar)`\r\n     header { \r\n        border-bottom: 1px solid #dfdfdf; \r\n     }\r\n    .header-title {\r\n        font-size: 17px;\r\n        font-weight: 700;\r\n        text-transform: uppercase;\r\n        color: rgb(0, 147, 221);\r\n    }\r\n    .nav-link.active {\r\n        border-bottom: 2px solid #2196f3;\r\n    }\r\n    \r\n    .navbar-toggler { display: block }\r\n    .app-menu {\r\n        a {\r\n            text-transform : uppercase; font-weight: 600\r\n            &:hover {\r\n                color: #2196f3!important;\r\n                background-color: hsla(0,0%,93.7%,.73);\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nfunction Header({children, homeUrl = '/'}) {\r\n    const dispatch = useDispatch()\r\n    const header = useSelector(layout_sels.getHeader)\r\n    let background = 'url(https://maps.hcmgis.vn/core/themes/maps/assets/img/bando_02.png) no-repeat 150px 0 #f9f9f9'\r\n\r\n    return (\r\n        <HeaderWrapper>\r\n            <Space.Top as=\"header\" {...utils.pickSpace(header, ['size'])} style={{background, overflow: 'visible'}}>\r\n                <Space.Left size={450}>\r\n                    <Flex height={'100%'}>\r\n                        <Flex grow>\r\n                            <a href={homeUrl}>\r\n                                <Box display=\"flex\" alignItems=\"center\" height=\"100%\">\r\n                                    <Box m={'0 7px'}>\r\n                                        <Slot name=\"header.logo\"/>\r\n                                    </Box>\r\n                                    <Box className=\"header-title\">\r\n                                        <Slot name=\"header.title\"/>\r\n                                    </Box>\r\n                                </Box>\r\n                            </a>\r\n                        </Flex>\r\n                        <Flex>\r\n                            <button type=\"button\" className=\"navbar-toggler\" onClick={() => dispatch(layout_acts.toggleSidebar())}>\r\n                                <i className=\"icon-paragraph-justify3\"/>\r\n                            </button>\r\n                        </Flex>\r\n                    </Flex>\r\n                </Space.Left>\r\n                <Space.Fill style={{overflow: 'visible'}}>\r\n                    <Box display=\"flex\" height=\"100%\">\r\n                        <Flex grow>\r\n                            <Slot name=\"header.search_bar\"/>\r\n                        </Flex>\r\n                        <Box display=\"flex\" alignItems=\"center\" className=\"app-menu\">\r\n                            <Slot name=\"header.menu\"/>\r\n                        </Box>\r\n                    </Box>\r\n                </Space.Fill>\r\n            </Space.Top>\r\n        </HeaderWrapper>\r\n    )\r\n}\r\n\r\nexport default memo(Header)","export default {\r\n    cabenh: {\r\n        pop: require('./cabenh/Pop').default\r\n    },\r\n    cabenh_sxh: {\r\n        pop: require('./cabenh_sxh/Pop').default\r\n    },\r\n    dnc: {\r\n        pop: require('./dnc/Pop').default\r\n    },\r\n    odich: {\r\n        pop: require('./odich/Pop').default\r\n    }\r\n}","import React, { memo, Fragment } from 'react'\r\nimport { useSelector, useRouteMatch } from '@ttungbmt/redux-toolkit'\r\nimport { FeatureGroup, Circle, Marker, Popup, PopManager, GeoJSON } from '@ttungbmt/redux-leaflet'\r\nimport { selectors as odichSels } from 'app/reducers/odich'\r\nimport { selectors as pcdSels } from 'app/reducers/pcd'\r\n\r\nimport { isEmpty } from '@ttungbmt/utils'\r\nimport { circle, union, feature } from '@turf/turf'\r\n\r\nimport features from 'app/features'\r\nimport moment from \"app/utils/moment\"\r\n\r\nconst CircleOdich = memo(({data, combineCir, radius, selected}) => {\r\n    if(isEmpty(data)) return null\r\n\r\n    if (combineCir) {\r\n        const odichCir = union(...data.map(c => circle(feature(c.geometry), radius, {steps: 400, units: 'meters'})))\r\n        return <GeoJSON data={odichCir.geometry} style={{color: selected ? '#ff7800' : '#3388ff'}}/>\r\n    } else {\r\n        return data.map(({position}, k) => (<Circle center={position} key={k} radius={radius}/>))\r\n    }\r\n})\r\n\r\nconst OdichLeaflet = memo(({id, cabenhs, range, options: {combineCir, radius}, selected}) => {\r\n    if(isEmpty(cabenhs)) return null\r\n\r\n    let data = cabenhs.filter(c => {\r\n        let date = moment(c.ngaymacbenh_nv, 'L').unix()\r\n        return date >= range.value[0] && date <= range.value[1]\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <CircleOdich data={data} combineCir={combineCir} radius={radius} selected={selected}/>\r\n            {data.map(({position, selected, ...props}, k) => {\r\n                return (\r\n                    <Fragment key={k}>\r\n                        {selected && <Circle center={position} key={k} radius={radius} color={'red'} zIndex={800}/>}\r\n                        <Marker position={position} selected={selected} riseOnHover={true}\r\n                                zIndexOffset={selected ? 1000 : 100}>\r\n                            <Popup>\r\n                                <PopManager features={features} _key={'cabenh_sxh'} model={props}/>\r\n                            </Popup>\r\n                        </Marker>\r\n                    </Fragment>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n})\r\n\r\nfunction OdichMap() {\r\n    const options = useSelector(pcdSels.getOdichConf)\r\n    const models = useSelector(odichSels.getOdichMap)\r\n\r\n    if(isEmpty(models)) return <Fragment />\r\n\r\n    return (\r\n        <FeatureGroup>\r\n            {models.map((m, k) => <OdichLeaflet key={k} {...m} options={options}/>)}\r\n        </FeatureGroup>\r\n    )\r\n}\r\n\r\nexport default memo(OdichMap)","import React, { memo, useEffect } from 'react'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { FeatureGroup, Circle, useLeaflet } from '@ttungbmt/redux-leaflet'\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nfunction KhoanhVungMap() {\r\n    const items = useSelector(state => get(state, 'pcd.khoanhvung', []))\r\n    return (\r\n        <FeatureGroup>\r\n            {items.filter(i => i.geometry).map(({geometry}, k) => (\r\n                <Circle center={toCenter(geometry)} key={k} radius={100}/>))}\r\n        </FeatureGroup>\r\n    )\r\n}\r\n\r\nexport default memo(KhoanhVungMap)","import React, { memo } from 'react'\r\nimport { useInjectReducer, useInjectSaga } from '@core/utils/index'\r\n\r\nimport { LeafletContainer, sagas as mapSagas, reducer as mapReducer, PopupWMS, PopManager, LegendControl } from '@ttungbmt/redux-leaflet'\r\n\r\nimport '@ttungbmt/redux-leaflet/dist/redux-leaflet.cjs.css'\r\n\r\nimport OdichMap from './OdichMap'\r\n\r\nimport features from 'app/features'\r\nimport KhoanhVungMap from \"./KhoanhVungMap\";\r\n\r\n\r\nconst legends = [\r\n    {\r\n        \"label\": \"Ca bnh\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: '<= 7', html: '<div class=\"lengend-circle\" style=\"background: #ff0000\"></div>'},\r\n            {label: '8 - 14', html: '<div class=\"lengend-circle\" style=\"background: #ff4600\"></div>'},\r\n            {label: '15 - 21', html: '<div class=\"lengend-circle\" style=\"background: #007f00\"></div>'},\r\n            {label: '22 - 28', html: '<div class=\"lengend-circle\" style=\"background: #0000ff\"></div>'},\r\n            {label: '>= 28', html: '<div class=\"lengend-circle\" style=\"background: #8c8c8c\"></div>'},\r\n            {label: 'Zika', html: '<div class=\"lengend-circle\" style=\"background: #aa2672\"></div>'},\r\n        ]\r\n    },\r\n    {\r\n        \"label\": \"Hnh thc iu tr\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: 'Ni tr', html: '<div class=\"lengend-circle\" style=\"background: red\"></div>'},\r\n            {label: 'Ngoi tr', html: '<div class=\"lengend-triangle\"></div>'},\r\n        ]\r\n    },\r\n    {\r\n        \"label\": \"NC\",\r\n        \"collapsed\": true,\r\n        \"items\": [\r\n            {label: 'Nhm 1', html: '<div class=\"lengend-rectangle\" style=\"background: #e81d62\"></div>'},\r\n            {label: 'Nhm 2', html: '<div class=\"lengend-rectangle\" style=\"background: #2196f3\"></div>'},\r\n            {label: 'Nhm 3', html: '<div class=\"lengend-rectangle\" style=\"background: #388e3c\"></div>'},\r\n        ]\r\n    },\r\n]\r\n\r\nfunction Leaflet() {\r\n    useInjectReducer({key: 'map', reducer: mapReducer})\r\n    useInjectSaga({key: 'map', saga: mapSagas.map})\r\n\r\n    return (\r\n        <LeafletContainer>\r\n            <OdichMap/>\r\n            <KhoanhVungMap/>\r\n            <LegendControl legends={legends} />\r\n\r\n            <PopupWMS>\r\n                <PopManager features={features}/>\r\n            </PopupWMS>\r\n        </LeafletContainer>\r\n    )\r\n}\r\n\r\nexport default memo(Leaflet)","import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n    background: white;\r\n    .nav-item a {\r\n        color: #333;\r\n        padding: 13px 20px;\r\n        &:hover {background: hsla(0,0%,93.7%,.8);}\r\n    } \r\n    \r\n    .nav-link { color: #333;}\r\n    \r\n    .map-tools a {\r\n        border-right: 1px solid rgba(223, 223, 223, 0.56)\r\n    }\r\n    \r\n    .map-rgt-tools a {\r\n        padding-right: 13px;\r\n        padding-left: 13px;\r\n    }\r\n`;\r\n\r\nexport default Wrapper","import React, { memo, useState } from 'react'\r\nimport Box from '@material-ui/core/Box'\r\n// import { castArray } from \"lodash-es\"\r\nimport * as Space from \"react-spaces\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { isSlot, filterSlot } from '@core/components/Slot'\r\nimport { selectors as layout_sels } from '@core/reducers/layout'\r\nimport ReactFullScreenElement from \"react-fullscreen-element\"\r\n\r\nimport Wrapper from './Wrapper'\r\n\r\nfunction MapLayout({children, leftTool, rightTool, leaflet}) {\r\n    const fullscreen = useSelector(layout_sels.getMapFullscreen)\r\n    // const arrCh = castArray(children)\r\n    //\r\n    // const leaflet = filterSlot(arrCh, 'leaflet'),\r\n    //     left_tool = filterSlot(arrCh, 'left_tool'),\r\n    //     right_tool = filterSlot(arrCh, 'right_tool'),\r\n    //     rest = arrCh.filter(o => !isSlot(o))\r\n\r\n    return (\r\n        <ReactFullScreenElement fullScreen={fullscreen}>\r\n            <Wrapper>\r\n                <Space.Top size={45} style={{borderBottom: '1px solid #dfdfdf', overflow: 'visible', zIndex: 999999}}>\r\n                    <Box display=\"flex\" height=\"100%\">\r\n                        <Box display=\"flex\" flexGrow={1} alignItems=\"center\" className=\"map-tools\">{leftTool}</Box>\r\n                        <Box className=\"map-tools map-rgt-tools\"\r\n                             css={{borderLeft: `1px solid rgba(223, 223, 223, 0.56)`}}>{rightTool}</Box>\r\n                    </Box>\r\n                </Space.Top>\r\n                <Space.Fill>\r\n                    {leaflet}\r\n                </Space.Fill>\r\n                <Space.Bottom size={0}>\r\n                    Extra Map\r\n                </Space.Bottom>\r\n\r\n            </Wrapper>\r\n        </ReactFullScreenElement>\r\n    )\r\n}\r\n\r\nexport default memo(MapLayout)","import React, { memo } from 'react'\r\nimport { isEmpty, isString } from 'lodash-es'\r\nimport { useDispatch, useHistory, useSelector, emitter } from '@ttungbmt/redux-toolkit'\r\nimport { Tooltip } from '@core/components'\r\nimport { Nav, Dropdown } from 'react-bootstrap'\r\nimport { actions as layout_acts } from '@core/reducers/layout'\r\nimport { actions as mapActs } from '@ttungbmt/redux-leaflet'\r\nimport { selectors as pcdSels, actions as pcdActs } from 'app/reducers/pcd'\r\n\r\nimport Leaflet from './Leaflet'\r\nimport MapLayout from './Layout'\r\n\r\nfunction ToolItem({icon, text}) {\r\n    return <>{icon && <i className={icon}/>} <span className=\"md:hidden lg:inline\">{text}</span></>\r\n}\r\n\r\nconst NavItem = ({items, tooltip, onClick, ...props}) => {\r\n    if (isEmpty(items)) return (\r\n        <Tooltip title={tooltip}>\r\n            <Nav.Link onClick={onClick}><ToolItem {...props}/></Nav.Link>\r\n        </Tooltip>\r\n    )\r\n\r\n    return (\r\n        <Tooltip title={props.tooltip}>\r\n            <Nav.Item>\r\n                <Dropdown as={Nav.Item}>\r\n                    <Dropdown.Toggle as={Nav.Link}><ToolItem {...props}/></Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                        {items.map((v, k) => (isString(v) && v === '-') ? (\r\n                                <div className=\"dropdown-divider\" key={k}/>) :\r\n                            <Dropdown.Item key={k} onClick={v.onClick}><ToolItem {...v}/></Dropdown.Item>)}\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            </Nav.Item>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\n\r\nfunction Map() {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const {combineCir} = useSelector(pcdSels.getOdichConf)\r\n\r\n\r\n    let lft_tool_items = [\r\n            {icon: 'icon-feed', tooltip: 'Tm  dch t ng', onClick: () => history.push('/maps/odich/list')},\r\n            {\r\n                tooltip: combineCir ? 'Tch khoanh vng' : 'Gom khoanh vng',\r\n                onClick: () => dispatch(pcdActs.setCombineCir(!combineCir)),\r\n                icon: combineCir ? 'icon-ungroup' : 'icon-make-group'\r\n            }\r\n        ],\r\n        rgt_tool_items = [\r\n            {\r\n                icon: 'icon-bin', tooltip: 'Xa im', onClick: () => {\r\n                    dispatch(pcdActs.removeAllKhoanhVung())\r\n\r\n                }\r\n            },\r\n            {\r\n                icon: 'icon-cube3',\r\n                tooltip: 'Cng c',\r\n                items: [\r\n                    {\r\n                        icon: 'icon-rulers',\r\n                        text: 'o khong cch',\r\n                        onClick: () => dispatch(mapActs.toggleControl('ruler'))\r\n                    },\r\n                    {icon: 'icon-pencil-ruler', text: 'o din tch', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-circles2', text: 'o bn knh', onClick: () => {alert('Developing')}},\r\n                    '-',\r\n                    {icon: 'icon-bookmark3', text: 'nh du v tr', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-share2', text: 'Chia s', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-printer', text: 'In bn ', onClick: () => {alert('Developing')}},\r\n                    {icon: 'icon-image2', text: 'Xut file nh', onClick: () => emitter.emit('exportMap')},\r\n                ]\r\n            },\r\n            {\r\n                icon: 'icon-enlarge', tooltip: 'Ty chnh layout', items: [\r\n                    {text: 'Bt/ tt header', icon: 'icon-sort', onClick: () => dispatch(layout_acts.toggleHeader())},\r\n                    {text: 'Bt/ tt sidebar', icon: 'icon-tab', onClick: () => dispatch(layout_acts.toggleSidebar())},\r\n                    {\r\n                        text: 'M rng bn ',\r\n                        icon: 'icon-width',\r\n                        onClick: () => dispatch(layout_acts.toggleMapFullscreen())\r\n                    },\r\n                    {\r\n                        text: 'Ton mn hnh',\r\n                        icon: 'icon-screen-full',\r\n                        onClick: () => dispatch(layout_acts.toggleAppFullscreen())\r\n                    },\r\n                ]\r\n            },\r\n        ]\r\n\r\n\r\n    return (\r\n        <MapLayout\r\n            rightTool={<Nav>{rgt_tool_items.map((i, k) => <NavItem key={k} {...i}/>)}</Nav>}\r\n            leftTool={<Nav>{lft_tool_items.map((i, k) => <NavItem key={k} {...i}/>)}</Nav>}\r\n            leaflet={<Leaflet/>}\r\n        />\r\n    )\r\n}\r\n\r\nexport default memo(Map)","import styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n    position: relative;\r\n    height: 100%;\r\n    border-right: 1px solid hsla(0,0%,87.5%,.56);\r\n\r\n    .sb-title { \r\n        border-bottom: 1px solid #dfdfdf;\r\n        font-weight: 500; \r\n        .badge {\r\n            padding: 3px 4px;\r\n            i {font-size: 14px}\r\n        }\r\n    }\r\n    \r\n     .sb-sub-title { \r\n        border-bottom: 1px solid #dfdfdf;\r\n        > div {\r\n        }\r\n        button, a {\r\n            outline: none;\r\n            width: 35px;\r\n            height: 100%;\r\n            &:hover {background: hsla(0,0%,93.7%,.73)}\r\n        }\r\n    }\r\n`;\r\n\r\nexport default Wrapper","import React, { memo } from 'react'\r\nimport * as Space from \"react-spaces\"\r\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, actions as layout_acts, utils } from '@core/reducers/layout'\r\nimport {Slot} from '@ttungbmt/redux-layout'\r\n\r\nimport Wrapper from './Wrapper'\r\n\r\nfunction Sidebar({children}) {\r\n    const dispatch = useDispatch()\r\n    const sidebarProps = useSelector(layout_sels.getSidebar)\r\n\r\n    return (\r\n        <Space.LeftResizable\r\n            as=\"aside\"\r\n            onResizeEnd={() => dispatch(layout_acts.resizeSidebar())}\r\n            {...utils.pickSpace(sidebarProps, ['size', 'maximumSize', 'handleSize'])}\r\n        >\r\n            <Wrapper>\r\n                <Slot name=\"main\" />\r\n            </Wrapper>\r\n        </Space.LeftResizable>\r\n    )\r\n}\r\n\r\nexport default memo(Sidebar)","import React, {memo} from 'react'\r\nimport * as Space from 'react-spaces'\r\n\r\nimport Map from './Map/index'\r\nimport Sidebar from './Sidebar'\r\n\r\nfunction Main({children}) {\r\n\r\n    return (\r\n        <Space.Fill as=\"main\" style={{background: 'white', overflow: 'visible'}}>\r\n            <Sidebar children={children}/>\r\n            <Space.Fill>\r\n                <Map />\r\n            </Space.Fill>\r\n            <Space.RightResizable as=\"aside\" size={0} handleSize={5}>\r\n                Right Sidebar\r\n            </Space.RightResizable>\r\n        </Space.Fill>\r\n    )\r\n}\r\n\r\nexport default memo(Main)","import React, { memo } from 'react'\r\nimport * as Space from 'react-spaces'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as layout_sels, utils } from '@core/reducers/layout'\r\nimport { Slot } from \"@ttungbmt/redux-layout\"\r\n\r\nfunction Footer() {\r\n    const footerProps = useSelector(layout_sels.getFooter)\r\n\r\n    return (\r\n        <Space.BottomResizable as=\"footer\" {...utils.pickSpace(footerProps)}>\r\n            <Slot name=\"footer\"/>\r\n        </Space.BottomResizable>\r\n    )\r\n}\r\n\r\nexport default memo(Footer)","import React, {memo} from 'react'\r\nimport styled from \"styled-components\"\r\nimport { Helmet } from 'react-helmet'\r\nimport * as Space from 'react-spaces'\r\nimport { Header, Footer, Main } from './partials'\r\n\r\nconst Wrapper = styled.div`\r\n     .spaces-fullpage-layout {\r\n        background: white\r\n    }\r\n`;\r\n\r\nfunction MapLayout({children}) {\r\n    return (\r\n        <>\r\n            <Helmet defaultTitle=\"Map App\">\r\n            </Helmet>\r\n            <Wrapper>\r\n                <Space.ViewPort>\r\n                    <Header/>\r\n                    <Main children={children}/>\r\n                    <Footer />\r\n                </Space.ViewPort>\r\n            </Wrapper>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(MapLayout)\r\n","import coreLayouts from '@core/layouts/Layouts'\r\nimport map from './map/Layout'\r\n\r\nconst Layouts = {\r\n    ...coreLayouts,\r\n    map\r\n};\r\n\r\nexport default Layouts","import { put, call, takeEvery, delay } from 'redux-saga/effects'\r\nimport axios from 'axios'\r\nimport { actions as authActs } from '@core/reducers/auth'\r\nimport {actions as appActs } from '@core/reducers/app'\r\nimport {actions as layoutActs } from '@core/reducers/layout'\r\nimport {actions as mapActs } from '@ttungbmt/redux-leaflet'\r\nimport store from 'app/Store'\r\n\r\nexport default function* appSaga() {\r\n    yield takeEvery('@app/INIT', initApp)\r\n}\r\n\r\nappSaga.key = 'app'\r\n\r\nfunction* initApp() {\r\n    try {\r\n        const {data} = yield call(axios.get, '/maps/configs');\r\n        store.commit('setCat', data.dm)\r\n        store.commit('setMap', data.map)\r\n        yield put(authActs.setAuth(data.auth))\r\n        yield put(layoutActs.setLayout(data.app))\r\n        yield put(appActs.setApp(data.app))\r\n        yield delay(1000)\r\n        yield put(mapActs.setMap(data.map))\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n}\r\n\r\n\r\n","import { takeEvery } from \"redux-saga/effects\"\r\nimport {actions as acts} from '@core/reducers/layout'\r\n\r\nimport {name} from './slice'\r\nimport { emitter } from '@ttungbmt/redux-toolkit'\r\n\r\nexport default function* layoutSaga() {\r\n    yield takeEvery(acts.resizeSidebar.type, resizeSb)\r\n\r\n}\r\n\r\nlayoutSaga.key = name\r\n\r\nfunction* resizeSb() {\r\n    emitter.emit(acts.resizeSidebar.type)\r\n}\r\n\r\n","import { createReducer } from \"redux-orm\";\r\nimport { includes, keys } from '@ttungbmt/utils'\r\nimport orm from './orm'\r\nimport { isEmpty } from '@ttungbmt/utils'\r\n\r\nconst ormReducer = createReducer(orm, defaultUpdater)\r\n\r\nfunction defaultUpdater(session, action) {\r\n    session.sessionBoundModels.forEach(modelClass => {\r\n        const caseReducers = modelClass.reducers\r\n        if (!isEmpty(caseReducers) && includes(keys(caseReducers), action.type)) {\r\n            caseReducers[action.type](action, modelClass, session)\r\n        }\r\n    });\r\n}\r\n\r\nexport default ormReducer","import React, { memo } from 'react'\r\nimport { isEmpty } from 'lodash-es'\r\nimport cx from 'classnames'\r\nimport { Nav, Dropdown } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { matchPath, useLocation } from '@ttungbmt/redux-toolkit'\r\n\r\nconst Item = memo(({text, icon}) => {\r\n    return (\r\n        <>{icon && <i className={cx(icon, 'mr-1')}/>} {text}</>\r\n    )\r\n})\r\n\r\n\r\nfunction NavLink({url, items, onClick, ...props}) {\r\n    const location = useLocation()\r\n    const A = url ? Link : Nav.Link\r\n    if (isEmpty(items)) return <A to={url} {...props} className={cx('nav-link', {active: matchPath(location.pathname, {path: url, exact: true})})}><Item {...props}/></A>\r\n\r\n    return (\r\n        <Nav.Item>\r\n            <Dropdown as={Nav.Item}>\r\n                <Dropdown.Toggle as={Nav.Link}><Item {...props}/></Dropdown.Toggle>\r\n                <Dropdown.Menu>\r\n                    {items.map(({onClick, ...i}, k) => <Dropdown.Item key={k}\r\n                                                                      onClick={onClick}><Item {...i}/></Dropdown.Item>)}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </Nav.Item>\r\n    )\r\n}\r\n\r\nexport default memo(NavLink)","import React, { memo } from 'react'\r\nimport { Nav } from 'react-bootstrap'\r\nimport {BaseLayout, Template} from '@ttungbmt/redux-layout'\r\nimport { renderRoutes } from \"react-router-config\"\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { selectors as app_sels } from \"@core/reducers/app\"\r\nimport { selectors as layout_sels } from \"@core/reducers/layout\"\r\n\r\nimport { NavLink } from \"./components\"\r\n\r\nfunction MapPage({routes}) {\r\n    const [app, menuItems] = useSelector(state => [app_sels.getApp(state), layout_sels.getMenu(state)])\r\n\r\n    return (\r\n        <BaseLayout layout=\"map\">\r\n            <Template slot=\"header.logo\">\r\n                <img src={app.app_logo} alt=\"\" style={{height: '45px'}}/>\r\n            </Template>\r\n            <Template slot=\"header.title\">\r\n                 <span>{app.app_name}</span>\r\n            </Template>\r\n            <Template slot=\"header.menu\">\r\n                <Nav>\r\n                    {menuItems && menuItems.map((i, k) => <NavLink key={k} {...i}/>)}\r\n                </Nav>\r\n            </Template>\r\n            <Template slot=\"main\">\r\n                {renderRoutes(routes)}\r\n            </Template>\r\n\r\n\r\n        </BaseLayout>\r\n    )\r\n}\r\n\r\nexport default memo(MapPage)","// @flow\nimport React, { memo, useEffect, Suspense } from 'react'\nimport { hot } from 'react-hot-loader/root';\nimport { AppContainer } from '@core/containers'\nimport { useSelector, useDispatch } from '@ttungbmt/redux-toolkit'\nimport { useInjectSaga, useInjectReducer } from '@core/utils/index'\n\nimport routes from './configs/routesConfig'\nimport Layouts from './layouts/Layouts'\nimport appSaga from './sagas/app.saga'\nimport layoutSaga from '@core/reducers/layout/saga'\nimport { actions as app_acts, selectors as app_sels } from '@core/reducers/app'\nimport { AppLoader } from '@core/components'\nimport ormReducer from './reducers/orm'\nimport { saga as cabenhSaga, KEY as cabenhKey } from './reducers/cabenh'\nimport { reducer as pcdReducer, saga as pcdSaga, KEY as pcdKey } from './reducers/pcd'\nimport { saga as odichSaga } from './reducers/odich'\n\nimport { LayoutProvider } from '@ttungbmt/redux-layout'\n\nimport MapPage from './layouts/map/MapPage'\nimport TreeChart from \"./main/maps/views/cabenh/TreeChart\";\n\nfunction App() {\n    const Layout = Layouts['map']\n    const loaded = useSelector(app_sels.getLoaded)\n    const dispatch = useDispatch()\n\n    useInjectSaga({key: appSaga.key, saga: appSaga})\n    useInjectSaga({key: layoutSaga.key, saga: layoutSaga})\n    useInjectReducer({key: 'orm', reducer: ormReducer})\n\n    useInjectReducer({key: pcdKey, reducer: pcdReducer})\n    useInjectSaga({key: pcdKey, saga: pcdSaga})\n    useInjectSaga({key: cabenhKey, saga: cabenhSaga})\n    useInjectSaga({key: 'odich', saga: odichSaga})\n\n    useEffect(() => {\n        dispatch(app_acts.initApp())\n    }, [])\n\n    if (loaded) {\n        return (\n            <AppContainer>\n                <Suspense fallback={<div>Loading...</div>}>\n                    <LayoutProvider layouts={Layouts}>\n                        <MapPage routes={routes}/>\n                    </LayoutProvider>\n                </Suspense>\n            </AppContainer>\n        )\n    }\n    return <AppLoader/>\n}\n\nexport default memo(hot(App))\n","/**\n * jQuery form/json converter plugin\n * Original author: @dantenetto \n * Licensed under the MIT license\n */\nimport $ from 'jquery'\n\nlet controlsWrapper;\n\ncontrolsWrapper = {\n    _getSelectOneValue: function (select) {\n        return select.val();\n    },\n\n    _getSelectMultipleValue: function (select) {\n        let values = [];\n\n        $.each(select[0].options, function (i, option) {\n            let $option = $(option);\n\n            if ($option.is(':selected')) {\n                values.push($option.val());\n            }\n        });\n\n        return values;\n    },\n\n    getSelectValue: function (select) {\n        let type,\n            value;\n\n        type = select[0].type;\n\n        if (type === 'select-one') {\n            value = this._getSelectOneValue(select);\n        } else {\n            value = this._getSelectMultipleValue(select);\n        }\n\n        return value;\n    },\n\n    getCheckboxValue: function (checkbox) {\n        if (!checkbox.is(':checked')) {\n            return '';\n        }\n\n        return checkbox.val();\n    },\n\n    getValues: function (container, keyFilter) {\n        let formObject = {};\n\n        container.find('input, select, textarea').each(function (i, node) {\n            let key, disabled, type, value, $node;\n\n            $node = $(node);\n\n            key = $node.attr($.fn.inputValues.opts.attr);\n            disabled = $node.is(':disabled');\n\n            //skipping disabled or no-matches if necessary\n            if (!key\n                || (!$.fn.inputValues.opts.includeDisabled && disabled)\n                || (keyFilter && (key !== keyFilter))) {\n                return;\n            }\n\n            switch (node.type) {\n                case 'radio':\n                    if (!$node.is(':checked')) {\n                        formObject[key] = formObject[key] || '';\n                        break;\n                    }\n\n                    formObject[key] = $node.val();\n                    break;\n\n                case 'checkbox':\n                    if (!$node.is(':checked')) {\n                        formObject[key] = formObject[key] || '';\n                        break;\n                    }\n\n                    if (!formObject.hasOwnProperty(key) || !formObject[key]) {\n                        formObject[key] = $node.val();\n                        break;\n                    }\n\n                    if (!$.isArray(formObject[key])) {\n                        value = [formObject[key]];\n                        formObject[key] = value;\n                    }\n\n                    formObject[key].push($node.val());\n                    break;\n\n                case 'select-one':\n                    formObject[key] = $node.val();\n                    break;\n\n                case 'select-multiple':\n                    formObject[key] = [];\n                    $.each(node.options, function (i, option) {\n                        let $option = $(option);\n                        if ($option.is(':selected')) {\n                            formObject[key].push($option.val());\n                        }\n                    });\n                    break;\n\n                //atributos que devem ser ignorados\n                case 'button':\n                case 'reset':\n                case 'image':\n                case undefined:\n                    break;\n\n                default:\n                    formObject[key] = $node.val();\n            }\n        });\n\n        if (keyFilter) return formObject[keyFilter];\n\n        return formObject;\n    },\n\n\n    setSelectValue: function (select, value) {\n        let i, size, option;\n\n        select.val(null);\n\n        if (!$.isArray(value)) {\n            select.val(value);\n            return;\n        }\n\n        for (i = 0, size = value.length; i < size; i += 1) {\n            option = select.find('option[value=\"' + value[i] + '\"]');\n            option.prop('selected', true);\n        }\n    },\n\n    //radio or checkbox\n    _checkCheckableValue: function (checkable, value) {\n        if (!$.isArray(value)) {\n            value = [value];\n        }\n\n        $.each(value, function (i) {\n            value[i] = '' + value[i];\n        });\n\n        if ($.inArray(checkable.val(), value) > -1) {\n            checkable.prop('checked', true);\n            return true;\n        }\n\n        return false;\n    },\n\n    checkCheckboxesValue: function (checkbox, value) {\n        let i, size, anyWasChecked = false;\n\n        checkbox.prop('checked', false);\n\n        for (i = 0, size = checkbox.length; i < size; i += 1) {\n            if (this._checkCheckableValue(checkbox.eq(i), value)) {\n                anyWasChecked = true;\n            }\n        }\n\n        return anyWasChecked;\n    },\n\n    checkRadiosValue: function (radios, value) {\n        let i, size;\n\n        radios.prop('checked', false);\n\n        for (i = 0, size = radios.length; i < size; i += 1) {\n            if (this._checkCheckableValue(radios.eq(i), ('' + value))) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    setValues: function (container, values) {\n        let key, nodes, filter, type,\n            attr = $.fn.inputValues.opts.attr;\n\n        for (key in values) {\n            if (!values.hasOwnProperty(key)) continue;\n\n            filter = '[' + attr + '=\"' + key + '\"]';\n            nodes = container.find(filter);\n\n            if (nodes.length === 0) { continue; }\n\n            type = nodes[0].type;\n\n            switch (type) {\n                case 'select-one':\n                case 'select-multiple':\n                    this.setSelectValue(nodes, values[key]);\n                    break;\n\n                case 'radio':\n                    this.checkRadiosValue(nodes, values[key]);\n                    break;\n\n                case 'checkbox':\n                    this.checkCheckboxesValue(nodes, values[key]);\n                    break;\n\n                case 'file':\n                    //fileinput can only be setted to empty string\n                    if (values[key] !== '') continue;\n\n                    nodes.val('');\n                    break;\n\n                //no existe controle de valores para esses tipos de input\n                case 'button':\n                case 'image':\n                case 'reset':\n                case undefined:\n                    break;\n\n                default:\n                    nodes.val(values[key]);\n            }\n        }\n    }\n};\n\n//publishing\n$.fn.inputValues = function (paramA, paramB) {\n    let values;\n\n    //getting all values from element set\n    if (!paramA) return controlsWrapper.getValues(this);\n\n    if (typeof paramA === 'string') {\n        //getting only values with the specific name\n        if (paramB === undefined) return controlsWrapper.getValues(this, paramA);\n\n        values = {};\n        values[paramA] = paramB ;\n    } else {\n        values = paramA;\n    }\n\n    controlsWrapper.setValues(this, values);\n\n    return this;\n};\n\n$.fn.inputValues.opts = {\n    attr: 'name',\n    includeDisabled: false\n};\n\n$.fn.inputValues.config = function (opts) {\n    $.fn.inputValues.opts = $.extend($.fn.inputValues.opts, opts);\n\n    return this;\n};","// Needed for redux-saga es6 generator support\r\nimport 'react-app-polyfill/stable';\r\n\r\n// CSS\r\nimport 'sanitize.css/sanitize.css'\r\nimport './styles/index.scss'\r\n\r\n// Plugins\r\nimport 'jquery-serializeobject'\r\nimport './plugins/input-values.jquery'\r\n\r\n\r\nwindow.BASE_URL = window.BASE_URL ? window.BASE_URL : '/'","import Store from './Store'\r\nimport '@core/bootstrap'\r\n\r\nimport './styles/index.scss'\r\nimport 'leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css'\r\n\r\n\r\nwindow.store = Store","import * as serviceWorker from '@core/serviceWorker'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport App from './app/App'\nimport history from '@core/utils/history'\nimport configureStore from '@core/configureStore'\n\nimport 'app/bootstrap'\n\n\n// Create redux store with history\nconst initialState = {};\nconst store = configureStore(initialState, {}, history);\n\nconst MOUNT_NODE = document.getElementById('root')\nconst render = () => ReactDOM.render((\n    <Provider store={store}>\n        <ConnectedRouter history={history}>\n            <App />\n        </ConnectedRouter>\n    </Provider>\n), MOUNT_NODE);\n\nrender()\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { routerMiddleware } from 'connected-react-router'\r\nimport createReducer from './reducers'\r\nimport { configureStore as baseConfigureStore, getDefaultMiddleware, createSagaMiddleware  } from '@ttungbmt/redux-toolkit'\r\nimport { loadingBarMiddleware } from 'react-redux-loading-bar'\r\n\r\nexport default function configureStore(initialState = {}, injectedReducers = {}, history) {\r\n    const reduxSagaMonitorOptions = {};\r\n\r\n    const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions);\r\n\r\n    const store = baseConfigureStore({\r\n        reducer: createReducer(),\r\n        preloadedState: initialState,\r\n        middleware: [\r\n            ...getDefaultMiddleware(),\r\n            sagaMiddleware,\r\n            routerMiddleware(history),\r\n            loadingBarMiddleware({\r\n                promiseTypeSuffixes: ['REQUEST', 'SUCCESS', 'FAILURE'],\r\n            })\r\n        ],\r\n    })\r\n\r\n\r\n\r\n    // Extensions\r\n    store.runSaga = sagaMiddleware.run;\r\n    store.injectedReducers = {}; // Reducer registry\r\n    store.injectedSagas = {}; // Saga registry\r\n\r\n    // Make reducers hot reloadable\r\n    if (process.env.NODE_ENV === 'development' && module.hot) {\r\n        module.hot.accept('./reducers', () => {\r\n            const newRootReducer = createReducer(store.injectedReducers)\r\n            store.replaceReducer(newRootReducer)\r\n        })\r\n    }\r\n\r\n    return store;\r\n}","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const KEY = 'pcd'\r\n\r\nlet initialState = {\r\n    odich: {\r\n        radius: 200,\r\n        combineCir: true\r\n    },\r\n    khoanhvung: []\r\n}\r\n\r\nconst reducers = {\r\n    setCombineCir: (state, {payload}) => {\r\n        state.odich.combineCir = payload\r\n    },\r\n    khoanhVung: (state, {payload}) => {\r\n        state.khoanhvung.push(payload)\r\n    },\r\n    removeAllKhoanhVung: (state, {payload}) => {\r\n        state.khoanhvung = []\r\n    },\r\n}\r\n\r\nconst odichSlice = createSlice({\r\n    name: KEY,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\n\r\nexport default odichSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport {KEY} from './pcd.slice'\r\n\r\nexport const getRadius = createSelector([KEY], (s) => s.odich.radius || 200)\r\nexport const getOdichConf = createSelector([KEY], (s) => s.odich || {})","export default function* pcdSaga() {\r\n\r\n}\r\n\r\n","import pcdSlice from './pcd.slice'\r\nimport * as pcdActs from './pcd.actions'\r\n\r\nexport { KEY } from './pcd.slice'\r\n\r\nexport const actions = {\r\n    ...pcdSlice.actions,\r\n    ...pcdActs\r\n}\r\n\r\nexport * as selectors from './pcd.selectors'\r\nexport { default as saga } from './pcd.saga'\r\nexport const reducer = pcdSlice.reducer\r\nexport const slice = pcdSlice\r\n\r\n","module.exports = _;","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nexport const create = createAction(`model/odich/CREATE`)\r\nexport const createMany = createAction(`model/odich/CREATE_MANY`)\r\nexport const remove = createAction(`model/odich/REMOVE`)\r\nexport const removeAll = createAction(`model/odich/REMOVE_ALL`)\r\nexport const update = createAction(`model/odich/UPDATE`)\r\nexport const khoanhVungOd = createAction(`model/odich/UPDATE`)\r\nexport const addCabenh = createAction(`model/odich/ADD_CABENH`)\r\nexport const updateRangeValue = createAction(`model/odich/UPDATE_RANGE_VALUE`)\r\nexport const setLoading = createAction(`model/odich/LOADING`)\r\nexport const selected = createAction(`model/odich/SELECTED`)\r\n\r\nexport const runSlider = createAction(`@odich/RUN_ODICH`)\r\nexport const stopSlider = createAction(`@odich/STOP_ODICH`)\r\nexport const khoanhVung = createAction(`@odich/KHOANHVUNG`)\r\nexport const clickOdich = createAction(`@odich/CLICK_ODICH`)\r\nexport const panToCabenhCir = createAction(`@odich/PAN_TO_CABENH_CIRCLE`)\r\nexport const showDetail = createAction(`@odich/SHOW_DETAIL`)\r\nexport const searchSemiAutoOD = createAction(`@odich/SEARCH_SEMI_AUTO_OD`)\r\nexport const createAutoOD = createAction(`@odich/CREATE_AUTO_OD`)\r\nexport const showPopDnc = createAction(`@odich/SHOW_POPUP_DNC`)\r\n\r\n\r\n","import {EventEmitter} from 'fbemitter'\r\n\r\nconst emitter = new EventEmitter\r\n\r\nemitter.on = emitter.addListener\r\nemitter.off = emitter.removeAllListeners\r\n\r\nexport default emitter","import { useEffect } from 'react'\r\n\r\nexport default function useDidMount(f){\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => typeof f === \"function\" && f(), [])\r\n}","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useDidUpdate(f, conditions){\r\n    const didMoutRef = useRef(false)\r\n    useEffect(() => {\r\n        if (!didMoutRef.current) {\r\n            didMoutRef.current = true\r\n            return\r\n        }\r\n\r\n        // Cleanup effects when f returns a function\r\n        return f && f()\r\n    }, conditions)\r\n}","import { useEffect, useReducer, useState } from 'react'\r\nimport { isString, assign } from 'lodash-es'\r\nimport axios, {CancelToken} from 'axios';\r\nimport { createAction } from \"@reduxjs/toolkit\"\r\n\r\nconst fetchInit = createAction('FETCH_INIT'),\r\n    fetchSuccess = createAction('FETCH_SUCCESS'),\r\n    fetchFailure = createAction('FETCH_FAILURE')\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    data: null,\r\n    error: null,\r\n};\r\n\r\nfunction reducer(state, {type, payload}) {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            state = assign({}, initialState, {loading: true})\r\n            break\r\n        case 'FETCH_SUCCESS':\r\n            state = assign(state, {loading: false, data: payload})\r\n            break\r\n        case 'FETCH_FAILURE':\r\n            state = assign(state, {loading: false, error: payload})\r\n            break\r\n        case 'RESET':\r\n            state.data = null\r\n            break\r\n        default:\r\n            throw new Error()\r\n    }\r\n}\r\n\r\nasync function fetchData({onSuccess, ...config}, dispatch) {\r\n    try {\r\n        dispatch(fetchInit());\r\n        const {data} = await axios(config)\r\n        dispatch(fetchSuccess(data));\r\n        if (onSuccess) onSuccess(data)\r\n    } catch (err) {\r\n        dispatch(fetchFailure(err));\r\n    }\r\n}\r\n\r\n// function useFetch(config) {\r\n//     if (isString(config)) {\r\n//         config = {\r\n//             url: config\r\n//         }\r\n//     }\r\n//\r\n//     const [state, dispatch] = useImmerReducer(reducer, initialState)\r\n//\r\n//     useLayoutEffect(() => {\r\n//         let didCancel = false;\r\n//         fetchData({...config, didCancel}, dispatch)\r\n//         return () => {\r\n//             dispatch({type: 'RESET'})\r\n//             didCancel = true\r\n//         }\r\n//     }, [JSON.stringify(config)])\r\n//\r\n//     const reset = () => dispatch({type: 'RESET'})\r\n//\r\n//     return  [\r\n//         state,\r\n//         reset\r\n//     ]\r\n// }\r\nconst dataFetchReducer = (state, {type, payload}) => {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            return {\r\n                data: null,\r\n                loading: true,\r\n                isError: false\r\n            };\r\n        case 'FETCH_SUCCESS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isError: false,\r\n                data: payload,\r\n            };\r\n        case 'FETCH_FAILURE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isError: true,\r\n            };\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\n\r\n\r\nfunction useFetch(config) {\r\n    if (isString(config)) {\r\n        config = {\r\n            url: config\r\n        }\r\n    }\r\n    const {customHandler, trigger, ...conf} = config\r\n    const [innerTrigger, setInnerTrigger] = useState(0);\r\n    const [state, dispatch] = useReducer(dataFetchReducer, initialState);\r\n\r\n    let outerTrigger;\r\n    try {\r\n        outerTrigger = JSON.stringify({...trigger, url: conf.url});\r\n    } catch (err) {\r\n        //\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!conf.url) return;\r\n\r\n        const source = CancelToken.source();\r\n        fetchData({...conf, cancelToken: source.token}, dispatch)\r\n        return () => {\r\n            source.cancel();\r\n        }\r\n    }, [outerTrigger, innerTrigger])\r\n\r\n    return {\r\n        ...state,\r\n        isShown: !state.loading && state.data,\r\n        refresh: () => {\r\n            setInnerTrigger(+new Date());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default useFetch","import React, { useState, createElement, createContext, useEffect, useContext, useMemo, useCallback } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { map } from 'lodash-es'\r\nimport { useWillUnmount } from './index'\r\n\r\nexport const ModalContext = createContext()\r\n\r\nexport const ModalProvider = ({children}) => {\r\n    const [modals, setModals] = useImmer({});\r\n    let timeoutHack\r\n\r\n    const onShow = useCallback((key, component, data) => {\r\n\r\n        setModals(state => {\r\n            state[key] = {isOpen: true, isVisible: true, component, data}\r\n        })\r\n    }, [modals, setModals])\r\n\r\n    const onHide = useCallback((key, onClose) => {\r\n        timeoutHack = setTimeout(() => {\r\n            setModals(state => {delete state[key]})\r\n            clearTimeout(timeoutHack);\r\n        }, 500);\r\n\r\n        setModals(state => {state[key].isOpen = false})\r\n\r\n        if (onClose) onClose()\r\n    }, [modals, setModals])\r\n\r\n    const contextValue = useMemo(() => ({onShow, onHide}), [onShow, onHide])\r\n\r\n    return (\r\n        <ModalContext.Provider value={contextValue}>\r\n            {children}\r\n            {map(modals, ({component, isOpen, data}, key) =>\r\n                component &&\r\n                createElement(component, {\r\n                    key: key,\r\n                    isOpen: isOpen,\r\n                    onClose: () => onHide(key),\r\n                    ...data,\r\n                })\r\n            )}\r\n        </ModalContext.Provider>\r\n    )\r\n}\r\n\r\nconst generateModalKey = (() => {\r\n    let count = 0;\r\n    return () => `${++count}`;\r\n})();\r\n\r\n\r\nfunction useModal(component, inputs = {}, onClose) {\r\n    const key = useMemo(generateModalKey, []);\r\n    const context = useContext(ModalContext);\r\n    const modal = useMemo(() => component, []);\r\n\r\n    const onShow = useCallback((modalData) => {\r\n        context.onShow(key, modal, (modalData && modalData.nativeEvent instanceof Event) ? inputs : {...inputs, ...modalData})\r\n    }, [context, inputs])\r\n\r\n    const onHide = useCallback(() => context.onHide(key, onClose), [context])\r\n\r\n    return Object.assign([\r\n        onShow,\r\n        onHide\r\n    ], {})\r\n}\r\n\r\n\r\nexport default useModal\r\n\r\n","import URI from 'urijs'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nfunction useQueryString() {\r\n    const location = useLocation()\r\n    return URI.parseQuery(location.search)\r\n}\r\n\r\nexport default useQueryString","import { Model, attr, many } from 'redux-orm'\r\nimport slice from '../reducers/cabenh/cabenh.slice'\r\n\r\nclass Cabenh extends Model {\r\n\r\n    toString() {\r\n        return `Cabenh: ${this.name}`\r\n    }\r\n\r\n}\r\n\r\nCabenh.modelName = 'Cabenh'\r\nCabenh.reducers = slice.caseReducers\r\n\r\nCabenh.fields = {\r\n    id: attr(),\r\n\r\n}\r\n\r\nexport default Cabenh","import { Model, attr, many } from 'redux-orm'\r\nimport slice from \"../reducers/odich/odich.slice\";\r\n\r\nclass Odich extends Model {\r\n    toString() {\r\n        return `Odich: ${this.name}`\r\n    }\r\n}\r\n\r\nOdich.modelName = 'Odich'\r\nOdich.reducers = slice.caseReducers\r\n\r\nOdich.fields = {\r\n    id: attr(),\r\n    play: attr(),\r\n    range: attr(),\r\n    selected: attr({getDefault: () => false}),\r\n    loading: attr({getDefault: () => false}),\r\n    timer: attr({getDefault: () => 1000}),\r\n    runStatus: attr({getDefault: () => 'Stopped'}),\r\n    cabenhs: many('Cabenh', 'odichs')\r\n}\r\n\r\nexport default Odich","import { ORM } from 'redux-orm'\r\n\r\nimport { Odich, Cabenh } from '../../models'\r\n\r\nconst orm = new ORM({\r\n    stateSelector: state => state.orm,\r\n});\r\n\r\norm.register(Odich, Cabenh)\r\n\r\nexport default orm","import { createSelector as ormCreateSelector } from 'redux-orm'\r\nimport orm from '../orm/orm'\r\nimport { toCenter } from '@ttungbmt/geo'\r\n\r\n\r\n\r\nexport const getCabenhById = ormCreateSelector(\r\n    orm,\r\n    (_, id) => id,\r\n    ({Cabenh}, id) => {\r\n        return Cabenh.filter({gid: id}).first()\r\n    }\r\n)\r\n\r\n","import { mapValues } from '@ttungbmt/utils'\r\nimport axios from 'axios'\r\n\r\n/*\r\n# SYNTAX\r\n{\r\n    method: 'post',\r\n    url: '',\r\n    data: '',\r\n    transformRequest: [(data, headers) => data],\r\n    transformResponse: [(data) => JSON.parse(data)],\r\n}\r\n*/\r\n\r\nclass Client {\r\n    options = {\r\n        method: 'get'\r\n    }\r\n\r\n    fetch(request){\r\n        return axios({\r\n            ...this.options,\r\n            ...request\r\n        })\r\n    }\r\n}\r\n\r\nclass Api extends Client{\r\n    getCabenh = (id) => {\r\n        return this.fetch({\r\n            url: '/maps/cabenh',\r\n            params: {\r\n                id\r\n            }\r\n        })\r\n    }\r\n\r\n    // getCabenhs: () => ({\r\n    //     url: '/sxh/maps/ds-sxh',\r\n    //     transformResponse: [(data) => JSON.parse(data)],\r\n    // })\r\n    //\r\n    // getOdichs: () => ({\r\n    //     url: '/sxh/maps/ds-odich',\r\n    // })\r\n    //\r\n    // getDncs: () => ({\r\n    //     url: '/sxh/maps/ds-dnc',\r\n    // })\r\n    //\r\n    // getToAh: () => ({\r\n    //     url: '/api/odich/to-ah'\r\n    // })\r\n    //\r\n    // getOdDnc: () => ({\r\n    //     url: '/api/odich/tim-dnc'\r\n    // })\r\n    //\r\n    // getOdichAuto: () => ({\r\n    //     url: '/api/odich/tim-cabenh'\r\n    // })\r\n    //\r\n    // getOdichSemiAuto: () => ({\r\n    //     url: '/api/odich/tim-odich?table=cabenh_sxh'\r\n    // })\r\n    //\r\n    // postTaoOdich: () => ({\r\n    //     url: 'admin/odich-sxh/create?cabenh_ids=154654'\r\n    // })\r\n    //\r\n    // getHomeData: () => ({\r\n    //     url: '/sxh/maps/home'\r\n    // })\r\n}\r\n\r\nexport const api = new Api\r\n\r\nexport default Client","import { put, delay, takeEvery, call } from 'redux-saga/effects'\r\nimport { actions as cabenhActs } from \"../cabenh\";\r\nimport { actions as mapActs } from \"@ttungbmt/redux-leaflet\"\r\nimport { api } from 'app/services'\r\n\r\nexport default function* cabenhSaga() {\r\n    yield takeEvery(cabenhActs.clickCabenh.type, onClickCabenh)\r\n    yield takeEvery(cabenhActs.clickDnc.type, onClickDnc)\r\n    yield takeEvery(cabenhActs.showPopCabenh.type, showPopCabenh)\r\n}\r\n\r\nfunction* onClickCabenh({payload}) {\r\n    yield call(onRowClick, {\r\n        payload: {\r\n            ...payload,\r\n            _key: 'cabenh_sxh'\r\n        }\r\n    })\r\n}\r\n\r\nfunction* onRowClick({payload}) {\r\n    const {geometry, ...props} = payload\r\n    if (geometry) {\r\n        yield put(mapActs.resetPopup())\r\n        yield delay(10)\r\n        yield put(mapActs.createPopup({key: payload._key, model: payload}))\r\n        yield put(mapActs.setCenter(geometry))\r\n    }\r\n}\r\n\r\nfunction* onClickDnc({payload}) {\r\n    yield call(onRowClick, {\r\n        payload: {\r\n            ...payload,\r\n            _key: 'dnc'\r\n        }\r\n    })\r\n}\r\n\r\nfunction* showPopCabenh({payload: {id}}) {\r\n    try {\r\n        const {data} = yield call(api.getCabenh, id)\r\n        yield put(cabenhActs.clickCabenh(data.data))\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n}\r\n","export const KEY = 'cabenh'\r\n\r\nexport * as actions from './cabenh.actions'\r\nexport * as selectors from './cabenh.selectors'\r\nexport {default as slice} from './cabenh.slice'\r\nexport { default as saga } from './cabenh.saga'\r\n\r\n","import { transform } from 'lodash-es'\r\n\r\nfunction getAttrsDOM() {\r\n    return transform(node[0].attributes, (attrs,attribute) => {\r\n        attrs[attribute.name] = attribute.value;\r\n    },{})\r\n}\r\n\r\nexport default getAttrsDOM","import $ from 'jquery'\r\n\r\nfunction getDuplicateIds() {\r\n    let ids = []\r\n    $('[id]').each(function(){\r\n        let id = $('[id=\"'+this.id+'\"]')\r\n        if(id.length >1 && id[0]==this) {\r\n            ids.push(this.id)\r\n        }\r\n    })\r\n\r\n    return ids\r\n}\r\n\r\nexport default getDuplicateIds","import {update as _update, isPlainObject, merge, isFunction } from 'lodash-es'\r\n\r\nfunction updateIn (object, path, updater) {\r\n    if(isFunction(updater)) return _update(object, path, updater)\r\n\r\n    if(isPlainObject(updater)) return _update(object, path, v => merge(v, updater))\r\n\r\n    return object\r\n}\r\n\r\nexport default updateIn","import {update, merge} from 'lodash-es'\r\n\r\nfunction appendIn(object, path, value) {\r\n    return update(object, path, v => merge(v, value))\r\n}\r\n\r\nexport default appendIn","import {update} from 'lodash-es'\r\n\r\nfunction appendIn(object, path, value) {\r\n    return update(object, path, v => v.concat(value))\r\n}\r\n\r\nexport default appendIn","import {update, castArray} from 'lodash-es'\r\n\r\nfunction prependIn(object, path, value) {\r\n    return update(object, path, v => castArray(value).concat(v))\r\n}\r\n\r\nexport default prependIn","import {update, filter} from 'lodash-es'\r\n\r\nfunction filterIn(object, path, predicate) {\r\n    return update(object, path, v => filter(v, predicate))\r\n}\r\n\r\nexport default filterIn","import {update, reject} from 'lodash-es'\r\n\r\nfunction deleteIn(object, path, predicate) {\r\n    return update(object, path, v => reject(v, predicate))\r\n}\r\n\r\nexport default deleteIn","import {get, filter, reject, merge, isFunction, map} from 'lodash-es'\r\n\r\nfunction mergeFilterIn(object, path, predicate, respTrue, respFalse) {\r\n    let data = get(object, path, [])\r\n\r\n    map(filter(data, predicate), v2 => {\r\n        if (isFunction(respTrue)) {\r\n            respTrue(v2)\r\n        } else {\r\n            v2 = merge(v2, respTrue)\r\n        }\r\n    })\r\n\r\n    if(respFalse){\r\n        map(reject(data, predicate), v2 => {\r\n            if (isFunction(respFalse)) {\r\n                respFalse(v2)\r\n            } else {\r\n                v2 = merge(v2, respFalse)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default mergeFilterIn","import {filter, reject, merge, isFunction, map} from 'lodash-es'\r\n\r\nfunction mergeFilter(data, predicate, respTrue, respFalse) {\r\n    map(filter(data, predicate), v2 => {\r\n        if (isFunction(respTrue)) {\r\n            respTrue(v2)\r\n        } else {\r\n            v2 = merge(v2, respTrue)\r\n        }\r\n    })\r\n\r\n    if(respFalse){\r\n        map(reject(data, predicate), v2 => {\r\n            if (isFunction(respFalse)) {\r\n                respFalse(v2)\r\n            } else {\r\n                v2 = merge(v2, respFalse)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default mergeFilter","import { update, findIndex, findKey, isArray, get, isFunction } from 'lodash-es'\r\n\r\nfunction replaceFilterIn(object, path, predicate, updater) {\r\n    let item = get(object, path)\r\n    let key = null\r\n    if(isArray(item)){\r\n        key = findIndex(item, predicate)\r\n    } else {\r\n        key = findKey(item, predicate)\r\n    }\r\n\r\n    if(key >= 0){\r\n        update(object, `${path}.${key}`, v => {\r\n            if(isFunction(updater)) return updater(v)\r\n            return updater\r\n        })\r\n    }\r\n\r\n    return object\r\n}\r\n\r\nexport default replaceFilterIn","function baseUniqid (prefix, more_entropy) {\r\n    //  discuss at: http://locutus.io/php/uniqid/\r\n    // original by: Kevin van Zonneveld (http://kvz.io)\r\n    //  revised by: Kankrelune (http://www.webfaktory.info/)\r\n    //      note 1: Uses an internal counter (in locutus global) to avoid collision\r\n    //   example 1: var $id = uniqid()\r\n    //   example 1: var $result = $id.length === 13\r\n    //   returns 1: true\r\n    //   example 2: var $id = uniqid('foo')\r\n    //   example 2: var $result = $id.length === (13 + 'foo'.length)\r\n    //   returns 2: true\r\n    //   example 3: var $id = uniqid('bar', true)\r\n    //   example 3: var $result = $id.length === (23 + 'bar'.length)\r\n    //   returns 3: true\r\n\r\n    if (typeof prefix === 'undefined') {\r\n        prefix = ''\r\n    }\r\n\r\n    var retId\r\n    var _formatSeed = function (seed, reqWidth) {\r\n        seed = parseInt(seed, 10).toString(16) // to hex str\r\n        if (reqWidth < seed.length) {\r\n            // so long we split\r\n            return seed.slice(seed.length - reqWidth)\r\n        }\r\n        if (reqWidth > seed.length) {\r\n            // so short we pad\r\n            return Array(1 + (reqWidth - seed.length)).join('0') + seed\r\n        }\r\n        return seed\r\n    }\r\n\r\n    var $global = (typeof window !== 'undefined' ? window : global)\r\n    $global.$locutus = $global.$locutus || {}\r\n    var $locutus = $global.$locutus\r\n    $locutus.php = $locutus.php || {}\r\n\r\n    if (!$locutus.php.uniqidSeed) {\r\n        // init seed with big random int\r\n        $locutus.php.uniqidSeed = Math.floor(Math.random() * 0x75bcd15)\r\n    }\r\n    $locutus.php.uniqidSeed++\r\n\r\n    // start with prefix, add current milliseconds hex string\r\n    retId = prefix\r\n    retId += _formatSeed(parseInt(new Date().getTime() / 1000, 10), 8)\r\n    // add seed hex string\r\n    retId += _formatSeed($locutus.php.uniqidSeed, 5)\r\n    if (more_entropy) {\r\n        // for more entropy we add a float lower to 10\r\n        retId += (Math.random() * 10).toFixed(8).toString()\r\n    }\r\n\r\n    return retId\r\n}\r\n\r\nfunction uniqid(prefix, suffix) {\r\n    return (prefix || '') + baseUniqid() || (suffix || '');\r\n}\r\n\r\nexport default uniqid","import { get, isArray } from 'lodash-es'\r\n\r\nfunction getOrValue(object, path, defaultValue) {\r\n    if(isArray(path)){\r\n        for (let p of path) {\r\n            if(get(object, p)){\r\n                return get(object, p)\r\n            }\r\n        }\r\n    }\r\n    return defaultValue\r\n}\r\n\r\nexport default getOrValue","function orValue() {\r\n    for (let i in arguments) {\r\n        if (arguments[i]) {\r\n            return arguments[i]\r\n        }\r\n    }\r\n}\r\n\r\nexport default orValue","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = clipNumber;\n/**\n * Clip the number to interval `downLimit` to `upLimit`.\n *\n * @ignore\n * @function clipNumber\n * @param {number} value The number to clip\n * @param {number} downLimit The down limit\n * @param {number} upLimit The upper limit\n * @return {number} The clipped number\n */\nfunction clipNumber(value, downLimit, upLimit) {\n  if (value <= downLimit) {\n    return downLimit;\n  }\n  if (value >= upLimit) {\n    return upLimit;\n  }\n  return value;\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNil;\n/**\n * Checks if `value` is `null` or `undefined`\n *\n * @ignore\n * @function isNil\n * @param {*} value The object to check\n * @return {boolean} Returns `true` is `value` is `undefined` or `null`, `false` otherwise\n */\nfunction isNil(value) {\n  return value === undefined || value === null;\n}\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isString;\n/**\n * Checks whether `subject` is a string primitive type.\n *\n * @function isString\n * @static\n * @since 1.0.0\n * @memberOf Query\n * @param {string} subject The value to verify.\n * @return {boolean} Returns `true` if `subject` is string primitive type or `false` otherwise.\n * @example\n * v.isString('vacation');\n * // => true\n *\n * v.isString(560);\n * // => false\n */\nfunction isString(subject) {\n  return typeof subject === 'string';\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = coerceToString;\n\nvar _is_nil = require('../object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _is_string = require('../../is_string');\n\nvar _is_string2 = _interopRequireDefault(_is_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get the string representation of the `value`.\n * Converts the `value` to string.\n * If `value` is `null` or `undefined`, return `defaultValue`.\n *\n * @ignore\n * @function toString\n * @param {*} value             The value to convert.\n * @param {*} [defaultValue=''] The default value to return.\n * @return {string|null}        Returns the string representation of `value`. Returns `defaultValue` if `value` is\n *                              `null` or `undefined`.\n */\nfunction coerceToString(value) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  if ((0, _is_nil2.default)(value)) {\n    return defaultValue;\n  }\n  if ((0, _is_string2.default)(value)) {\n    return value;\n  }\n  return String(value);\n}\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Max save integer value\n *\n * @ignore\n * @type {number}\n */\nvar MAX_SAFE_INTEGER = exports.MAX_SAFE_INTEGER = 0x1fffffffffffff;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInteger;\n\nvar _const = require('./const');\n\n/**\n * Transforms `value` to an integer.\n *\n * @ignore\n * @function toInteger\n * @param {number} value The number to transform.\n * @returns {number} Returns the transformed integer.\n */\nfunction toInteger(value) {\n  if (value === Infinity) {\n    return _const.MAX_SAFE_INTEGER;\n  }\n  if (value === -Infinity) {\n    return -_const.MAX_SAFE_INTEGER;\n  }\n  return ~~value;\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toString;\n\nvar _is_nil = require('../object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _is_string = require('../../is_string');\n\nvar _is_string2 = _interopRequireDefault(_is_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get the string representation of the `value`.\n * Converts the `value` to string.\n *\n * @ignore\n * @function toString\n * @param {*} value             The value to convert.\n * @return {string|null}        Returns the string representation of `value`.\n */\nfunction toString(value) {\n  if ((0, _is_nil2.default)(value)) {\n    return null;\n  }\n  if ((0, _is_string2.default)(value)) {\n    return value;\n  }\n  return String(value);\n}\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = includes;\n\nvar _clip_number = require('./helper/number/clip_number');\n\nvar _clip_number2 = _interopRequireDefault(_clip_number);\n\nvar _coerce_to_string = require('./helper/string/coerce_to_string');\n\nvar _coerce_to_string2 = _interopRequireDefault(_coerce_to_string);\n\nvar _is_nil = require('./helper/object/is_nil');\n\nvar _is_nil2 = _interopRequireDefault(_is_nil);\n\nvar _to_integer = require('./helper/number/to_integer');\n\nvar _to_integer2 = _interopRequireDefault(_to_integer);\n\nvar _to_string = require('./helper/string/to_string');\n\nvar _to_string2 = _interopRequireDefault(_to_string);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Checks whether `subject` includes `search` starting from `position`.\n *\n * @function includes\n * @static\n * @since 1.0.0\n * @memberOf Query\n * @param {string} [subject=''] The string where to search.\n * @param {string} search The string to search.\n * @param {number} [position=0] The position to start searching.\n * @return {boolean} Returns `true` if `subject` includes `search` or `false` otherwise.\n * @example\n * v.includes('starship', 'star');\n * // => true\n *\n * v.includes('galaxy', 'g', 1);\n * // => false\n */\nfunction includes(subject, search, position) {\n  var subjectString = (0, _coerce_to_string2.default)(subject);\n  var searchString = (0, _to_string2.default)(search);\n  if (searchString === null) {\n    return false;\n  }\n  if (searchString === '') {\n    return true;\n  }\n  position = (0, _is_nil2.default)(position) ? 0 : (0, _clip_number2.default)((0, _to_integer2.default)(position), 0, subjectString.length);\n  return subjectString.indexOf(searchString, position) !== -1;\n}\nmodule.exports = exports['default'];","import { isString } from 'lodash-es'\r\n\r\nfunction toBool(val) {\r\n    if (isString(val)) {\r\n        val = val.toLowerCase();\r\n        return val !== '0' && val !== '' && val !== 'false';\r\n    }\r\n\r\n    return !!val;\r\n}\r\n\r\nexport default toBool","import { get, isUndefined } from 'lodash-es'\r\n\r\nfunction parseJSON(json) {\r\n    const reviver = (key, value) => {\r\n        if (value && typeof value === \"string\") {\r\n            let regrex1 = /^\\s*function\\s*[\\d\\w]*\\s*\\([\\d\\w,\\s]*[^,]\\)\\s*{[\\s\\S]*}\\s*;?\\s*/, // function(){};\r\n                regrex2 = /^\\s*\\([a-zA-Z0-1,\\s]*[^,]\\)\\s*(=>)\\s*{[\\s\\S]*}\\s*;?\\s*$/, // () => {};\r\n                regrex3 = /^\\s*```js([\\s\\S]*)```\\s*$/  // ```js new Object() ```\r\n\r\n            if ((regrex1.test(value) || regrex2.test(value))) {\r\n                // let startBody = value.indexOf('{') + 1;\r\n                // let endBody = value.lastIndexOf('}');\r\n                // let startArgs = value.indexOf('(') + 1;\r\n                // let endArgs = value.indexOf(')');\r\n                // return new Function(value.substring(startArgs, endArgs), value.substring(startBody, endBody));\r\n                try {\r\n                    return new Function(`return ${value}`)()\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error string function in JSON: ${value}`)\r\n                }\r\n            } else if (regrex3.test(value)) {\r\n                try {\r\n                    let jsStr = regrex3.exec(value),\r\n                        js = eval(get(jsStr, 1))\r\n                    return isUndefined(js) ? null : js\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error JS in JSON: ${value} \\n`, err)\r\n                }\r\n            }\r\n\r\n        }\r\n        return value;\r\n    }\r\n\r\n\r\n    return JSON.parse(json, reviver)\r\n}\r\n\r\nexport default parseJSON","import { get } from 'lodash-es'\r\n\r\nfunction stringifyJSON() {\r\n    const replacerFn = (k, v) => {\r\n        // if we get a function, give us the code for that function\r\n        if (typeof v === 'function') {\r\n            return v.toString();\r\n        }\r\n        return v;\r\n    }\r\n\r\n    let value = get(arguments, 0),\r\n        replacer = get(arguments, 1, replacerFn),\r\n        // get a stringified version of our object\r\n        // and indent the keys at 2 spaces\r\n        indent = get(arguments, 2, 2)\r\n\r\n    return JSON.stringify(value, replacer, indent)\r\n}\r\n\r\nexport default stringifyJSON","import URI from 'urijs'\r\nimport { isString } from 'lodash-es'\r\n\r\nfunction isURL(value) {\r\n    return isString(value) && URI(value).is('url')\r\n}\r\n\r\nexport default isURL","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction assertString(input) {\n  var isString = typeof input === 'string' || input instanceof String;\n\n  if (!isString) {\n    var invalidType;\n\n    if (input === null) {\n      invalidType = 'null';\n    } else {\n      invalidType = _typeof(input);\n\n      if (invalidType === 'object' && input.constructor && input.constructor.hasOwnProperty('name')) {\n        invalidType = input.constructor.name;\n      } else {\n        invalidType = \"a \".concat(invalidType);\n      }\n    }\n\n    throw new TypeError(\"Expected string but received \".concat(invalidType, \".\"));\n  }\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isJSON;\n\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isJSON(str) {\n  (0, _assertString.default)(str);\n\n  try {\n    var obj = JSON.parse(str);\n    return !!obj && _typeof(obj) === 'object';\n  } catch (e) {\n    /* ignore */\n  }\n\n  return false;\n}\n\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","import { isString } from \"lodash-es\";\r\nimport _isJSON from 'validator/lib/isJSON';\r\n\r\nfunction isJSONStr(value) {\r\n    return isString(value) && _isJSON(value)\r\n}\r\n\r\nexport default isJSONStr","import { isObject, isString } from \"lodash-es\";\r\nimport isJSONStr from './isJSONStr'\r\n\r\nfunction isJSON(value) {\r\n    if (isObject(value)) value = JSON.stringify(value)\r\n    return isJSONStr(value)\r\n}\r\n\r\nexport default isJSON","import { get, isString, isPlainObject, isFunction } from 'lodash-es'\r\nimport Handlebars from 'handlebars/dist/cjs/handlebars'\r\n\r\nconst template = (tpl, data) => {\r\n    let content = ''\r\n\r\n    if (isString(tpl)) {\r\n        try {\r\n            content = Handlebars.compile(tpl)(data)\r\n        } catch (e) {\r\n            console.error(e);\r\n            content = tpl\r\n        }\r\n        return content\r\n    } else if (isPlainObject(tpl)) {\r\n        let url = get(tpl, 'url')\r\n        return $.post(url, data)\r\n    } else if (isFunction(tpl)) {\r\n        content = tpl(data)\r\n    }\r\n\r\n    return content\r\n}\r\n\r\nexport default template","import { isArray, isFunction, isPlainObject, isString, get, has } from 'lodash-es'\r\nimport template from './template'\r\n\r\n// Ex: fieldsToStr([{label: 'a ch {{order}}', value: 'diachi'}], '<li><b>{{label}}</b>: {{value}}</li>', data)\r\nconst fieldsToStr = (fields, tpl, data = {}) => {\r\n    let str = ''\r\n\r\n    if (!isArray(fields)) return []\r\n    fields.map(f => {\r\n        let label, value\r\n\r\n        if (isFunction(f)) {\r\n            str += f(data)\r\n        } else if (isPlainObject(f)) {\r\n            if (isFunction(label)) label = label(data)\r\n            label = get(f, 'label')\r\n            if (isString(label)) label = template(label, data)\r\n            // --\r\n            if (isFunction(value)) {\r\n                value = value(data)\r\n            } else {\r\n                let v = get(f, 'value')\r\n                if (has(data, v)) {\r\n                    value = get(data, v)\r\n                } else {\r\n                    value = template(v, data)\r\n                }\r\n            }\r\n\r\n            str += template(tpl, {label, value})\r\n\r\n        } else if (isString(f)) {\r\n            label = f\r\n            value = get(data, f)\r\n\r\n            if (has(data, f)) {\r\n                str += template(tpl, {label, value})\r\n            }\r\n        }\r\n\r\n    })\r\n\r\n    return str\r\n}\r\n\r\nexport default fieldsToStr\r\n\r\n","import { get, map, isArray, isString, isPlainObject } from 'lodash-es'\r\nimport template from './template'\r\nimport fieldsToStr from './fieldsToStr'\r\n\r\n// _.popupToContent({title: 'Hello', fields: [{label: '<span>Dia chi</span>', value: 'diachi'}]}, data)\r\nconst popupToContent = (popup, data, options) => {\r\n    if (isArray(popup)) return map(popup, v => popupToContent(v, data))\r\n    if(isPlainObject(popup)){\r\n        let\r\n            title = get(popup, 'title'),\r\n            content = get(popup, 'content'),\r\n            itemTpl = get(popup, 'template'),\r\n            fields = get(popup, 'fields'),\r\n            tpl = get(options, 'template', `<div class=\"pop-wrapper\"><div class=\"pop-title text-uppercase\">{{{title}}}</div> <div class=\"pop-body\"> <ul> {{{content}}} </ul> </div> </div>`),\r\n            params = get(options, 'params', {})\r\n\r\n        if (content) return content\r\n        if (itemTpl) return template(itemTpl, data)\r\n\r\n        title = template(title, data)\r\n        content = fieldsToStr(fields, '<li><b>{{{label}}}</b>: {{{value}}}</li>', data)\r\n\r\n        return template(tpl, {...params, title, content})\r\n    } else if(isString(popup)){\r\n        return template(popup, data)\r\n    }\r\n\r\n}\r\n\r\nexport default popupToContent\r\n","import { createAction } from '@ttungbmt/redux-toolkit'\r\n// ACTIONS\r\nexport const clickCabenh = createAction(`model/cabenh_sxh/CLICK`)\r\nexport const createCabenh = createAction(`model/cabenh_sxh/CREATE`)\r\nexport const createMany = createAction(`model/cabenh_sxh/CREATE_MANY`)\r\nexport const selected = createAction(`model/cabenh_sxh/SELECTED`)\r\nexport const removeAll = createAction(`model/cabenh_sxh/DELETE_ALL`)\r\nexport const deleteCabenhById = createAction(`model/cabenh_sxh/DELETE_BY_ID`)\r\nexport const remove = createAction(`model/cabenh_sxh/REMOVE`)\r\n\r\nexport const clickDnc = createAction(`model/dnc/CLICK`)\r\nexport const showPopCabenh = createAction(`model/cabenh/SHOE_POP_CABENH`)\r\n","import { createSelector as ormCreateSelector } from 'redux-orm'\r\nimport orm from 'app/reducers/orm/orm'\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\nimport { get, isArray, isNumber } from '@ttungbmt/utils'\r\nimport { selectors as pcdSels } from \"app/reducers/pcd\";\r\nimport { matchPath } from 'react-router'\r\n\r\n\r\nexport const getOdich = ormCreateSelector(\r\n    orm.Odich,\r\n    orm.Odich.cabenhs,\r\n    (odichs, cabenhs) => {\r\n        if (!odichs) return {}\r\n\r\n        let odFn = (o, cb) => ({\r\n            ...o,\r\n            cabenhs: cb.map(c => ({\r\n                ...c,\r\n            }))\r\n        })\r\n\r\n        if (isArray(odichs)) return odichs.map((o, k) => odFn(o, get(cabenhs, k, [])))\r\n        return odFn(odichs, cabenhs)\r\n    }\r\n)\r\n\r\nexport const getRange = ormCreateSelector(\r\n    orm.Odich.range,\r\n    (range) => range ? range : ({\r\n        minMax: [],\r\n        value: [],\r\n    })\r\n)\r\n\r\nexport const getCabenhs = ormCreateSelector(\r\n    orm.Odich.cabenhs,\r\n    (cabenhs) => cabenhs ? cabenhs.map(c => ({...c, position: toCenter(c.geometry)})) : []\r\n)\r\n\r\nconst getPathname = (state) => state.router.location.pathname\r\n\r\nexport const getOdichMap = ormCreateSelector(\r\n    orm.Odich,\r\n    orm.Odich.cabenhs,\r\n    pcdSels.getOdichConf,\r\n    getPathname,\r\n    (odichs, cabenhs, options, pathname) => {\r\n        let id = get(matchPath(pathname, {path: '/maps/odich/view/:id'}), 'params.id')\r\n\r\n        return odichs\r\n            .map((o, k) => ({\r\n                ...o,\r\n                options,\r\n                cabenhs: get(cabenhs, k, []).filter(c => c.geometry).map(c => ({\r\n                    ...c,\r\n                    position: toCenter(c.geometry)\r\n                }))\r\n            }))\r\n            .filter(o => {\r\n                return id ? o.id === parseInt(id) : true\r\n            })\r\n    }\r\n)\r\n\r\n\r\n\r\n","import { createSelector } from \"@ttungbmt/redux-toolkit\"\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nexport const getPathname = createSelector(['router'], router => get(router, 'location.pathname'))","import { put, delay, takeEvery, select, take, fork, cancel, call, takeLatest } from 'redux-saga/effects'\r\nimport { selectors as mapSels } from '@ttungbmt/redux-leaflet'\r\nimport { push } from 'connected-react-router'\r\nimport { map, get, flatten } from '@ttungbmt/utils'\r\nimport axios from 'axios'\r\n\r\nimport { actions as cabenhActs, selectors as cabenhSels } from '../cabenh'\r\nimport { actions as odichActs, selectors as odichSels } from './index'\r\nimport { actions as mapActs } from \"@ttungbmt/redux-leaflet\";\r\nimport { isEmpty, head, uniq } from '@ttungbmt/utils'\r\n\r\nimport { toCenter, toBounds } from '@ttungbmt/geo'\r\nimport { getPathname } from \"@core/selectors/router\"\r\nimport { getRangeDate } from \"app/utils\";\r\n\r\nexport default function* odichSaga() {\r\n    yield takeEvery(odichActs.khoanhVung.type, onKhoanhVung)\r\n    yield takeEvery(odichActs.clickOdich.type, clickOdich)\r\n    yield takeEvery(odichActs.panToCabenhCir.type, panToCabenhCir)\r\n    yield takeLatest(odichActs.searchSemiAutoOD.type, searchSemiAutoOD)\r\n    yield takeLatest(odichActs.createAutoOD.type, createAutoOD)\r\n    yield takeLatest(odichActs.showPopDnc.type, showPopDnc)\r\n\r\n    yield runSliderOdich()\r\n}\r\n\r\nfunction* onKhoanhVung({payload: id}) {\r\n    const item = yield select(state => mapSels.getPopItemById(state, id))\r\n    const cabenh = yield select(state => cabenhSels.getCabenhById(state, id))\r\n\r\n    if (cabenh) {\r\n        alert(`Ca bnh ny  c khoanh vng`)\r\n        return null\r\n    }\r\n\r\n    const pathname = yield select(getPathname)\r\n    if (pathname === '/maps/odich/view/0') {\r\n        yield put(odichActs.addCabenh({id: 0, cabenhs: [item.model]}))\r\n        return null\r\n    }\r\n\r\n\r\n    yield put(odichActs.removeAll())\r\n    yield delay(10)\r\n    yield put(odichActs.create({id: 0, source: 'wms', cabenhs: [item.model]}))\r\n    yield put(push('/maps/odich/view/0'))\r\n}\r\n\r\nfunction* clickOdich({payload: {redirect, ...payload}}) {\r\n    if(redirect)  yield put(push(redirect))\r\n    yield put(mapActs.resetPopup())\r\n    yield delay(5)\r\n\r\n    const id = payload.id\r\n    let bounds, geoArr, model = payload.props\r\n\r\n    if(id === 0){\r\n        let cabenhs = payload.cabenhs.filter(c => c.geometry)\r\n        yield put(odichActs.removeAll({id}))\r\n\r\n        if(isEmpty(cabenhs)) return null\r\n        geoArr = map(cabenhs, 'geometry')\r\n        bounds = toBounds(geoArr)\r\n\r\n        yield put(odichActs.create({id: 0, source: 'list', cabenhs, odich_id: model.gid}))\r\n    } else if(id > 0){\r\n        let cabenhs = yield select(state => odichSels.getCabenhs(state, id))\r\n        if(isEmpty(cabenhs)) return null\r\n\r\n        geoArr = map(cabenhs, 'geometry')\r\n        bounds = toBounds(geoArr)\r\n        yield put(odichActs.selected(id))\r\n    }\r\n\r\n    if(geoArr) yield put(mapActs.createPopup({key: 'odich', model: {...model, geometry: toCenter(geoArr, 'geometry')}}))\r\n    if(bounds) {\r\n        yield delay(2)\r\n        yield put(mapActs.setBounds(bounds))\r\n    }\r\n}\r\n\r\nfunction* panToCabenhCir({payload}) {\r\n    const {geometry, id} = payload\r\n    yield put(cabenhActs.selected(id))\r\n    yield put(mapActs.setCenter(geometry))\r\n\r\n}\r\n\r\nfunction* showPopDnc({payload}) {\r\n    if(!payload.geometry) return null\r\n    yield put(mapActs.resetPopup())\r\n    yield delay(5)\r\n    yield put(mapActs.createPopup({key: 'dnc', model: payload}))\r\n    yield put(mapActs.setCenter(payload.geometry))\r\n}\r\n\r\nfunction* changeRangeValue({payload}) {\r\n    let cabenhs = yield select(state => odichSels.getCabenhs(state, payload.id)),\r\n        dates = uniq(getRangeDate(cabenhs)),\r\n        index = 0\r\n\r\n\r\n    while (true) {\r\n        yield delay(1000)\r\n        if (dates[index]) {\r\n            yield put(odichActs.updateRangeValue({id: payload.id, value: [head(dates), dates[index]]}))\r\n            index++\r\n        } else {\r\n            yield put(odichActs.stopSlider(payload))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction* runSliderOdich() {\r\n    while (true) {\r\n        // starts the task in the background\r\n        const action = yield take(odichActs.runSlider.type)\r\n        const bgSyncTask = yield fork(changeRangeValue, {payload: action.payload})\r\n        // wait for the user stop action\r\n        yield take(odichActs.stopSlider.type)\r\n        // user clicked stop. cancel the background task\r\n        // this will throw a SagaCancellationException into task\r\n        yield cancel(bgSyncTask)\r\n    }\r\n}\r\n\r\n\r\nfunction* searchSemiAutoOD({payload}) {\r\n    let cabenhIds = map(payload.cabenhs, 'gid')\r\n    yield put(odichActs.setLoading({value: true, id: 0}))\r\n\r\n    try {\r\n        const {data} = yield call(axios.post, `/api/odich/tim-cabenh`, {cabenhIds})\r\n        if (!isEmpty(get(data, 'odichs', []))) {\r\n            let cabenhs = get(data, 'odichs.0.cabenhs', []).map(c => get(data.cabenhs, c.id))\r\n            yield put(cabenhActs.remove(cabenhIds))\r\n            yield put(odichActs.addCabenh({id: payload.id, source: 'tool', cabenhs}))\r\n        }\r\n\r\n        yield put(odichActs.setLoading({value: false, id: 0}))\r\n    } catch (e) {\r\n        yield put(odichActs.setLoading({value: false, id: 0}))\r\n        console.error(e)\r\n    }\r\n}\r\n\r\nfunction* createAutoOD({payload: data}) {\r\n    let models = transformOdich(data),\r\n        geomArr = map(flatten(map(models, 'cabenhs')).filter(g => g.geometry), 'geometry'),\r\n        bounds = toBounds(geomArr)\r\n\r\n\r\n    yield put(odichActs.removeAll())\r\n    yield put(odichActs.create(models))\r\n\r\n    if(bounds) yield put(mapActs.setBounds(bounds))\r\n}\r\n\r\nfunction transformOdich(data) {\r\n    let dbCabenhs = data.cabenhs\r\n\r\n    return map(data.odichs).map(({cabenhs}, k) => {\r\n        return {\r\n            id: k+1,\r\n            source: 'tool',\r\n            cabenhs: cabenhs.map(({id: gid, ...pc}) => {\r\n                return {\r\n                    ...get(dbCabenhs, gid, {}),\r\n                    ...pc,\r\n                    gid,\r\n                }\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\n","import odichSlice from './odich.slice'\r\nimport * as odichActs from './odich.actions'\r\n\r\nexport const actions = {\r\n    ...odichActs\r\n}\r\n\r\nexport * as selectors from './odich.selectors'\r\nexport { default as saga } from './odich.saga'\r\nexport const slice = odichSlice\r\n\r\n","import React, { memo } from 'react'\r\nimport styles from './style.module.scss'\r\n\r\nfunction AppLoader({text = 'LOADING'}) {\r\n    return (\r\n        <div className={styles.loader_wrapper}>\r\n            <div className={styles.loader}/>\r\n            <div className={styles.text}>\r\n                {text}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(AppLoader)","import React, { memo } from 'react'\r\nimport { Tooltip } from 'react-tippy'\r\nimport 'react-tippy/dist/tippy.css'\r\n\r\nfunction Tippy({children, ...props}) {\r\n    if(!props.title) return children\r\n\r\n    return <Tooltip size=\"small\" {...props}>{children}</Tooltip>\r\n}\r\n\r\nexport default memo(Tippy)","import React, {memo, useEffect, useRef} from 'react'\r\nimport $ from \"jquery\"\r\n\r\nfunction InnerHTML({html}) {\r\n    const divRef = useRef()\r\n    useEffect(() => {\r\n        $(divRef.current).html(html)\r\n    }, [])\r\n\r\n    return <div ref={divRef}/>\r\n}\r\n\r\nexport default memo(InnerHTML)","// import React, { Component } from 'react'\r\n// import PropTypes from 'prop-types'\r\n// import 'ion-rangeslider'\r\n// // import 'ion-rangeslider/css/ion.rangeSlider.skinFlat.css'\r\n// import moment from 'moment'\r\n// import { isEqual } from 'lodash'\r\n//\r\n// class RangeSlider extends Component {\r\n//     static propTypes = {\r\n//         type: PropTypes.string, // single, double\r\n//         grid: PropTypes.bool,\r\n//         // min: PropTypes.number,\r\n//         // max: PropTypes.number,\r\n//         from: PropTypes.number,\r\n//         to: PropTypes.number,\r\n//         step: PropTypes.number,\r\n//         values: PropTypes.array,\r\n//         from_min: PropTypes.number,\r\n//         from_max: PropTypes.number,\r\n//         disable: PropTypes.bool,\r\n//\r\n//         onStart: PropTypes.func,\r\n//         onChange: PropTypes.func,\r\n//         onFinish: PropTypes.func,\r\n//         onUpdate: PropTypes.func,\r\n//\r\n//     }\r\n//\r\n//     static defaultProps = {\r\n//         grid: true,\r\n//         type: 'double',\r\n//     }\r\n//\r\n//     componentDidMount() {\r\n//         this.onInit()\r\n//     }\r\n//\r\n//     onInit(){\r\n//         const options = this.props\r\n//         $(this.node).ionRangeSlider({...options})\r\n//         this.$el = $(this.node).data('ionRangeSlider');\r\n//     }\r\n//\r\n//     onDestroy(){\r\n//         this.$el.destroy()\r\n//     }\r\n//\r\n//     onReinit(){\r\n//         this.onDestroy()\r\n//         this.onInit()\r\n//     }\r\n//\r\n//     onReset(){\r\n//         this.$el.reset()\r\n//     }\r\n//\r\n//     componentDidUpdate(prevProps, prevState, prevContext) {\r\n//         const {max, min} = this.props\r\n//\r\n//         if (!isEqual(prevProps.min, min) || !isEqual(prevProps.max, max)) {\r\n//             this.$el.update({max, min, from: min, to: max})\r\n//         }\r\n//     }\r\n//\r\n//\r\n//     componentWillUnmount() {\r\n//         this.onDestroy()\r\n//     }\r\n//\r\n//     render() {\r\n//         return (\r\n//             <div>\r\n//                 <input ref={s => this.node = s}/>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n//\r\n// export default RangeSlider\r\n\r\nimport React, { memo, useRef, useEffect } from 'react'\r\nimport {useDidMount, useDidUpdate} from '@ttungbmt/react-hooks'\r\nimport PropTypes from 'prop-types'\r\nimport $ from 'jquery'\r\n\r\nimport 'ion-rangeslider'\r\nimport 'ion-rangeslider/css/ion.rangeSlider.min.css'\r\n\r\nfunction RangeSlider(props) {\r\n    const ref = useRef(),\r\n        ionSliderRange = useRef(),\r\n        watchProps = {\r\n            min: props.min,\r\n            max: props.max,\r\n            from: props.from,\r\n            to: props.to,\r\n        }\r\n\r\n\r\n    const update = (_options) => {\r\n        const options = (({style, className, key, id, ...others}) => ({...others}))(props)\r\n        ionSliderRange.current && ionSliderRange.current.update(_options || options)\r\n    }\r\n\r\n    useDidMount(() => {\r\n        const options = (({style, className, key, id, ...others}) => ({...others}))(props)\r\n        $(ref.current).ionRangeSlider(options)\r\n        ionSliderRange.current = $(ref.current).data('ionRangeSlider')\r\n    })\r\n\r\n    useDidUpdate(() => {\r\n        update()\r\n    }, [JSON.stringify(watchProps)])\r\n\r\n\r\n\r\n    return <div><input type=\"text\" ref={ref}/></div>\r\n}\r\n\r\nRangeSlider.defaultProps = {\r\n    skin: 'flat'\r\n}\r\n\r\nRangeSlider.propTypes = {\r\n    /* Basic setup */\r\n    type: PropTypes.string,\r\n    min: PropTypes.number,\r\n    max: PropTypes.number,\r\n    from: PropTypes.number,\r\n    to: PropTypes.number,\r\n\r\n    /* Advanced setup */\r\n    step: PropTypes.number,\r\n    values: PropTypes.array,\r\n    keyboard: PropTypes.bool,\r\n\r\n    /* Grid setup */\r\n    grid: PropTypes.bool,\r\n    grid_margin: PropTypes.bool,\r\n    grid_num: PropTypes.number,\r\n    grid_snap: PropTypes.bool,\r\n\r\n    /* Interval control */\r\n    drag_interval: PropTypes.bool,\r\n    min_interval: PropTypes.number,\r\n    max_interval: PropTypes.number,\r\n\r\n    /* Handles control */\r\n    from_fixed: PropTypes.bool,\r\n    from_min: PropTypes.number,\r\n    from_max: PropTypes.number,\r\n    from_shadow: PropTypes.bool,\r\n    to_fixed: PropTypes.bool,\r\n    to_min: PropTypes.number,\r\n    to_max: PropTypes.number,\r\n    to_shadow: PropTypes.bool,\r\n\r\n    /* UI control */\r\n    skin: PropTypes.string,\r\n    hide_min_max: PropTypes.bool,\r\n    hide_from_to: PropTypes.bool,\r\n    force_edges: PropTypes.bool,\r\n    extra_classes: PropTypes.string,\r\n    block: PropTypes.bool,\r\n\r\n    /* Prettify numbers */\r\n    prettify_enabled: PropTypes.bool,\r\n    prettify_separator: PropTypes.string,\r\n    prettify: PropTypes.func,\r\n    prefix: PropTypes.string,\r\n    postfix: PropTypes.string,\r\n    max_postfix: PropTypes.string,\r\n    decorate_both: PropTypes.bool,\r\n    value_separator: PropTypes.string,\r\n\r\n    /* Data control */\r\n    input_values_separator: PropTypes.string,\r\n    disable: PropTypes.bool,\r\n\r\n    /* Callbacks */\r\n    scope: PropTypes.object,\r\n    onStart: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    onFinish: PropTypes.func,\r\n    onUpdate: PropTypes.func\r\n}\r\n\r\nexport default memo(RangeSlider)","import React, { memo } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nfunction BtnSubmit({children, loading, ...props}) {\r\n    return (\r\n        <Button disabled={loading} {...props}>\r\n            {loading && <i className=\"icon-spinner2 spinner mr-1\"/>} {children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nBtnSubmit.defaultProps = {\r\n    variant: 'contained',\r\n    color: 'primary'\r\n}\r\n\r\nexport default memo(BtnSubmit)","import React, { memo, useEffect, useRef, useMemo } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { jsPanel } from 'jspanel4'\r\nimport 'jspanel4/dist/jspanel.min.css'\r\n\r\nfunction JsPanel({isOpen, setOpen, children, title, ...props}) {\r\n    let contenRef = useRef(),\r\n        panelRef = useRef()\r\n\r\n    const [opts, setOpts] = useImmer({\r\n        width: null, height: null,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if(isOpen){\r\n            panelRef.current = jsPanel.create({\r\n                theme: {\r\n                    // bgPanel: '#03a9f4',\r\n                    bgPanel: 'url(\"https://jspanel.de/img/trianglify-primary.svg\") right bottom',\r\n                    colorHeader: '#ffffff',\r\n                    // bgContent: '#67989A',\r\n                    // colorContent: '#ffffff'\r\n                },\r\n                // headerToolbar: 'header toolbar ...',\r\n                // footerToolbar: 'footer toolbar ...',\r\n                iconfont: 'material-icons',\r\n                headerLogo: `<i class='icon-stack2 ml-2'></i>`,\r\n                headerTitle: title,\r\n                closeOnEscape: true,\r\n                headerControls: {\r\n                    smallify: 'remove',\r\n                    size: 'md'\r\n                },\r\n                borderRadius: '4px',\r\n                position: 'center-top 0 58',\r\n                content: contenRef.current,\r\n                resizeit: {\r\n                    minWidth: 350,\r\n                    minHeight: 200,\r\n                    stop: function (panel, paneldata, e) {\r\n                        setOpts(state => {\r\n                            state.width = paneldata.width\r\n                            state.height = paneldata.height\r\n                        })\r\n                    }\r\n                },\r\n                onclosed: function(panel, closedByUser){\r\n                    panelRef.current = undefined\r\n                    setOpen(false)\r\n                },\r\n                // contentSize: {\r\n                //     width: 'auto',\r\n                //     height: 'auto'\r\n                // }\r\n                // panelSize: {\r\n                //     width: 'auto',\r\n                //     height: 'auto'\r\n                // }\r\n                // setStatus: 'maximized'\r\n                    ...props\r\n            })\r\n\r\n            console.log(props);\r\n\r\n            if(opts.width || opts.height) panelRef.current.resize({width: opts.width, height: opts.height}).reposition()\r\n        } else {\r\n            console.log(panelRef.current);\r\n            panelRef.current && panelRef.current.close()\r\n        }\r\n\r\n        return () => {\r\n\r\n        }\r\n    }, [isOpen])\r\n\r\n    // useEffect(() => {\r\n    //     console.log(opts.width || opts.height);\r\n    //\r\n    // }, [opts.width, opts.height])\r\n\r\n    return (\r\n        <div ref={contenRef} style={{display: isOpen ? 'inherit' : 'none'}}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nJsPanel.defaultProps = {\r\n    title: 'My Panel'\r\n}\r\n\r\nexport default memo(JsPanel)","import React, { memo } from 'react'\r\nimport { isBoolean } from 'lodash-es'\r\nimport BaseBox from '@material-ui/core/Box';\r\n\r\nfunction Box(props) {\r\n    const {flex, row, column, wrap, grow, shrink, bold, regular, h100, style = {}, uppercase, relative,\r\n        absolute, ...outter} = props\r\n    let inner = {style}\r\n\r\n    if (flex) inner.display = 'flex'\r\n    if (row) inner.flexDirection = 'row'\r\n    if (column) inner.flexDirection = 'column'\r\n    if (wrap) inner.flexWrap = 'wrap'\r\n    if (shrink) inner.flexShrink = isBoolean(shrink) ? 1 : shrink\r\n    if (grow) inner.flexGrow = isBoolean(grow) ? 1 : grow\r\n    if (regular) inner.fontWeight = 'fontWeightRegular'\r\n    if (bold) inner.fontWeight = 500\r\n    if (h100) inner.style.height = '100%'\r\n    if (uppercase) inner.style.textTransform = 'uppercase'\r\n    if (relative) inner.position = 'relative'\r\n    if (absolute) inner.position = 'absolute'\r\n\r\n    return <BaseBox {...inner} {...outter}/>\r\n}\r\n\r\nexport default memo(Box)","export { default as Slot } from './Slot'\r\nexport { default as AppLoader } from './AppLoader'\r\nexport { default as Tooltip } from './Tooltip'\r\nexport { default as InnerHTML } from './InnerHTML'\r\nexport { default as RangeSlider } from './RangeSlider'\r\nexport { default as BtnSubmit } from './BtnSubmit'\r\nexport { default as JsPanel } from './JsPanel'\r\n\r\n// Material UI\r\nexport { default as Button } from '@material-ui/core/Button'\r\nexport { default as Box } from './Box'\r\nexport { default as Grid } from '@material-ui/core/Grid'\r\nexport { default as Typography } from '@material-ui/core/Typography'\r\nexport { default as Hidden } from '@material-ui/core/Hidden'\r\nexport { Alert } from '@material-ui/lab'","import Vuex from 'vuex'\r\nimport { get } from '@ttungbmt/utils'\r\nimport pathify from 'vuex-pathify'\r\n\r\nconst moduleMap = {\r\n    state: {\r\n        boundary: null,\r\n    },\r\n    mutations: {\r\n        setMap(state, data){\r\n            state.boundary = data.boundary\r\n        }\r\n    },\r\n    actions: {\r\n\r\n    },\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        catalog: {}\r\n    },\r\n    getters: {\r\n        getCat: state => (name) => {\r\n            return get(state, `catalog.${name}`)\r\n        }\r\n    },\r\n    mutations: {\r\n        setCat(state, data) {\r\n            state.catalog = data\r\n        }\r\n    },\r\n    actions: {\r\n\r\n    },\r\n    modules: {\r\n        map: moduleMap\r\n    },\r\n    plugins: [ pathify.plugin ],\r\n})\r\n\r\nexport default store\r\n\r\nexport const getters = store.getters","import { map } from '@ttungbmt/utils'\r\nimport moment from './moment'\r\n\r\nexport const getRangeDate = (arr, field = 'ngaymacbenh_nv') => map(arr, field).filter(i => i).map(v => moment(v, 'L').unix()).sort()\r\n","import * as moment from 'moment/moment.js'\r\nimport 'moment/locale/vi.js'\r\n\r\nexport default moment","import { uniqid, includes } from '@ttungbmt/utils'\r\nimport * as acts from './cabenh.actions'\r\n\r\nconst cabenhSlice = {\r\n    caseReducers: {\r\n        [acts.createCabenh.type]: ({payload}, Cabenh) => {\r\n            Cabenh.create({...payload, id: uniqid()})\r\n        },\r\n        [acts.createMany.type]: ({payload}, Cabenh) => {\r\n            payload.filter(p => p.geometry).map(p => Cabenh.create({...p, id: uniqid()}))\r\n        },\r\n        [acts.selected.type]: ({payload: id}, Cabenh) => {\r\n            Cabenh.all().update({selected: false})\r\n            Cabenh.withId(id).update({selected: true})\r\n        },\r\n        [acts.removeAll.type]: ({payload}, Cabenh) => {\r\n            Cabenh.all().delete();\r\n        },\r\n        [acts.deleteCabenhById.type]: ({payload: id}, Cabenh) => {\r\n            Cabenh.filter({gid: id}).delete()\r\n        },\r\n        [acts.remove.type]: ({payload: ids}, Cabenh) => {\r\n            Cabenh.filter(c => includes(ids, c.gid)).delete()\r\n        },\r\n    }\r\n}\r\n\r\nexport default cabenhSlice","import { createSlice } from '@ttungbmt/redux-toolkit'\r\n\r\nexport const name = 'auth'\r\n\r\nlet initialState = {\r\n    user: {},\r\n    roles: [],\r\n    permissions: [],\r\n}\r\n\r\nconst authSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers: {\r\n        setAuth(state, {payload}) {\r\n            state.user = payload.user\r\n            state.roles = payload.roles\r\n            state.permissions = payload.permissions\r\n        }\r\n    },\r\n})\r\n\r\n\r\n\r\nexport default authSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\n\r\nimport slice, {name} from './slice'\r\n\r\nconst getAuth = createSelector(['auth'], r => r)\r\n\r\n\r\nexport const actions = {\r\n    ...slice.actions\r\n}\r\n\r\n\r\nexport const selectors = {\r\n    getAuth,\r\n}\r\n\r\nexport default slice.reducer","import * as acts from './odich.actions'\r\nimport { head, last, isArray, isPlainObject } from '@ttungbmt/utils'\r\n\r\nimport { getRangeDate } from 'app/utils'\r\n\r\nfunction createOdich({Odich, Cabenh}, {id, cabenhs, source, ...props}) {\r\n    let dates = getRangeDate(cabenhs)\r\n\r\n    const model = Odich.create({\r\n        ...props,\r\n        id,\r\n        source,\r\n        range: {\r\n            minMax: [head(dates), last(dates)],\r\n            value: [head(dates), last(dates)]\r\n        }\r\n    })\r\n    cabenhs.map(c => model.cabenhs.add(Cabenh.create(c)))\r\n}\r\n\r\nconst odichSlice = {\r\n    caseReducers: {\r\n        [acts.addCabenh.type]: ({payload}, Odich, {Cabenh}) => {\r\n            let model = Odich.withId(payload.id)\r\n            if(!model) model = Odich.create(payload.id)\r\n\r\n            payload.cabenhs.map(c => model.cabenhs.add(Cabenh.create(c)))\r\n\r\n            let dates = getRangeDate(model.cabenhs.all().toRefArray())\r\n\r\n            model.update({\r\n                source: payload.source,\r\n                range: {\r\n                    minMax: [head(dates), last(dates)],\r\n                    value: [head(dates), last(dates)]\r\n                }\r\n            })\r\n        },\r\n\r\n        [acts.create.type]: ({payload}, Odich, session) => {\r\n            if(isArray(payload)) {\r\n                payload.map(i => createOdich(session, i))\r\n            } else {\r\n                createOdich(session, payload)\r\n            }\r\n        },\r\n        [acts.update.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({range: payload.range})\r\n        },\r\n        [acts.remove.type]: ({payload: id}, Odich) => {\r\n            const model = Odich.withId(id)\r\n            model.cabenhs.all().delete()\r\n            model.delete()\r\n        },\r\n        [acts.removeAll.type]: ({payload}, Odich) => {\r\n            let models = Odich.all()\r\n            if(isPlainObject(payload)){\r\n                models.filter(payload)\r\n            }\r\n\r\n            models.toModelArray().map(m => m.cabenhs.all().delete())\r\n            models.delete()\r\n        },\r\n        [acts.updateRangeValue.type]: ({payload}, Odich) => {\r\n            const model = Odich.withId(payload.id)\r\n            model.update({range: {...model.range, value: payload.value}})\r\n        },\r\n        [acts.runSlider.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({runStatus: 'Running'})\r\n        },\r\n        [acts.stopSlider.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({runStatus: 'Stopped'})\r\n        },\r\n        [acts.setLoading.type]: ({payload}, Odich) => {\r\n            Odich.withId(payload.id).update({loading: payload.value})\r\n        },\r\n        [acts.selected.type]: ({payload: id}, Odich) => {\r\n            Odich.all().filter(({id}) => id > 0).update({selected: false})\r\n            Odich.withId(id).update({selected: true})\r\n        },\r\n    }\r\n}\r\n\r\nexport default odichSlice","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"style_text__1zVxJ\",\"loader_wrapper\":\"style_loader_wrapper__yXF7d\",\"loader\":\"style_loader__3EzLM\",\"spin\":\"style_spin__mDqhH\"};","module.exports = Vue;","import React, {memo} from 'react'\r\nimport { castArray, get } from \"lodash-es\"\r\n\r\nexport const isSlot = (o) => get(o, 'type.type.name') === 'Slot'\r\nexport const filterSlot = (arr, name) => arr.filter(o => isSlot(o) && o.props.name === name)\r\n\r\nexport const hasChildren = p => {\r\n    const arr = castArray(p)\r\n    for (let i in arr) {\r\n        if(get(arr[i], 'props.children')){\r\n            return true\r\n        }\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nfunction Slot({children}) {\r\n    return (\r\n        <>\r\n            {children}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(Slot)","module.exports = jQuery;","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('urijs'), require('lodash-es')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'urijs', 'lodash-es'], factory) :\n\t(global = global || self, factory(global.validator = {}, global.URI, global._));\n}(this, function (exports, URI, lodashEs) { 'use strict';\n\n\tURI = URI && URI.hasOwnProperty('default') ? URI['default'] : URI;\n\n\tfunction unwrapExports (x) {\n\t\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n\t}\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar assertString_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = assertString;\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\tfunction assertString(input) {\n\t  var isString = typeof input === 'string' || input instanceof String;\n\n\t  if (!isString) {\n\t    var invalidType;\n\n\t    if (input === null) {\n\t      invalidType = 'null';\n\t    } else {\n\t      invalidType = _typeof(input);\n\n\t      if (invalidType === 'object' && input.constructor && input.constructor.hasOwnProperty('name')) {\n\t        invalidType = input.constructor.name;\n\t      } else {\n\t        invalidType = \"a \".concat(invalidType);\n\t      }\n\t    }\n\n\t    throw new TypeError(\"Expected string but received \".concat(invalidType, \".\"));\n\t  }\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(assertString_1);\n\n\tvar isLatLong = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _default;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar lat = /^\\(?[+-]?(90(\\.0+)?|[1-8]?\\d(\\.\\d+)?)$/;\n\tvar long = /^\\s?[+-]?(180(\\.0+)?|1[0-7]\\d(\\.\\d+)?|\\d{1,2}(\\.\\d+)?)\\)?$/;\n\n\tfunction _default(str) {\n\t  (0, _assertString.default)(str);\n\t  if (!str.includes(',')) return false;\n\t  var pair = str.split(',');\n\t  return lat.test(pair[0]) && long.test(pair[1]);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isLatLong$1 = unwrapExports(isLatLong);\n\n\tvar isDataURI_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isDataURI;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar validMediaType = /^[a-z]+\\/[a-z0-9\\-\\+]+$/i;\n\tvar validAttribute = /^[a-z\\-]+=[a-z0-9\\-]+$/i;\n\tvar validData = /^[a-z0-9!\\$&'\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*$/i;\n\n\tfunction isDataURI(str) {\n\t  (0, _assertString.default)(str);\n\t  var data = str.split(',');\n\n\t  if (data.length < 2) {\n\t    return false;\n\t  }\n\n\t  var attributes = data.shift().trim().split(';');\n\t  var schemeAndMediaType = attributes.shift();\n\n\t  if (schemeAndMediaType.substr(0, 5) !== 'data:') {\n\t    return false;\n\t  }\n\n\t  var mediaType = schemeAndMediaType.substr(5);\n\n\t  if (mediaType !== '' && !validMediaType.test(mediaType)) {\n\t    return false;\n\t  }\n\n\t  for (var i = 0; i < attributes.length; i++) {\n\t    if (i === attributes.length - 1 && attributes[i].toLowerCase() === 'base64') ; else if (!validAttribute.test(attributes[i])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  for (var _i = 0; _i < data.length; _i++) {\n\t    if (!validData.test(data[_i])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isDataURI = unwrapExports(isDataURI_1);\n\n\tvar merge_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = merge;\n\n\tfunction merge() {\n\t  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var defaults = arguments.length > 1 ? arguments[1] : undefined;\n\n\t  for (var key in defaults) {\n\t    if (typeof obj[key] === 'undefined') {\n\t      obj[key] = defaults[key];\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(merge_1);\n\n\tvar isByteLength_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isByteLength;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\t/* eslint-disable prefer-rest-params */\n\tfunction isByteLength(str, options) {\n\t  (0, _assertString.default)(str);\n\t  var min;\n\t  var max;\n\n\t  if (_typeof(options) === 'object') {\n\t    min = options.min || 0;\n\t    max = options.max;\n\t  } else {\n\t    // backwards compatibility: isByteLength(str, min [, max])\n\t    min = arguments[1];\n\t    max = arguments[2];\n\t  }\n\n\t  var len = encodeURI(str).split(/%..|./).length - 1;\n\t  return len >= min && (typeof max === 'undefined' || len <= max);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isByteLength_1);\n\n\tvar isFQDN_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isFQDN;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tvar _merge = _interopRequireDefault(merge_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar default_fqdn_options = {\n\t  require_tld: true,\n\t  allow_underscores: false,\n\t  allow_trailing_dot: false\n\t};\n\n\tfunction isFQDN(str, options) {\n\t  (0, _assertString.default)(str);\n\t  options = (0, _merge.default)(options, default_fqdn_options);\n\t  /* Remove the optional trailing dot before checking validity */\n\n\t  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n\t    str = str.substring(0, str.length - 1);\n\t  }\n\n\t  var parts = str.split('.');\n\n\t  for (var i = 0; i < parts.length; i++) {\n\t    if (parts[i].length > 63) {\n\t      return false;\n\t    }\n\t  }\n\n\t  if (options.require_tld) {\n\t    var tld = parts.pop();\n\n\t    if (!parts.length || !/^([a-z\\u00a1-\\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n\t      return false;\n\t    } // disallow spaces\n\n\n\t    if (/[\\s\\u2002-\\u200B\\u202F\\u205F\\u3000\\uFEFF\\uDB40\\uDC20]/.test(tld)) {\n\t      return false;\n\t    }\n\t  }\n\n\t  for (var part, _i = 0; _i < parts.length; _i++) {\n\t    part = parts[_i];\n\n\t    if (options.allow_underscores) {\n\t      part = part.replace(/_/g, '');\n\t    }\n\n\t    if (!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n\t      return false;\n\t    } // disallow full-width chars\n\n\n\t    if (/[\\uff01-\\uff5e]/.test(part)) {\n\t      return false;\n\t    }\n\n\t    if (part[0] === '-' || part[part.length - 1] === '-') {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isFQDN_1);\n\n\tvar isIP_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isIP;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\n\tvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\n\tfunction isIP(str) {\n\t  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t  (0, _assertString.default)(str);\n\t  version = String(version);\n\n\t  if (!version) {\n\t    return isIP(str, 4) || isIP(str, 6);\n\t  } else if (version === '4') {\n\t    if (!ipv4Maybe.test(str)) {\n\t      return false;\n\t    }\n\n\t    var parts = str.split('.').sort(function (a, b) {\n\t      return a - b;\n\t    });\n\t    return parts[3] <= 255;\n\t  } else if (version === '6') {\n\t    var blocks = str.split(':');\n\t    var foundOmissionBlock = false; // marker to indicate ::\n\t    // At least some OS accept the last 32 bits of an IPv6 address\n\t    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n\t    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n\t    // and '::a.b.c.d' is deprecated, but also valid.\n\n\t    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n\t    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n\t    if (blocks.length > expectedNumberOfBlocks) {\n\t      return false;\n\t    } // initial or final ::\n\n\n\t    if (str === '::') {\n\t      return true;\n\t    } else if (str.substr(0, 2) === '::') {\n\t      blocks.shift();\n\t      blocks.shift();\n\t      foundOmissionBlock = true;\n\t    } else if (str.substr(str.length - 2) === '::') {\n\t      blocks.pop();\n\t      blocks.pop();\n\t      foundOmissionBlock = true;\n\t    }\n\n\t    for (var i = 0; i < blocks.length; ++i) {\n\t      // test for a :: which can not be at the string start/end\n\t      // since those cases have been handled above\n\t      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n\t        if (foundOmissionBlock) {\n\t          return false; // multiple :: in address\n\t        }\n\n\t        foundOmissionBlock = true;\n\t      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) ; else if (!ipv6Block.test(blocks[i])) {\n\t        return false;\n\t      }\n\t    }\n\n\t    if (foundOmissionBlock) {\n\t      return blocks.length >= 1;\n\t    }\n\n\t    return blocks.length === expectedNumberOfBlocks;\n\t  }\n\n\t  return false;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tunwrapExports(isIP_1);\n\n\tvar isEmail_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isEmail;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tvar _merge = _interopRequireDefault(merge_1);\n\n\tvar _isByteLength = _interopRequireDefault(isByteLength_1);\n\n\tvar _isFQDN = _interopRequireDefault(isFQDN_1);\n\n\tvar _isIP = _interopRequireDefault(isIP_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\n\tfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\n\tfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\n\tfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\tvar default_email_options = {\n\t  allow_display_name: false,\n\t  require_display_name: false,\n\t  allow_utf8_local_part: true,\n\t  require_tld: true\n\t};\n\t/* eslint-disable max-len */\n\n\t/* eslint-disable no-control-regex */\n\n\tvar splitNameAddress = /^([^\\x00-\\x1F\\x7F-\\x9F\\cX]+)<(.+)>$/i;\n\tvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\n\tvar gmailUserPart = /^[a-z\\d]+$/;\n\tvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\n\tvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\n\tvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\n\tvar defaultMaxEmailLength = 254;\n\t/* eslint-enable max-len */\n\n\t/* eslint-enable no-control-regex */\n\n\t/**\n\t * Validate display name according to the RFC2822: https://tools.ietf.org/html/rfc2822#appendix-A.1.2\n\t * @param {String} display_name\n\t */\n\n\tfunction validateDisplayName(display_name) {\n\t  var trim_quotes = display_name.match(/^\"(.+)\"$/i);\n\t  var display_name_without_quotes = trim_quotes ? trim_quotes[1] : display_name; // display name with only spaces is not valid\n\n\t  if (!display_name_without_quotes.trim()) {\n\t    return false;\n\t  } // check whether display name contains illegal character\n\n\n\t  var contains_illegal = /[\\.\";<>]/.test(display_name_without_quotes);\n\n\t  if (contains_illegal) {\n\t    // if contains illegal characters,\n\t    // must to be enclosed in double-quotes, otherwise it's not a valid display name\n\t    if (!trim_quotes) {\n\t      return false;\n\t    } // the quotes in display name must start with character symbol \\\n\n\n\t    var all_start_with_back_slash = display_name_without_quotes.split('\"').length === display_name_without_quotes.split('\\\\\"').length;\n\n\t    if (!all_start_with_back_slash) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tfunction isEmail(str, options) {\n\t  (0, _assertString.default)(str);\n\t  options = (0, _merge.default)(options, default_email_options);\n\n\t  if (options.require_display_name || options.allow_display_name) {\n\t    var display_email = str.match(splitNameAddress);\n\n\t    if (display_email) {\n\t      var display_name;\n\n\t      var _display_email = _slicedToArray(display_email, 3);\n\n\t      display_name = _display_email[1];\n\t      str = _display_email[2];\n\n\t      // sometimes need to trim the last space to get the display name\n\t      // because there may be a space between display name and email address\n\t      // eg. myname <address@gmail.com>\n\t      // the display name is `myname` instead of `myname `, so need to trim the last space\n\t      if (display_name.endsWith(' ')) {\n\t        display_name = display_name.substr(0, display_name.length - 1);\n\t      }\n\n\t      if (!validateDisplayName(display_name)) {\n\t        return false;\n\t      }\n\t    } else if (options.require_display_name) {\n\t      return false;\n\t    }\n\t  }\n\n\t  if (!options.ignore_max_length && str.length > defaultMaxEmailLength) {\n\t    return false;\n\t  }\n\n\t  var parts = str.split('@');\n\t  var domain = parts.pop();\n\t  var user = parts.join('@');\n\t  var lower_domain = domain.toLowerCase();\n\n\t  if (options.domain_specific_validation && (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com')) {\n\t    /*\n\t      Previously we removed dots for gmail addresses before validating.\n\t      This was removed because it allows `multiple..dots@gmail.com`\n\t      to be reported as valid, but it is not.\n\t      Gmail only normalizes single dots, removing them from here is pointless,\n\t      should be done in normalizeEmail\n\t    */\n\t    user = user.toLowerCase(); // Removing sub-address from username before gmail validation\n\n\t    var username = user.split('+')[0]; // Dots are not included in gmail length restriction\n\n\t    if (!(0, _isByteLength.default)(username.replace('.', ''), {\n\t      min: 6,\n\t      max: 30\n\t    })) {\n\t      return false;\n\t    }\n\n\t    var _user_parts = username.split('.');\n\n\t    for (var i = 0; i < _user_parts.length; i++) {\n\t      if (!gmailUserPart.test(_user_parts[i])) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  if (!(0, _isByteLength.default)(user, {\n\t    max: 64\n\t  }) || !(0, _isByteLength.default)(domain, {\n\t    max: 254\n\t  })) {\n\t    return false;\n\t  }\n\n\t  if (!(0, _isFQDN.default)(domain, {\n\t    require_tld: options.require_tld\n\t  })) {\n\t    if (!options.allow_ip_domain) {\n\t      return false;\n\t    }\n\n\t    if (!(0, _isIP.default)(domain)) {\n\t      if (!domain.startsWith('[') || !domain.endsWith(']')) {\n\t        return false;\n\t      }\n\n\t      var noBracketdomain = domain.substr(1, domain.length - 2);\n\n\t      if (noBracketdomain.length === 0 || !(0, _isIP.default)(noBracketdomain)) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\n\t  if (user[0] === '\"') {\n\t    user = user.slice(1, user.length - 1);\n\t    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n\t  }\n\n\t  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n\t  var user_parts = user.split('.');\n\n\t  for (var _i2 = 0; _i2 < user_parts.length; _i2++) {\n\t    if (!pattern.test(user_parts[_i2])) {\n\t      return false;\n\t    }\n\t  }\n\n\t  return true;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isEmail = unwrapExports(isEmail_1);\n\n\tvar isUUID_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isUUID;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tvar uuid = {\n\t  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\t  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n\t  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n\t  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i\n\t};\n\n\tfunction isUUID(str) {\n\t  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n\t  (0, _assertString.default)(str);\n\t  var pattern = uuid[version];\n\t  return pattern && pattern.test(str);\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar isUUID = unwrapExports(isUUID_1);\n\n\tfunction isURL(value) {\n\t  return lodashEs.isString(value) && URI(value).is('url');\n\t}\n\n\tvar isJSON_1 = createCommonjsModule(function (module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isJSON;\n\n\tvar _assertString = _interopRequireDefault(assertString_1);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\tfunction isJSON(str) {\n\t  (0, _assertString.default)(str);\n\n\t  try {\n\t    var obj = JSON.parse(str);\n\t    return !!obj && _typeof(obj) === 'object';\n\t  } catch (e) {\n\t    /* ignore */\n\t  }\n\n\t  return false;\n\t}\n\n\tmodule.exports = exports.default;\n\tmodule.exports.default = exports.default;\n\t});\n\n\tvar _isJSON = unwrapExports(isJSON_1);\n\n\tfunction isJSONStr(value) {\n\t  return lodashEs.isString(value) && _isJSON(value);\n\t}\n\n\tfunction isJSON(value) {\n\t  if (lodashEs.isObject(value)) value = JSON.stringify(value);\n\t  return isJSONStr(value);\n\t}\n\n\tObject.defineProperty(exports, 'isArray', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isArray;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isBoolean', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isBoolean;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isElement', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isElement;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isEmpty', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isEmpty;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isEqual', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isEqual;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isFunction', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isFunction;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNil', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNil;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNull', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNull;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isNumber', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isNumber;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isObject', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isObject;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isPlainObject', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isPlainObject;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isRegExp', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isRegExp;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isString', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isString;\n\t\t}\n\t});\n\tObject.defineProperty(exports, 'isUndefined', {\n\t\tenumerable: true,\n\t\tget: function () {\n\t\t\treturn lodashEs.isUndefined;\n\t\t}\n\t});\n\texports.isDataURI = isDataURI;\n\texports.isEmail = isEmail;\n\texports.isJSON = isJSON;\n\texports.isJSONStr = isJSONStr;\n\texports.isLatLong = isLatLong$1;\n\texports.isURL = isURL;\n\texports.isUUID = isUUID;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import L, { TileLayer, setOptions } from 'leaflet'\r\nimport { getFeatureInfoUrl } from \"@ttungbmt/geo\";\r\nimport { uniqid } from \"@ttungbmt/utils\";\r\nimport 'leaflet.nontiledlayer'\r\n\r\nconst getOptions = ({uuid, ...options}) => ({\r\n    format: 'image/png',\r\n    transparent: true,\r\n    ...options\r\n})\r\n\r\nexport const TileWMSLayer = TileLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        TileLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport const SingleTileWMSLayer = L.NonTiledLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        L.NonTiledLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport function tileWMSLayer(url, {tiled, ...options}) {\r\n    return tiled ? new SingleTileWMSLayer (url, options) : new TileWMSLayer(url, options);\r\n}\r\n\r\n","export const KEY = 'map'\r\n\r\nexport const BASEMAP = 'basemap'\r\nexport const OVERLAY = 'overlay'","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from \"../../consts\";\r\n\r\nexport const getConfig = createSelector([[KEY, 'config']], config => config || {})\r\nexport const getZoom = createSelector([getConfig], config => config.zoom)\r\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\nimport { defaults, isEmpty, isArray, isPlainObject  } from '@ttungbmt/utils'\r\nimport * as selectors from './config.selectors'\r\nimport { KEY } from \"../../consts\"\r\nimport * as actions from \"../layers/layers.actions\";\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\n\r\nexport const name = `${KEY}.config`\r\n\r\nconst initialState = {\r\n    center: [10.804476, 106.639384],\r\n    zoom: 10,\r\n    // bounds: []\r\n}\r\n\r\nconst reducers = {\r\n    setConfig: (state, {payload}) => {\r\n        return {...initialState, ...payload}\r\n    },\r\n    setCenter: (state, {payload}) => {\r\n        state.center = toCenter(payload)\r\n    },\r\n    setZoom: (state, {payload}) => {\r\n        state.zoom = payload\r\n    },\r\n    setBounds: (state, {payload}) => {\r\n        if (!isEmpty(payload)) state.bounds = payload\r\n    },\r\n}\r\n\r\nconst configSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\nconfigSlice.selectors = selectors\r\nconfigSlice.actions = defaults(configSlice.actions, actions)\r\n\r\nexport default configSlice","import { BASEMAP } from \"../index\";\r\nimport { omit, includes } from '@ttungbmt/utils'\r\nimport { TileLayer, WMSTileLayer, LayersControl } from \"../index\";\r\nimport { mergeFilter, findIndex, toBool, get, str_contains, cloneDeep } from \"@ttungbmt/utils\";\r\n\r\n\r\nfunction isTileLayerProps({type, options}) {\r\n    let url = get(options, 'url', '')\r\n\r\n    if((\r\n        includes(['tile', 'wms'], type) ||\r\n        (str_contains(url, '{x}') && str_contains(url, '{y}') && str_contains(url, '{z}') ) ||\r\n        str_contains(url, 'geoserver/ows?')\r\n    )) return true\r\n\r\n    return false\r\n}\r\n\r\nexport function layerFn({control, title, active, type, options, uuid, popupTemplate}) {\r\n    const {BaseLayer, Overlay} = LayersControl\r\n    let opts = cloneDeep(options)\r\n\r\n    let boundary = get(window, 'store.state.map.boundary')\r\n    if(control === 'basemap' && opts){\r\n        opts.boundary = boundary\r\n    }\r\n\r\n\r\n    return {\r\n        wrapper: control === BASEMAP ? BaseLayer : Overlay,\r\n        wrapperProps: {\r\n            name: title,\r\n            checked: toBool(active)\r\n        },\r\n        layer: type2Component(type),\r\n        layerProps: (isTileLayerProps({type, options})) ? ({\r\n            uuid,\r\n            ...opts,\r\n        }) : ({\r\n            uuid,\r\n            type,\r\n            data: options.url,\r\n            options: omit(options, ['url', 'data']),\r\n            popupTemplate\r\n        })\r\n    }\r\n}\r\n\r\nfunction type2Component(type) {\r\n    switch (type) {\r\n        case 'tile':\r\n            return TileLayer;\r\n        case 'wms':\r\n            return WMSTileLayer;\r\n        // default:\r\n        //     return Source\r\n    }\r\n}\r\n\r\nexport function fnToggleLayer(state, uuid, key = 'active') {\r\n    let index = findIndex(state, {uuid})\r\n\r\n    if (state[index]) {\r\n        state[index][key] = !state[index][key];\r\n    }\r\n}\r\n\r\nexport function fnDeactiveAllBasemap(state) {\r\n    mergeFilter(state, {control: BASEMAP, active: true}, {active: false})\r\n}\r\n","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from '../../consts/index'\r\nimport { find, filter, includes } from '@ttungbmt/utils'\r\nimport _ from 'lodash-es'\r\nimport { BASEMAP, OVERLAY } from \"../../index\";\r\nimport { layerFn } from '../../utils'\r\n\r\nexport const getLayers = createSelector([`${KEY}.layers`], layers => layers || [])\r\n\r\nexport const getLayer = createSelector(\r\n    [getLayers, (_, id) => id],\r\n    (layers, id) => find(layers, {uuid: id}) || {}\r\n)\r\n\r\nexport const getLayersControl = createSelector([getLayers], layers => {\r\n    let basemap = filter(layers, {control: BASEMAP}).map(layerFn),\r\n        overlay = filter(layers, i => i.control !== BASEMAP).map(layerFn)\r\n\r\n    return basemap.concat(overlay)\r\n})\r\n\r\nexport const getLayersById = createSelector([getLayers, (_, id) => id], (layers, id) => {\r\n    return filter(layers, l => includes(id, l.uuid))\r\n})\r\n\r\nexport const getFancytreeSource = createSelector([getLayers], layers => {\r\n    let basemap = {\r\n            title: \"Basemap\",\r\n            extraClasses: 'font-weight-semibold',\r\n            expanded: true,\r\n            folder: true,\r\n            checkbox: false,\r\n            radiogroup: true,\r\n            children: []\r\n        },\r\n        overlay = {\r\n            title: \"Overlay\",\r\n            extraClasses: 'font-weight-semibold',\r\n            expanded: true,\r\n            folder: true,\r\n            checkbox: false,\r\n            children: []\r\n        }\r\n\r\n\r\n    _.chain(layers).filter(l => l.control === BASEMAP).map(i => {\r\n        basemap.children = basemap.children.concat({\r\n            title: i.title || 'None',\r\n            selected: i.active,\r\n            icon: false,\r\n            data: i\r\n        })\r\n    }).value()\r\n\r\n    _.chain(layers).filter(l => l.control !== BASEMAP).map(i => {\r\n        overlay.children = overlay.children.concat({\r\n            title: i.title || 'None',\r\n            selected: i.active,\r\n            icon: false,\r\n            data: i\r\n        })\r\n    }).value()\r\n\r\n    return [basemap, overlay]\r\n})\r\n\r\n","export default {\r\n    google: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"Google\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\",\r\n            \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\r\n            \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\r\n        }\r\n    },\r\n    openstreet: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"OpenStreetMap\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n            \"attribution\": \"&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\r\n        }\r\n    },\r\n    here: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"Here\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"https://2.{base}.maps.cit.api.here.com/maptile/2.1/{type}/newest/{scheme}/{z}/{x}/{y}/256/png?app_id={app_id}&app_code={app_code}\",\r\n            \"base\": \"base\",\r\n            \"type\": \"maptile\",\r\n            \"scheme\": \"normal.day\",\r\n            \"app_id\": \"kDm0Jq1K4Ak7Bwtn8uvk\",\r\n            \"app_code\": \"xnmvc4dKZrDfGlvQHXSvwQ\",\r\n            \"attribution\": \"Map data &copy; <a href=\\\"http://developer.here.com\\\">HERE</a>\"\r\n        }\r\n    },\r\n    bing: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"Mapbox\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"map\": \"mapbox.streets\",\r\n            \"url\": \"https://api.tiles.mapbox.com/v4/{map}/{z}/{x}/{y}.png?access_token={accessToken}\",\r\n            \"accessToken\": \"pk.eyJ1IjoidHR1bmdibXQiLCJhIjoiY2EzNDFhZjU4ZThkNzY5NTU3M2U1YWFiNmY4OTE3OWQifQ.Bo1ss5J4UjPPOjmq9S3VQw\",\r\n            \"attribution\": \"Map data &copy; <a href='http://mapbox.com'>Mapbox</a>\"\r\n        }\r\n    },\r\n    // hcmgis: {\r\n    //     \"control\": \"basemap\",\r\n    //     \"title\": \"HCMGIS\",\r\n    //     \"type\": \"wms\",\r\n    //     \"options\": {\r\n    //         \"url\": \"/geoserver/gwc/service/wms\",\r\n    //         \"layers\": \"hcm_map:hcm_map_all\"\r\n    //     }\r\n    // },\r\n    hcmgis: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"HCMGIS\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"/geoserver/gwc/service/wmts?service=wmts&request=GetTile&version=1.0.0&layer=hcm_map:hcm_map_all&tilematrixset=EPSG:900913&tilematrix=EPSG:900913:{z}&tilerow={y}&tilecol={x}&format=image%2Fjpeg\",\r\n            \"attribution\": \"Map data &copy; <a href='https://hcmgis.vn/'>HCMGIS</a>\"\r\n        }\r\n    },\r\n    lidar: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"nh hng khng\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"http://trueortho.hcmgis.vn/basemap/cache_lidar/{z}/{x}/{y}.jpg\",\r\n            \"attribution\": \"Map data &copy; <a href='https://hcmgis.vn/'>HCMGIS</a>\"\r\n        }\r\n    },\r\n    satellite: {\r\n        \"control\": \"basemap\",\r\n        \"title\": \"nh v tinh\",\r\n        \"type\": \"tile\",\r\n        \"options\": {\r\n            \"url\": \"http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}\",\r\n            \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\r\n            \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\r\n        }\r\n    }\r\n}","import { createSlice } from '@ttungbmt/redux-toolkit'\r\nimport * as selectors from './layers.selectors'\r\nimport * as actions from './layers.actions'\r\nimport { KEY } from \"../../consts\"\r\nimport { mergeFilter, map, get, uniqid, remove, toBool, defaults, isArray, isString  } from '@ttungbmt/utils'\r\nimport { BASEMAP } from \"../../index\";\r\n\r\nimport baselayers from '../../fixtures/baselayers'\r\nimport { fnDeactiveAllBasemap, fnToggleLayer } from \"../../utils\";\r\n\r\nexport const name = `${KEY}/layers`\r\n\r\nconst initialState = []\r\n\r\nconst reducers = {\r\n    setLayers: (state, {payload}) => {\r\n        if (payload) return payload.map(l => ({uuid: uniqid(), ...l}))\r\n    },\r\n    addLayers: (state, {payload}) => {\r\n        map(payload, l => state.push(Object.assign(\r\n            {},\r\n            payload.uuid ? {uuid: payload.uuid} : {uuid: uniqid()},\r\n            {\r\n                control: l.control,\r\n                active: l.active,\r\n                type: l.type,\r\n                title: l.title ? l.title : 'None',\r\n                options: l.options\r\n            }\r\n        )))\r\n    },\r\n\r\n    addBasemap: {\r\n        reducer: (state, {payload: {keys, active}}) => {\r\n            if(isArray(keys)) {\r\n                keys.map(k => {\r\n                    state.push({uuid: uniqid(), key: k, active: active === k,...get(baselayers, k)})\r\n                })\r\n            }\r\n\r\n            if(isString(keys)){\r\n                fnDeactiveAllBasemap(state)\r\n                state.push({uuid: uniqid(), key: keys, active: true, ...get(baselayers, keys)})\r\n            }\r\n        },\r\n        prepare: (keys: Array|String, active) => {\r\n            return {payload: {keys, active}}\r\n        }\r\n    },\r\n\r\n    clipBasemap: {\r\n        reducer: (state, {payload: {boundary, keys}}) => {\r\n            if(keys){\r\n\r\n            } else {\r\n                state.filter(b => b.control === BASEMAP).map(i => {\r\n                    i.options.boundary = boundary\r\n                })\r\n            }\r\n        },\r\n        prepare: (boundary: Object, keys: Array|String) => {\r\n            return {payload: {boundary, keys}}\r\n        }\r\n    },\r\n\r\n\r\n    // addBasemap: (state, p) => {\r\n    //     // key: String|Array\r\n    //\r\n    //     console.log(p)\r\n    //\r\n    //     // if(isArray(payload)) {\r\n    //     //\r\n    //     // }\r\n    //\r\n    //\r\n    //\r\n    //\r\n    //\r\n    //     // if(isArray(key)) {\r\n    //     //     key.map((v, k1) => {\r\n    //     //         let layer = get(baselayers, v)\r\n    //     //         if(layer)  state.push({uuid: uniqid(), key: v, ...layer})\r\n    //     //     })\r\n    //     // } else {\r\n    //     //     let layer = get(baselayers, key)\r\n    //     //     if (layer) {\r\n    //     //         fnDeactiveAllBasemap(state)\r\n    //     //         state.push({uuid: uniqid(), key, active: true, ...layer})\r\n    //     //     }\r\n    //     // }\r\n    // },\r\n    activeBasemap: (state, {payload: uuid}) => {\r\n        fnDeactiveAllBasemap(state)\r\n        mergeFilter(state, {uuid}, {active: true})\r\n    },\r\n    activeOverlay: (state, {payload: uuid}) => {\r\n        mergeFilter(state, {uuid}, {active: true})\r\n    },\r\n    toggleOverlay: (state, {payload: uuid}) => {\r\n        fnToggleLayer(state, uuid)\r\n    },\r\n    deactiveOverlay: (state, {payload: uuid}) => {\r\n        mergeFilter(state, {uuid}, {active: false})\r\n    },\r\n    removeLayer: (state, {payload: uuid}) => {\r\n        remove(state, i => i.uuid === uuid)\r\n    },\r\n    saveLayer: (state, {payload: {uuid, active, ...props}}) => {\r\n        if (props.control === BASEMAP) fnDeactiveAllBasemap(state)\r\n        mergeFilter(state, {uuid}, {...props, active: toBool(active)})\r\n    },\r\n    setZIndex: (state, {payload}) => {\r\n        payload.map(({uuid, zIndex}) => {\r\n            mergeFilter(state, {uuid}, {options: {zIndex}})\r\n        })\r\n    },\r\n}\r\n\r\n\r\n\r\nconst layersSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\nlayersSlice.selectors = selectors\r\nlayersSlice.actions = defaults(layersSlice.actions, actions)\r\n\r\nexport default layersSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from '../../consts/index'\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nexport const getControls = createSelector([[KEY, 'controls']], controls => controls || {})\r\n\r\nexport const getControl = createSelector([getControls, (_, name) => name], (controls, name) => get(controls, name) || {})\r\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\nimport { defaults } from '@ttungbmt/utils'\r\nimport { KEY } from \"../../consts\"\r\nimport * as selectors from './controls.selectors'\r\nimport * as actions from \"./controls.actions\"\r\n\r\nexport const name = `${KEY}/controls`\r\n\r\nconst initialState = {\r\n    zoom: {\r\n        enabled: true,\r\n        position: 'bottomright'\r\n    },\r\n    layers: {\r\n        position: 'topright',\r\n        autoZIndex: false,\r\n    },\r\n    scale: {\r\n        position: 'bottomleft',\r\n        enabled: false,\r\n    },\r\n    locate: {\r\n        position: 'bottomright'\r\n    },\r\n    ruler: {\r\n        enabled: false,\r\n        position: 'topleft'\r\n    },\r\n    exportMap: {\r\n        enabled: true,\r\n    }\r\n}\r\n\r\nconst reducers = {\r\n    setControl: (state, {payload}) => {\r\n\r\n    },\r\n    setControls: (state, {payload}) => {\r\n\r\n    },\r\n    addControls: (state, {payload}) => {\r\n\r\n    },\r\n    removeControl: (state, {payload}) => {\r\n\r\n    },\r\n    toggleControl: (state, {payload: name}) => {\r\n        state[name].enabled = !state[name].enabled\r\n    },\r\n}\r\n\r\nconst optionsSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\noptionsSlice.selectors = selectors\r\noptionsSlice.actions = defaults(optionsSlice.actions, actions)\r\n\r\nexport default optionsSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from '../../consts/index'\r\n\r\nexport const getOptions = createSelector([[KEY, 'options']], options => options || {})\r\nexport const getMapOptions = createSelector([getOptions], options => options.map || {})\r\nexport const getLoading = createSelector([getOptions], options => options.loading)\r\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\nimport { defaults } from '@ttungbmt/utils'\r\nimport { map } from '@ttungbmt/utils'\r\nimport { KEY } from \"../../consts\"\r\nimport * as selectors from './options.selectors'\r\nimport * as actions from \"./options.actions\"\r\n\r\nexport const name = `${KEY}/options`\r\n\r\nconst initialState = {\r\n    map: {\r\n        zoomControl: false\r\n    },\r\n    loading: true,\r\n}\r\n\r\nconst reducers = {\r\n    setOptions: (state, {payload}) => {\r\n        map(payload, (v, k) => {\r\n            state[k] = v\r\n        })\r\n    },\r\n    setMapOptions: (state, {payload}) => {\r\n        state.map = payload\r\n    },\r\n    setLoading: (state, {payload}) => {\r\n        state.loading = payload\r\n    },\r\n}\r\n\r\nconst optionsSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\noptionsSlice.selectors = selectors\r\noptionsSlice.actions = defaults(optionsSlice.actions, actions)\r\n\r\nexport default optionsSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from '../../consts/index'\r\nimport { get, find, head } from '@ttungbmt/utils'\r\n\r\nexport const getPopup = createSelector([[KEY, 'popup']], popup => popup || {})\r\n\r\nexport const getPopupKeys = createSelector([getPopup], popup => popup.keys || [])\r\nexport const getPopItems = createSelector([getPopup], popup => popup.items || [])\r\nexport const getPopItemById = createSelector([getPopItems, (_, id) => id], (items, id) => {\r\n    return find(items, i => get(i, 'model.gid') === id) || {}\r\n})\r\n\r\nexport const getCurrentPopup = createSelector([getPopup], popup => {\r\n    let items = get(popup, 'items', []).filter(i => i.loaded),\r\n        item = head(items)\r\n\r\n    if (!get(item, 'loaded')) return null\r\n    return {position: popup.position, _key: item.key, ...item}\r\n})\r\n","import { createSlice } from '@ttungbmt/redux-toolkit'\r\nimport { defaults } from '@ttungbmt/utils'\r\nimport { KEY } from \"../../consts\"\r\nimport * as selectors from './popup.selectors'\r\nimport * as actions from \"./popup.actions\"\r\nimport { mergeFilter } from \"@ttungbmt/utils\";\r\nimport { uniqid } from \"@ttungbmt/utils\";\r\nimport { toCenter } from \"@ttungbmt/geo\";\r\n\r\nexport const name = `${KEY}/popup`\r\n\r\nconst initialState = {\r\n    uuid: null,\r\n    keys: [],\r\n    items: []\r\n}\r\n\r\nconst reducers = {\r\n    resetPopup: (state, {payload}) => {\r\n        return {...initialState, keys: state.keys}\r\n    },\r\n    setPopup: (state, {payload}) => {\r\n        return {...state, ...payload}\r\n    },\r\n    setPopupKeys: (state, {payload}) => {\r\n        state.keys = payload\r\n    },\r\n    updatePopupContent: (state, {payload}) => {\r\n        const {uuid, content, model} = payload\r\n        mergeFilter(state.items, {uuid}, {loaded: true, content, model})\r\n    },\r\n    createPopup: (state, {payload}) => {\r\n        const geometry = payload.model.geometry\r\n        state.uuid = uniqid()\r\n        state.position = geometry ? toCenter(geometry): null\r\n        state.items = [{\r\n            key: payload.key,\r\n            loaded: true,\r\n            model: payload.model\r\n        }]\r\n    }\r\n}\r\n\r\nconst popupSlice = createSlice({\r\n    name,\r\n    initialState,\r\n    reducers,\r\n})\r\n\r\npopupSlice.selectors = selectors\r\npopupSlice.actions = defaults(popupSlice.actions, actions)\r\n\r\nexport default popupSlice","import { createSelector } from '@ttungbmt/redux-toolkit'\r\nimport { KEY } from '../consts/index'\r\n\r\nexport const getMap = createSelector([KEY], map => map)\r\n\r\n","import { createAction } from \"@ttungbmt/redux-toolkit\"\r\nimport { KEY } from \"../consts\";\r\n// import { KEY } from '../consts/index'\r\n// import { actions } from './index'\r\n\r\nexport const setMap = createAction(`${KEY}/SET_MAP`)\r\nexport const getWMSInfo = createAction(`${KEY}/GET_WMS_INFO`)\r\nexport const setMapLoading = createAction(`${KEY}/LOADING`)\r\nexport const setMapLoaded = createAction(`${KEY}/LOADED`)\r\n\r\n\r\n//\r\n// export const saveMap = (builder) => (dispatch, getState) => {\r\n//     const {app, config, options, layers, controls} = builder\r\n//     const {setApp, setConfig, setOptions, setLayers, setControls} = actions\r\n//\r\n//     dispatch(setApp(app))\r\n//     dispatch(setConfig(config))\r\n//     dispatch(setOptions(options))\r\n//     dispatch(setLayers(layers))\r\n//     dispatch(setControls(controls))\r\n// }\r\n//\r\n","import { combineReducers } from '@ttungbmt/redux-toolkit'\r\n\r\nimport configSlice from './config/config.slice';\r\nimport layersSlice from './layers/layers.slice';\r\nimport controlsSlice from './controls/controls.slice';\r\nimport optionsSlice from './options/options.slice';\r\nimport popupSlice from './popup/popup.slice';\r\n\r\nimport * as generalSelectors from './selectors'\r\nimport * as generalActions from './actions'\r\n\r\nexport const reducer = combineReducers({\r\n    config: configSlice.reducer,\r\n    layers: layersSlice.reducer,\r\n    controls: controlsSlice.reducer,\r\n    options: optionsSlice.reducer,\r\n    popup: popupSlice.reducer,\r\n})\r\n\r\nexport const actions = {\r\n    ...generalActions,\r\n    ...configSlice.actions,\r\n    ...layersSlice.actions,\r\n    ...controlsSlice.actions,\r\n    ...optionsSlice.actions,\r\n    ...popupSlice.actions,\r\n}\r\n\r\nexport const selectors = {\r\n    ...generalSelectors,\r\n    ...configSlice.selectors,\r\n    ...layersSlice.selectors,\r\n    ...controlsSlice.selectors,\r\n    ...optionsSlice.selectors,\r\n    ...popupSlice.selectors,\r\n}\r\n\r\nexport const slices = {\r\n    ...configSlice,\r\n    ...layersSlice,\r\n    ...controlsSlice,\r\n    ...optionsSlice,\r\n    ...popupSlice,\r\n}\r\n\r\n","var createSymbol = function createSymbol(name) {\n  return \"@@redux-saga/\" + name;\n};\n\nvar CANCEL =\n/*#__PURE__*/\ncreateSymbol('CANCEL_PROMISE');\nvar CHANNEL_END_TYPE =\n/*#__PURE__*/\ncreateSymbol('CHANNEL_END');\nvar IO =\n/*#__PURE__*/\ncreateSymbol('IO');\nvar MATCH =\n/*#__PURE__*/\ncreateSymbol('MATCH');\nvar MULTICAST =\n/*#__PURE__*/\ncreateSymbol('MULTICAST');\nvar SAGA_ACTION =\n/*#__PURE__*/\ncreateSymbol('SAGA_ACTION');\nvar SELF_CANCELLATION =\n/*#__PURE__*/\ncreateSymbol('SELF_CANCELLATION');\nvar TASK =\n/*#__PURE__*/\ncreateSymbol('TASK');\nvar TASK_CANCEL =\n/*#__PURE__*/\ncreateSymbol('TASK_CANCEL');\nvar TERMINATE =\n/*#__PURE__*/\ncreateSymbol('TERMINATE');\nvar SAGA_LOCATION =\n/*#__PURE__*/\ncreateSymbol('LOCATION');\n\nexport { CANCEL, CHANNEL_END_TYPE, IO, MATCH, MULTICAST, SAGA_ACTION, SAGA_LOCATION, SELF_CANCELLATION, TASK, TASK_CANCEL, TERMINATE };\n","import { TASK, SAGA_ACTION, MULTICAST, IO } from '@redux-saga/symbols';\n\nvar undef = function undef(v) {\n  return v === null || v === undefined;\n};\nvar notUndef = function notUndef(v) {\n  return v !== null && v !== undefined;\n};\nvar func = function func(f) {\n  return typeof f === 'function';\n};\nvar number = function number(n) {\n  return typeof n === 'number';\n};\nvar string = function string(s) {\n  return typeof s === 'string';\n};\nvar array = Array.isArray;\nvar object = function object(obj) {\n  return obj && !array(obj) && typeof obj === 'object';\n};\nvar promise = function promise(p) {\n  return p && func(p.then);\n};\nvar iterator = function iterator(it) {\n  return it && func(it.next) && func(it.throw);\n};\nvar iterable = function iterable(it) {\n  return it && func(Symbol) ? func(it[Symbol.iterator]) : array(it);\n};\nvar task = function task(t) {\n  return t && t[TASK];\n};\nvar sagaAction = function sagaAction(a) {\n  return Boolean(a && a[SAGA_ACTION]);\n};\nvar observable = function observable(ob) {\n  return ob && func(ob.subscribe);\n};\nvar buffer = function buffer(buf) {\n  return buf && func(buf.isEmpty) && func(buf.take) && func(buf.put);\n};\nvar pattern = function pattern(pat) {\n  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));\n};\nvar channel = function channel(ch) {\n  return ch && func(ch.take) && func(ch.close);\n};\nvar stringableFunc = function stringableFunc(f) {\n  return func(f) && f.hasOwnProperty('toString');\n};\nvar symbol = function symbol(sym) {\n  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;\n};\nvar multicast = function multicast(ch) {\n  return channel(ch) && ch[MULTICAST];\n};\nvar effect = function effect(eff) {\n  return eff && eff[IO];\n};\n\nexport { array, buffer, channel, effect, func, iterable, iterator, multicast, notUndef, number, object, observable, pattern, promise, sagaAction, string, stringableFunc, symbol, task, undef };\n","import { TASK_CANCEL, TERMINATE, SAGA_LOCATION, SAGA_ACTION, IO, SELF_CANCELLATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { array, notUndef, pattern, multicast, channel, undef, effect, task, func, buffer, string, object } from '@redux-saga/is';\nimport delayP from '@redux-saga/delay-p';\n\nvar konst = function konst(v) {\n  return function () {\n    return v;\n  };\n};\nvar kTrue =\n/*#__PURE__*/\nkonst(true);\n\nvar noop = function noop() {};\n\nif (process.env.NODE_ENV !== 'production' && typeof Proxy !== 'undefined') {\n  noop =\n  /*#__PURE__*/\n  new Proxy(noop, {\n    set: function set() {\n      throw internalErr('There was an attempt to assign a property to internal `noop` function.');\n    }\n  });\n}\nvar identity = function identity(v) {\n  return v;\n};\nvar hasSymbol = typeof Symbol === 'function';\nvar asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator';\nfunction check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error);\n  }\n}\nvar assignWithSymbols = function assignWithSymbols(target, source) {\n  _extends(target, source);\n\n  if (Object.getOwnPropertySymbols) {\n    Object.getOwnPropertySymbols(source).forEach(function (s) {\n      target[s] = source[s];\n    });\n  }\n};\nvar flatMap = function flatMap(mapper, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(mapper));\n};\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\nfunction once(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    fn();\n  };\n}\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\n\nvar kReturn = function kReturn(value) {\n  return {\n    value: value,\n    done: true\n  };\n};\n\nfunction makeIterator(next, thro, name) {\n  if (thro === void 0) {\n    thro = kThrow;\n  }\n\n  if (name === void 0) {\n    name = 'iterator';\n  }\n\n  var iterator = {\n    meta: {\n      name: name\n    },\n    next: next,\n    throw: thro,\n    return: kReturn,\n    isSagaIterator: true\n  };\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n\n  return iterator;\n}\nfunction logError(error, _ref2) {\n  var sagaStack = _ref2.sagaStack;\n\n  /*eslint-disable no-console*/\n  console.error(error);\n  console.error(sagaStack);\n}\nvar internalErr = function internalErr(err) {\n  return new Error(\"\\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\\n  Error: \" + err + \"\\n\");\n};\nvar createSetContextWarning = function createSetContextWarning(ctx, props) {\n  return (ctx ? ctx + '.' : '') + \"setContext(props): argument \" + props + \" is not a plain object\";\n};\nvar FROZEN_ACTION_ERROR = \"You can't put (a.k.a. dispatch from saga) frozen actions.\\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\\nIf you are using redux and you care about this behaviour (frozen actions),\\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\\nExample implementation:\\n\\nconst freezeActions = store => next => action => next(Object.freeze(action))\\n\"; // creates empty, but not-holey array\n\nvar createEmptyArray = function createEmptyArray(n) {\n  return Array.apply(null, new Array(n));\n};\nvar wrapSagaDispatch = function wrapSagaDispatch(dispatch) {\n  return function (action) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(action, function (ac) {\n        return !Object.isFrozen(ac);\n      }, FROZEN_ACTION_ERROR);\n    }\n\n    return dispatch(Object.defineProperty(action, SAGA_ACTION, {\n      value: true\n    }));\n  };\n};\nvar shouldTerminate = function shouldTerminate(res) {\n  return res === TERMINATE;\n};\nvar shouldCancel = function shouldCancel(res) {\n  return res === TASK_CANCEL;\n};\nvar shouldComplete = function shouldComplete(res) {\n  return shouldTerminate(res) || shouldCancel(res);\n};\nfunction createAllStyleChildCallbacks(shape, parentCallback) {\n  var keys = Object.keys(shape);\n  var totalCount = keys.length;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(totalCount, function (c) {\n      return c > 0;\n    }, 'createAllStyleChildCallbacks: get an empty array or object');\n  }\n\n  var completedCount = 0;\n  var completed;\n  var results = array(shape) ? createEmptyArray(totalCount) : {};\n  var childCallbacks = {};\n\n  function checkEnd() {\n    if (completedCount === totalCount) {\n      completed = true;\n      parentCallback(results);\n    }\n  }\n\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        parentCallback.cancel();\n        parentCallback(res, isErr);\n      } else {\n        results[key] = res;\n        completedCount++;\n        checkEnd();\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCallbacks[key] = chCbAtKey;\n  });\n\n  parentCallback.cancel = function () {\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCallbacks[key].cancel();\n      });\n    }\n  };\n\n  return childCallbacks;\n}\nfunction getMetaInfo(fn) {\n  return {\n    name: fn.name || 'anonymous',\n    location: getLocation(fn)\n  };\n}\nfunction getLocation(instrumented) {\n  return instrumented[SAGA_LOCATION];\n}\n\nvar BUFFER_OVERFLOW = \"Channel's Buffer overflow!\";\nvar ON_OVERFLOW_THROW = 1;\nvar ON_OVERFLOW_DROP = 2;\nvar ON_OVERFLOW_SLIDE = 3;\nvar ON_OVERFLOW_EXPAND = 4;\nvar zeroBuffer = {\n  isEmpty: kTrue,\n  put: noop,\n  take: noop\n};\n\nfunction ringBuffer(limit, overflowAction) {\n  if (limit === void 0) {\n    limit = 10;\n  }\n\n  var arr = new Array(limit);\n  var length = 0;\n  var pushIndex = 0;\n  var popIndex = 0;\n\n  var push = function push(it) {\n    arr[pushIndex] = it;\n    pushIndex = (pushIndex + 1) % limit;\n    length++;\n  };\n\n  var take = function take() {\n    if (length != 0) {\n      var it = arr[popIndex];\n      arr[popIndex] = null;\n      length--;\n      popIndex = (popIndex + 1) % limit;\n      return it;\n    }\n  };\n\n  var flush = function flush() {\n    var items = [];\n\n    while (length) {\n      items.push(take());\n    }\n\n    return items;\n  };\n\n  return {\n    isEmpty: function isEmpty() {\n      return length == 0;\n    },\n    put: function put(it) {\n      if (length < limit) {\n        push(it);\n      } else {\n        var doubledLimit;\n\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW);\n\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it;\n            pushIndex = (pushIndex + 1) % limit;\n            popIndex = pushIndex;\n            break;\n\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit;\n            arr = flush();\n            length = arr.length;\n            pushIndex = arr.length;\n            popIndex = 0;\n            arr.length = doubledLimit;\n            limit = doubledLimit;\n            push(it);\n            break;\n\n          default: // DROP\n\n        }\n      }\n    },\n    take: take,\n    flush: flush\n  };\n}\n\nvar none = function none() {\n  return zeroBuffer;\n};\nvar fixed = function fixed(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_THROW);\n};\nvar dropping = function dropping(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_DROP);\n};\nvar sliding = function sliding(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_SLIDE);\n};\nvar expanding = function expanding(initialSize) {\n  return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);\n};\n\nvar buffers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  none: none,\n  fixed: fixed,\n  dropping: dropping,\n  sliding: sliding,\n  expanding: expanding\n});\n\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar ALL = 'ALL';\nvar RACE = 'RACE';\nvar CALL = 'CALL';\nvar CPS = 'CPS';\nvar FORK = 'FORK';\nvar JOIN = 'JOIN';\nvar CANCEL = 'CANCEL';\nvar SELECT = 'SELECT';\nvar ACTION_CHANNEL = 'ACTION_CHANNEL';\nvar CANCELLED = 'CANCELLED';\nvar FLUSH = 'FLUSH';\nvar GET_CONTEXT = 'GET_CONTEXT';\nvar SET_CONTEXT = 'SET_CONTEXT';\n\nvar effectTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TAKE: TAKE,\n  PUT: PUT,\n  ALL: ALL,\n  RACE: RACE,\n  CALL: CALL,\n  CPS: CPS,\n  FORK: FORK,\n  JOIN: JOIN,\n  CANCEL: CANCEL,\n  SELECT: SELECT,\n  ACTION_CHANNEL: ACTION_CHANNEL,\n  CANCELLED: CANCELLED,\n  FLUSH: FLUSH,\n  GET_CONTEXT: GET_CONTEXT,\n  SET_CONTEXT: SET_CONTEXT\n});\n\nvar TEST_HINT = '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';\n\nvar makeEffect = function makeEffect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;\n};\n\nvar isForkEffect = function isForkEffect(eff) {\n  return effect(eff) && eff.type === FORK;\n};\n\nvar detach = function detach(eff) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect');\n  }\n\n  return makeEffect(FORK, _extends({}, eff.payload, {\n    detached: true\n  }));\n};\nfunction take(patternOrChannel, multicastPattern) {\n  if (patternOrChannel === void 0) {\n    patternOrChannel = '*';\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n\n  if (pattern(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      pattern: patternOrChannel\n    });\n  }\n\n  if (multicast(patternOrChannel) && notUndef(multicastPattern) && pattern(multicastPattern)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel,\n      pattern: multicastPattern\n    });\n  }\n\n  if (channel(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"take(patternOrChannel): argument \" + patternOrChannel + \" is not valid channel or a valid pattern\");\n  }\n}\nvar takeMaybe = function takeMaybe() {\n  var eff = take.apply(void 0, arguments);\n  eff.payload.maybe = true;\n  return eff;\n};\nfunction put(channel$1, action) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      check(channel$1, notUndef, 'put(channel, action): argument channel is undefined');\n      check(channel$1, channel, \"put(channel, action): argument \" + channel$1 + \" is not a valid channel\");\n      check(action, notUndef, 'put(channel, action): argument action is undefined');\n    } else {\n      check(channel$1, notUndef, 'put(action): argument action is undefined');\n    }\n  }\n\n  if (undef(action)) {\n    action = channel$1; // `undefined` instead of `null` to make default parameter work\n\n    channel$1 = undefined;\n  }\n\n  return makeEffect(PUT, {\n    channel: channel$1,\n    action: action\n  });\n}\nvar putResolve = function putResolve() {\n  var eff = put.apply(void 0, arguments);\n  eff.payload.resolve = true;\n  return eff;\n};\nfunction all(effects) {\n  var eff = makeEffect(ALL, effects);\n  eff.combinator = true;\n  return eff;\n}\nfunction race(effects) {\n  var eff = makeEffect(RACE, effects);\n  eff.combinator = true;\n  return eff;\n} // this match getFnCallDescriptor logic\n\nvar validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {\n  check(fnDescriptor, notUndef, effectName + \": argument fn is undefined or null\");\n\n  if (func(fnDescriptor)) {\n    return;\n  }\n\n  var context = null;\n  var fn;\n\n  if (array(fnDescriptor)) {\n    context = fnDescriptor[0];\n    fn = fnDescriptor[1];\n    check(fn, notUndef, effectName + \": argument of type [context, fn] has undefined or null `fn`\");\n  } else if (object(fnDescriptor)) {\n    context = fnDescriptor.context;\n    fn = fnDescriptor.fn;\n    check(fn, notUndef, effectName + \": argument of type {context, fn} has undefined or null `fn`\");\n  } else {\n    check(fnDescriptor, func, effectName + \": argument fn is not function\");\n    return;\n  }\n\n  if (context && string(fn)) {\n    check(context[fn], func, effectName + \": context arguments has no such method - \\\"\" + fn + \"\\\"\");\n    return;\n  }\n\n  check(fn, func, effectName + \": unpacked fn argument (from [context, fn] or {context, fn}) is not a function\");\n};\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  var context = null;\n  var fn;\n\n  if (func(fnDescriptor)) {\n    fn = fnDescriptor;\n  } else {\n    if (array(fnDescriptor)) {\n      context = fnDescriptor[0];\n      fn = fnDescriptor[1];\n    } else {\n      context = fnDescriptor.context;\n      fn = fnDescriptor.fn;\n    }\n\n    if (context && string(fn) && func(context[fn])) {\n      fn = context[fn];\n    }\n  }\n\n  return {\n    context: context,\n    fn: fn,\n    args: args\n  };\n}\n\nvar isNotDelayEffect = function isNotDelayEffect(fn) {\n  return fn !== delay;\n};\n\nfunction call(fnDescriptor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';\n    check(fnDescriptor, isNotDelayEffect, \"instead of writing `yield call(delay, \" + arg0 + \")` where delay is an effect from `redux-saga/effects` you should write `yield delay(\" + arg0 + \")`\");\n    validateFnDescriptor('call', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction apply(context, fn, args) {\n  if (args === void 0) {\n    args = [];\n  }\n\n  var fnDescriptor = [context, fn];\n\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('apply', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor([context, fn], args));\n}\nfunction cps(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('cps', fnDescriptor);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return makeEffect(CPS, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction fork(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('fork', fnDescriptor);\n    check(fnDescriptor, function (arg) {\n      return !effect(arg);\n    }, 'fork: argument must not be an effect');\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction spawn(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('spawn', fnDescriptor);\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return detach(fork.apply(void 0, [fnDescriptor].concat(args)));\n}\nfunction join(taskOrTasks) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"join([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else {\n      check(taskOrTasks, task, \"join(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(JOIN, taskOrTasks);\n}\nfunction cancel(taskOrTasks) {\n  if (taskOrTasks === void 0) {\n    taskOrTasks = SELF_CANCELLATION;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"cancel([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else if (taskOrTasks !== SELF_CANCELLATION && notUndef(taskOrTasks)) {\n      check(taskOrTasks, task, \"cancel(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(CANCEL, taskOrTasks);\n}\nfunction select(selector) {\n  if (selector === void 0) {\n    selector = identity;\n  }\n\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'select(selector, [...]): argument selector is undefined');\n    check(selector, func, \"select(selector, [...]): argument \" + selector + \" is not a function\");\n  }\n\n  return makeEffect(SELECT, {\n    selector: selector,\n    args: args\n  });\n}\n/**\n  channel(pattern, [buffer])    => creates a proxy channel for store actions\n**/\n\nfunction actionChannel(pattern$1, buffer$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern$1, pattern, 'actionChannel(pattern,...): argument pattern is not valid');\n\n    if (arguments.length > 1) {\n      check(buffer$1, notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');\n      check(buffer$1, buffer, \"actionChannel(pattern, buffer): argument \" + buffer$1 + \" is not a valid buffer\");\n    }\n  }\n\n  return makeEffect(ACTION_CHANNEL, {\n    pattern: pattern$1,\n    buffer: buffer$1\n  });\n}\nfunction cancelled() {\n  return makeEffect(CANCELLED, {});\n}\nfunction flush(channel$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel$1, channel, \"flush(channel): argument \" + channel$1 + \" is not valid channel\");\n  }\n\n  return makeEffect(FLUSH, channel$1);\n}\nfunction getContext(prop) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(prop, string, \"getContext(prop): argument \" + prop + \" is not a string\");\n  }\n\n  return makeEffect(GET_CONTEXT, prop);\n}\nfunction setContext(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(props, object, createSetContextWarning(null, props));\n  }\n\n  return makeEffect(SET_CONTEXT, props);\n}\nvar delay =\n/*#__PURE__*/\ncall.bind(null, delayP);\n\nexport { apply as $, ALL as A, logError as B, CALL as C, wrapSagaDispatch as D, identity as E, FORK as F, GET_CONTEXT as G, buffers as H, detach as I, JOIN as J, take as K, fork as L, cancel as M, call as N, actionChannel as O, PUT as P, sliding as Q, RACE as R, SELECT as S, TAKE as T, delay as U, race as V, effectTypes as W, takeMaybe as X, put as Y, putResolve as Z, all as _, CPS as a, cps as a0, spawn as a1, join as a2, select as a3, cancelled as a4, flush as a5, getContext as a6, setContext as a7, CANCEL as b, check as c, ACTION_CHANNEL as d, expanding as e, CANCELLED as f, FLUSH as g, SET_CONTEXT as h, internalErr as i, getMetaInfo as j, kTrue as k, createAllStyleChildCallbacks as l, createEmptyArray as m, none as n, once as o, assignWithSymbols as p, makeIterator as q, remove as r, shouldComplete as s, noop as t, flatMap as u, getLocation as v, createSetContextWarning as w, asyncIteratorSymbol as x, shouldCancel as y, shouldTerminate as z };\n","import '@redux-saga/symbols';\nimport '@babel/runtime/helpers/esm/extends';\nimport { channel, stringableFunc, func, notUndef } from '@redux-saga/is';\nimport { q as makeIterator, K as take, L as fork, M as cancel, N as call, O as actionChannel, Q as sliding, U as delay, V as race, c as check } from './io-6de156f3.js';\nexport { O as actionChannel, _ as all, $ as apply, N as call, M as cancel, a4 as cancelled, a0 as cps, U as delay, W as effectTypes, a5 as flush, L as fork, a6 as getContext, a2 as join, Y as put, Z as putResolve, V as race, a3 as select, a7 as setContext, a1 as spawn, K as take, X as takeMaybe } from './io-6de156f3.js';\nimport '@redux-saga/delay-p';\n\nvar done = function done(value) {\n  return {\n    done: true,\n    value: value\n  };\n};\n\nvar qEnd = {};\nfunction safeName(patternOrChannel) {\n  if (channel(patternOrChannel)) {\n    return 'channel';\n  }\n\n  if (stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel);\n  }\n\n  if (func(patternOrChannel)) {\n    return patternOrChannel.name;\n  }\n\n  return String(patternOrChannel);\n}\nfunction fsmIterator(fsm, startState, name) {\n  var stateUpdater,\n      errorState,\n      effect,\n      nextState = startState;\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg);\n    }\n\n    if (error && !errorState) {\n      nextState = qEnd;\n      throw error;\n    } else {\n      stateUpdater && stateUpdater(arg);\n      var currentState = error ? fsm[errorState](error) : fsm[nextState]();\n      nextState = currentState.nextState;\n      effect = currentState.effect;\n      stateUpdater = currentState.stateUpdater;\n      errorState = currentState.errorState;\n      return nextState === qEnd ? done(arg) : effect;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name);\n}\n\nfunction takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action)\n      };\n    }\n  }, 'q1', \"takeEvery(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLatest(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yCancel = function yCancel(task) {\n    return {\n      done: false,\n      value: cancel(task)\n    };\n  };\n\n  var task, action;\n\n  var setTask = function setTask(t) {\n    return task = t;\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return task ? {\n        nextState: 'q3',\n        effect: yCancel(task)\n      } : {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    }\n  }, 'q1', \"takeLatest(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLeading(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yCall = function yCall(ac) {\n    return {\n      done: false,\n      value: call.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action;\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yCall(action)\n      };\n    }\n  }, 'q1', \"takeLeading(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction throttle(delayLength, pattern, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, channel;\n  var yActionChannel = {\n    done: false,\n    value: actionChannel(pattern, sliding(1))\n  };\n\n  var yTake = function yTake() {\n    return {\n      done: false,\n      value: take(channel)\n    };\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setChannel = function setChannel(ch) {\n    return channel = ch;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yActionChannel,\n        stateUpdater: setChannel\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yTake(),\n        stateUpdater: setAction\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q4',\n        effect: yFork(action)\n      };\n    },\n    q4: function q4() {\n      return {\n        nextState: 'q2',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"throttle(\" + safeName(pattern) + \", \" + worker.name + \")\");\n}\n\nfunction retry(maxTries, delayLength, fn) {\n  var counter = maxTries;\n\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var yCall = {\n    done: false,\n    value: call.apply(void 0, [fn].concat(args))\n  };\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yCall,\n        errorState: 'q10'\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: qEnd\n      };\n    },\n    q10: function q10(error) {\n      counter -= 1;\n\n      if (counter <= 0) {\n        throw error;\n      }\n\n      return {\n        nextState: 'q1',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"retry(\" + fn.name + \")\");\n}\n\nfunction debounceHelper(delayLength, patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, raceOutput;\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n  var yRace = {\n    done: false,\n    value: race({\n      action: take(patternOrChannel),\n      debounce: delay(delayLength)\n    })\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yNoop = function yNoop(value) {\n    return {\n      done: false,\n      value: value\n    };\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setRaceOutput = function setRaceOutput(ro) {\n    return raceOutput = ro;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yRace,\n        stateUpdater: setRaceOutput\n      };\n    },\n    q3: function q3() {\n      return raceOutput.debounce ? {\n        nextState: 'q1',\n        effect: yFork(action)\n      } : {\n        nextState: 'q2',\n        effect: yNoop(raceOutput.action),\n        stateUpdater: setAction\n      };\n    }\n  }, 'q1', \"debounce(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nvar validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {\n  check(patternOrChannel, notUndef, fn.name + \" requires a pattern or channel\");\n  check(worker, notUndef, fn.name + \" requires a saga parameter\");\n};\n\nfunction takeEvery$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeEvery$1, patternOrChannel, worker);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));\n}\nfunction takeLatest$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLatest$1, patternOrChannel, worker);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));\n}\nfunction takeLeading$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLeading$1, patternOrChannel, worker);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return fork.apply(void 0, [takeLeading, patternOrChannel, worker].concat(args));\n}\nfunction throttle$1(ms, pattern, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern, notUndef, 'throttle requires a pattern');\n    check(worker, notUndef, 'throttle requires a saga parameter');\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {\n    args[_key4 - 3] = arguments[_key4];\n  }\n\n  return fork.apply(void 0, [throttle, ms, pattern, worker].concat(args));\n}\nfunction retry$1(maxTries, delayLength, worker) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n\n  return call.apply(void 0, [retry, maxTries, delayLength, worker].concat(args));\n}\nfunction debounce(delayLength, pattern, worker) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n    args[_key6 - 3] = arguments[_key6];\n  }\n\n  return fork.apply(void 0, [debounceHelper, delayLength, pattern, worker].concat(args));\n}\n\nexport { debounce, retry$1 as retry, takeEvery$1 as takeEvery, takeLatest$1 as takeLatest, takeLeading$1 as takeLeading, throttle$1 as throttle };\n","import { takeEvery, takeLatest, put, call, select, delay } from 'redux-saga/effects'\r\nimport { map, isString, orderBy, find, get, includes, isEmpty } from '@ttungbmt/utils'\r\nimport { selectors as mapSels } from '../index'\r\nimport $ from 'jquery'\r\nimport axios from 'axios'\r\nimport { toBounds } from \"@ttungbmt/geo\";\r\n\r\nimport { emitter } from '@ttungbmt/redux-toolkit'\r\nimport { actions as mapActs } from \"../index\"\r\n\r\nexport function* mapSaga() {\r\n\r\n    yield takeEvery('layout/toggleMapFullscreen', toggleMapFullscreen)\r\n    yield takeEvery(mapActs.setMap.type, setMap)\r\n    // yield debounce(1000, mapActs.getWMSInfo.type, getWMSInfo)\r\n    yield takeLatest(mapActs.getWMSInfo.type, getWMSInfo)\r\n    yield takeEvery(mapActs.setMapLoading.type, setMapLoading)\r\n    yield takeEvery(mapActs.setMapLoaded.type, setMapLoaded)\r\n}\r\n\r\nfunction *setMap({payload}) {\r\n    const {layer_tree, popup, extent, boundary, basemap} = payload\r\n    yield put(mapActs.setLoading(true))\r\n\r\n    if (layer_tree) yield put(mapActs.setLayers(layer_tree))\r\n    if (popup) yield put(mapActs.setPopupKeys(popup))\r\n\r\n    if(!basemap) yield put(mapActs.addBasemap(['google', 'openstreet', 'hcmgis', 'lidar', 'satellite'], 'hcmgis'))\r\n    // if (boundary) {\r\n    //     yield put(mapActs.clipBasemap(boundary))\r\n    // }\r\n\r\n    if (extent) yield put(mapActs.setBounds(toBounds([extent])))\r\n\r\n    yield put(mapActs.setLoading(false))\r\n}\r\n\r\nfunction* getWMSInfo({payload}) {\r\n    const ids = map(payload.items, 'uuid')\r\n    const layers = yield select(state => mapSels.getLayersById(state, ids))\r\n    const keys = yield select(mapSels.getPopupKeys)\r\n\r\n    let postData = {\r\n        ...payload,\r\n        items: orderBy(payload.items, ['zIndex'], ['desc'])\r\n            .map(i => {\r\n                let key = get(find(layers, {uuid: i.uuid}), 'key')\r\n                return {key, ...i}\r\n            })\r\n            .filter(i => includes(keys, i.key))\r\n    }\r\n\r\n    if(isEmpty(postData.items)) return null\r\n\r\n\r\n    yield put(mapActs.setMapLoading())\r\n    yield put(mapActs.setPopup(postData))\r\n\r\n    try {\r\n        const {data} = yield call(axios.post, '/maps/get-wms-info', postData)\r\n        yield put(mapActs.setMapLoaded())\r\n\r\n        if (isString(data) || !data.data) return null\r\n        yield put(mapActs.updatePopupContent(data.data))\r\n    } catch (e) {\r\n        yield put(mapActs.setMapLoaded())\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nfunction* toggleMapFullscreen() {\r\n    emitter.emit('@layout/TOGGLE_MAP_FULLSCREEN')\r\n}\r\n\r\nfunction setMapLoading({payload = '.leaflet-container'}) {\r\n    $(payload).css('cursor', 'progress')\r\n    $('.leaflet-interactive').css('cursor', 'progress')\r\n}\r\n\r\nfunction setMapLoaded({payload = '.leaflet-container'}) {\r\n    $(payload).css('cursor', 'default')\r\n    $('.leaflet-interactive').css('cursor', 'pointer')\r\n}\r\n\r\n\r\n","import React, { memo, cloneElement } from 'react'\r\nimport { get } from '@ttungbmt/utils'\r\n\r\nfunction PopManager({_key, model, features}) {\r\n    const Component = get(features, `${_key}.pop`, () => <div>Khng tm thy: <b>{_key}</b></div>)\r\n    return <Component {...model}/>\r\n}\r\n\r\nexport default memo(PopManager)","import React from 'react'\r\nlet MapContext = React.createContext()\r\n\r\nlet initialState = {\r\n\r\n};\r\n\r\nfunction MapProvider(props) {\r\n    return (\r\n        <MapContext.Provider value={{}}>{props.children}</MapContext.Provider>\r\n    );\r\n}\r\n\r\nlet MapConsumer = MapContext.Consumer;\r\n\r\nexport {\r\n    MapConsumer,\r\n    MapContext,\r\n    MapProvider\r\n}","import L from \"leaflet\";\r\n\r\nlet isRingBbox = function (ring, bbox) {\r\n    if (ring.length !== 4) {\r\n        return false;\r\n    }\r\n\r\n    var p, sumX = 0, sumY = 0;\r\n\r\n    for (p = 0; p < 4; p++) {\r\n        if ((ring[p].x !== bbox.min.x && ring[p].x !== bbox.max.x) ||\r\n            (ring[p].y !== bbox.min.y && ring[p].y !== bbox.max.y)) {\r\n            return false;\r\n        }\r\n\r\n        sumX += ring[p].x;\r\n        sumY += ring[p].y;\r\n\r\n        //bins[Number(ring[p].x === bbox.min.x) + 2 * Number(ring[p].y === bbox.min.y)] = 1;\r\n    }\r\n\r\n    //check that we have all 4 vertex of bbox in our geometry\r\n    return sumX === 2 * (bbox.min.x + bbox.max.x) && sumY === 2 * (bbox.min.y + bbox.max.y);\r\n};\r\n\r\nvar ExtendMethods = {\r\n    _toMercGeometry: function (b, isGeoJSON) {\r\n        var res = [];\r\n        var c, r, p,\r\n            mercComponent,\r\n            mercRing,\r\n            coords;\r\n\r\n        if (!isGeoJSON) {\r\n            if (!(b[0] instanceof Array)) {\r\n                b = [[b]];\r\n            } else if (!(b[0][0] instanceof Array)) {\r\n                b = [b];\r\n            }\r\n        }\r\n\r\n        for (c = 0; c < b.length; c++) {\r\n            mercComponent = [];\r\n            for (r = 0; r < b[c].length; r++) {\r\n                mercRing = [];\r\n                for (p = 0; p < b[c][r].length; p++) {\r\n                    coords = isGeoJSON ? L.latLng(b[c][r][p][1], b[c][r][p][0]) : b[c][r][p];\r\n                    mercRing.push(this._map.project(coords, 0));\r\n                }\r\n                mercComponent.push(mercRing);\r\n            }\r\n            res.push(mercComponent);\r\n        }\r\n\r\n        return res;\r\n    },\r\n\r\n    //lazy calculation of layer's boundary in map's projection. Bounding box is also calculated\r\n    _getOriginalMercBoundary: function () {\r\n        if (this._mercBoundary) {\r\n            return this._mercBoundary;\r\n        }\r\n\r\n        var compomentBbox, c;\r\n\r\n        if (L.Util.isArray(this.options.boundary)) { //Depricated: just array of coordinates\r\n            this._mercBoundary = this._toMercGeometry(this.options.boundary);\r\n        } else { //GeoJSON\r\n            this._mercBoundary = [];\r\n            var processGeoJSONObject = function (obj) {\r\n                if (obj.type === 'GeometryCollection') {\r\n                    obj.geometries.forEach(processGeoJSONObject);\r\n                } else if (obj.type === 'Feature') {\r\n                    processGeoJSONObject(obj.geometry);\r\n                } else if (obj.type === 'FeatureCollection') {\r\n                    obj.features.forEach(processGeoJSONObject);\r\n                } else if (obj.type === 'Polygon') {\r\n                    this._mercBoundary = this._mercBoundary.concat(this._toMercGeometry([obj.coordinates], true));\r\n                } else if (obj.type === 'MultiPolygon') {\r\n                    this._mercBoundary = this._mercBoundary.concat(this._toMercGeometry(obj.coordinates, true));\r\n                }\r\n            }.bind(this);\r\n            processGeoJSONObject(this.options.boundary);\r\n        }\r\n\r\n        this._mercBbox = new L.Bounds();\r\n        for (c = 0; c < this._mercBoundary.length; c++) {\r\n            compomentBbox = new L.Bounds(this._mercBoundary[c][0]);\r\n            this._mercBbox.extend(compomentBbox.min);\r\n            this._mercBbox.extend(compomentBbox.max);\r\n        }\r\n\r\n        return this._mercBoundary;\r\n    },\r\n\r\n    _getClippedGeometry: function (geom, bounds) {\r\n        var clippedGeom = [],\r\n            clippedComponent,\r\n            clippedExternalRing,\r\n            clippedHoleRing,\r\n            iC, iR;\r\n\r\n        for (iC = 0; iC < geom.length; iC++) {\r\n            clippedComponent = [];\r\n            clippedExternalRing = L.PolyUtil.clipPolygon(geom[iC][0], bounds);\r\n            if (clippedExternalRing.length === 0) {\r\n                continue;\r\n            }\r\n\r\n            clippedComponent.push(clippedExternalRing);\r\n\r\n            for (iR = 1; iR < geom[iC].length; iR++) {\r\n                clippedHoleRing = L.PolyUtil.clipPolygon(geom[iC][iR], bounds);\r\n                if (clippedHoleRing.length > 0) {\r\n                    clippedComponent.push(clippedHoleRing);\r\n                }\r\n            }\r\n            clippedGeom.push(clippedComponent);\r\n        }\r\n\r\n        if (clippedGeom.length === 0) { //we are outside of all multipolygon components\r\n            return {isOut: true};\r\n        }\r\n\r\n        for (iC = 0; iC < clippedGeom.length; iC++) {\r\n            if (isRingBbox(clippedGeom[iC][0], bounds)) {\r\n                //inside exterior rings and no holes\r\n                if (clippedGeom[iC].length === 1) {\r\n                    return {isIn: true};\r\n                }\r\n            } else { //intersects exterior ring\r\n                return {geometry: clippedGeom};\r\n            }\r\n\r\n            for (iR = 1; iR < clippedGeom[iC].length; iR++) {\r\n                //inside exterior ring, but have intersection with a hole\r\n                if (!isRingBbox(clippedGeom[iC][iR], bounds)) {\r\n                    return {geometry: clippedGeom};\r\n                }\r\n            }\r\n        }\r\n\r\n        //we are inside all holes in geometry\r\n        return {isOut: true};\r\n    },\r\n\r\n    // Calculates intersection of original boundary geometry and tile boundary.\r\n    // Uses quadtree as cache to speed-up intersection.\r\n    // Return\r\n    //   {isOut: true} if no intersection,\r\n    //   {isIn: true} if tile is fully inside layer's boundary\r\n    //   {geometry: <LatLng[][][]>} otherwise\r\n    _getTileGeometry: function (x, y, z, skipIntersectionCheck) {\r\n        if (!this.options.boundary) {\r\n            return {isIn: true};\r\n        }\r\n\r\n        var cacheID = x + \":\" + y + \":\" + z,\r\n            zCoeff = Math.pow(2, z),\r\n            parentState,\r\n            cache = this._boundaryCache;\r\n\r\n        if (cache[cacheID]) {\r\n            return cache[cacheID];\r\n        }\r\n\r\n        var mercBoundary = this._getOriginalMercBoundary(),\r\n            ts = this.options.tileSize,\r\n            tileBbox = new L.Bounds(new L.Point(x * ts / zCoeff, y * ts / zCoeff), new L.Point((x + 1) * ts / zCoeff, (y + 1) * ts / zCoeff));\r\n\r\n        //fast check intersection\r\n        if (!skipIntersectionCheck && !tileBbox.intersects(this._mercBbox)) {\r\n            return {isOut: true};\r\n        }\r\n\r\n        if (z === 0) {\r\n            cache[cacheID] = {geometry: mercBoundary};\r\n            return cache[cacheID];\r\n        }\r\n\r\n        parentState = this._getTileGeometry(Math.floor(x / 2), Math.floor(y / 2), z - 1, true);\r\n\r\n        if (parentState.isOut || parentState.isIn) {\r\n            return parentState;\r\n        }\r\n\r\n        cache[cacheID] = this._getClippedGeometry(parentState.geometry, tileBbox);\r\n        return cache[cacheID];\r\n    },\r\n\r\n    _drawTileInternal: function (canvas, tilePoint, url, callback) {\r\n        var zoom = this._getZoomForUrl(),\r\n            state = this._getTileGeometry(tilePoint.x, tilePoint.y, zoom);\r\n\r\n        if (state.isOut) {\r\n            callback();\r\n            return;\r\n        }\r\n\r\n        var ts = this.options.tileSize,\r\n            tileX = ts * tilePoint.x,\r\n            tileY = ts * tilePoint.y,\r\n            zCoeff = Math.pow(2, zoom),\r\n            ctx = canvas.getContext('2d'),\r\n            imageObj = new Image(),\r\n            _this = this;\r\n\r\n        var setPattern = function () {\r\n            var c, r, p,\r\n                pattern,\r\n                geom;\r\n\r\n            if (!state.isIn) {\r\n                geom = state.geometry;\r\n                ctx.beginPath();\r\n\r\n                for (c = 0; c < geom.length; c++) {\r\n                    for (r = 0; r < geom[c].length; r++) {\r\n                        if (geom[c][r].length === 0) {\r\n                            continue;\r\n                        }\r\n\r\n                        ctx.moveTo(geom[c][r][0].x * zCoeff - tileX, geom[c][r][0].y * zCoeff - tileY);\r\n                        for (p = 1; p < geom[c][r].length; p++) {\r\n                            ctx.lineTo(geom[c][r][p].x * zCoeff - tileX, geom[c][r][p].y * zCoeff - tileY);\r\n                        }\r\n                    }\r\n                }\r\n                ctx.clip();\r\n            }\r\n\r\n            pattern = ctx.createPattern(imageObj, \"repeat\");\r\n            ctx.beginPath();\r\n            ctx.rect(0, 0, canvas.width, canvas.height);\r\n            ctx.fillStyle = pattern;\r\n            ctx.fill();\r\n            callback();\r\n        };\r\n\r\n        if (this.options.crossOrigin) {\r\n            imageObj.crossOrigin = '';\r\n        }\r\n\r\n        imageObj.onload = function () {\r\n            //TODO: implement correct image loading cancelation\r\n            canvas.complete = true; //HACK: emulate HTMLImageElement property to make happy L.TileLayer\r\n            setTimeout(setPattern, 0); //IE9 bug - black tiles appear randomly if call setPattern() without timeout\r\n        }\r\n\r\n        imageObj.src = url;\r\n    },\r\n\r\n    onAdd: function (map) {\r\n        (L.TileLayer.Canvas || L.TileLayer).prototype.onAdd.call(this, map);\r\n\r\n        if (this.options.trackAttribution) {\r\n            map.on('moveend', this._updateAttribution, this);\r\n            this._updateAttribution();\r\n        }\r\n    },\r\n\r\n    onRemove: function (map) {\r\n        (L.TileLayer.Canvas || L.TileLayer).prototype.onRemove.call(this, map);\r\n\r\n        if (this.options.trackAttribution) {\r\n            map.off('moveend', this._updateAttribution, this);\r\n            if (!this._attributionRemoved) {\r\n                var attribution = L.TileLayer.BoundaryCanvas.prototype.getAttribution.call(this);\r\n                map.attributionControl.removeAttribution(attribution);\r\n            }\r\n        }\r\n    },\r\n\r\n    _updateAttribution: function () {\r\n        var geom = this._getOriginalMercBoundary(),\r\n            mapBounds = this._map.getBounds(),\r\n            mercBounds = L.bounds(this._map.project(mapBounds.getSouthWest(), 0), this._map.project(mapBounds.getNorthEast(), 0)),\r\n            state = this._getClippedGeometry(geom, mercBounds);\r\n\r\n        if (this._attributionRemoved !== !!state.isOut) {\r\n            var attribution = L.TileLayer.BoundaryCanvas.prototype.getAttribution.call(this);\r\n            this._map.attributionControl[state.isOut ? 'removeAttribution' : 'addAttribution'](attribution);\r\n            this._attributionRemoved = !!state.isOut;\r\n        }\r\n    }\r\n};\r\n\r\nif (L.version >= '0.8') {\r\n    L.TileLayer.BoundaryCanvas = L.TileLayer.extend({\r\n        options: {\r\n            // all rings of boundary should be without self-intersections or intersections with other rings\r\n            // zero-winding fill algorithm is used in canvas, so holes should have opposite direction to exterior ring\r\n            // boundary can be\r\n            // LatLng[] - simple polygon\r\n            // LatLng[][] - polygon with holes\r\n            // LatLng[][][] - multipolygon\r\n            boundary: null\r\n        },\r\n        includes: ExtendMethods,\r\n        initialize: function (url, options) {\r\n            L.TileLayer.prototype.initialize.call(this, url, options);\r\n\r\n            this._boundaryCache = {}; //cache index \"x:y:z\"\r\n            this._mercBoundary = null;\r\n            this._mercBbox = null;\r\n\r\n            if (this.options.trackAttribution) {\r\n                this._attributionRemoved = true;\r\n                this.getAttribution = null;\r\n            }\r\n        },\r\n        createTile: function (coords, done) {\r\n            var tile = document.createElement('canvas'),\r\n                url = this.getTileUrl(coords);\r\n            tile.width = tile.height = this.options.tileSize;\r\n            this._drawTileInternal(tile, coords, url, L.bind(done, null, null, tile));\r\n\r\n            return tile;\r\n        }\r\n    })\r\n} else {\r\n    L.TileLayer.BoundaryCanvas = L.TileLayer.Canvas.extend({\r\n        options: {\r\n            // all rings of boundary should be without self-intersections or intersections with other rings\r\n            // zero-winding fill algorithm is used in canvas, so holes should have opposite direction to exterior ring\r\n            // boundary can be\r\n            // LatLng[] - simple polygon\r\n            // LatLng[][] - polygon with holes\r\n            // LatLng[][][] - multipolygon\r\n            boundary: null\r\n        },\r\n        includes: ExtendMethods,\r\n        initialize: function (url, options) {\r\n            L.Util.setOptions(this, options);\r\n            L.Util.setOptions(this, {async: true}); //image loading is always async\r\n            this._url = url;\r\n            this._boundaryCache = {}; //cache index \"x:y:z\"\r\n            this._mercBoundary = null;\r\n            this._mercBbox = null;\r\n\r\n            if (this.options.trackAttribution) {\r\n                this._attributionRemoved = true;\r\n                this.getAttribution = null;\r\n            }\r\n        },\r\n\r\n        drawTile: function (canvas, tilePoint) {\r\n            var adjustedTilePoint = L.extend({}, tilePoint),\r\n                url;\r\n\r\n            this._adjustTilePoint(adjustedTilePoint);\r\n            url = this.getTileUrl(adjustedTilePoint);\r\n            this._drawTileInternal(canvas, tilePoint, url, L.bind(this.tileDrawn, this, canvas));\r\n\r\n            //Leaflet v0.7.x bugfix (L.Tile.Canvas doesn't support maxNativeZoom option)\r\n            if (this._getTileSize() !== this.options.tileSize) {\r\n                canvas.style.width = canvas.style.height = this._getTileSize() + 'px';\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nL.TileLayer.boundaryCanvas = function (url, options) {\r\n    return new L.TileLayer.BoundaryCanvas(url, options);\r\n};\r\n\r\nL.TileLayer.BoundaryCanvas.createFromLayer = function (layer, options) {\r\n    return new L.TileLayer.BoundaryCanvas(layer._url, L.extend({}, layer.options, options));\r\n}\r\n\r\nexport const withBoundary = (layer, options = {}) => {\r\n    let boundary = options.boundary\r\n\r\n    return boundary ? (L.TileLayer.BoundaryCanvas.createFromLayer(\r\n        layer,\r\n        options\r\n    )) : layer\r\n}\r\n\r\n","import { tileWMSLayer } from '@ttungbmt/leaflet-wms'\r\nimport { isEqual } from '@ttungbmt/validator'\r\nimport PropTypes from 'prop-types'\r\nimport { withBoundary } from '../../libs/BoundaryCanvas'\r\nimport { GridLayer, withLeaflet } from 'react-leaflet'\r\n\r\nconst EVENTS_RE = /^on(.+)$/i\r\n\r\nclass WMSTileLayer extends GridLayer {\r\n    createLeafletElement(props) {\r\n        const {url, boundary, ...params} = props\r\n\r\n        const {leaflet: _l, ...options} = this.getOptions(params)\r\n        return withBoundary(tileWMSLayer(url, options), {boundary})\r\n    }\r\n\r\n    updateLeafletElement(fromProps: Props, toProps: Props) {\r\n        super.updateLeafletElement(fromProps, toProps)\r\n        const {uuid: preUuid, url: prevUrl, opacity: _po, zIndex: _pz, ...prevProps} = fromProps\r\n        const {leaflet: _pl, ...prevParams} = this.getOptions(prevProps)\r\n        const {uuid, url, opacity: _o, zIndex: _z, ...props} = toProps\r\n        const {leaflet: _l, ...params} = this.getOptions(props)\r\n\r\n        if (uuid !== preUuid) {\r\n            this.leafletElement.uuid = uuid\r\n        }\r\n\r\n        if (url !== prevUrl) {\r\n            this.leafletElement.setUrl(url)\r\n        }\r\n        if (!isEqual(params, prevParams)) {\r\n            this.leafletElement.setParams(params)\r\n        }\r\n    }\r\n\r\n    getOptions(params): Object {\r\n        const superOptions = super.getOptions(params)\r\n        return Object.keys(superOptions).reduce((options, key) => {\r\n            if (!EVENTS_RE.test(key)) {\r\n                options[key] = superOptions[key]\r\n            }\r\n            return options\r\n        }, {})\r\n    }\r\n}\r\n\r\n\r\nWMSTileLayer.propTypes = {\r\n    layers: PropTypes.string.isRequired\r\n}\r\n\r\nexport default withLeaflet(WMSTileLayer)","import { TileLayer as LeafletTileLayer } from 'leaflet'\r\nimport { withLeaflet, GridLayer } from 'react-leaflet'\r\nimport { withBoundary } from '../../libs/BoundaryCanvas'\r\n\r\nclass TileLayer extends GridLayer {\r\n    createLeafletElement({boundary, ...props}) {\r\n        const { url, ...params } = props\r\n        const { leaflet: _l, ...options } = this.getOptions(params)\r\n        return withBoundary(new LeafletTileLayer(url, options), {boundary})\r\n    }\r\n\r\n    updateLeafletElement(fromProps: Props, toProps: Props) {\r\n        super.updateLeafletElement(fromProps, toProps)\r\n        if (toProps.url !== fromProps.url) {\r\n            this.leafletElement.setUrl(toProps.url)\r\n        }\r\n    }\r\n}\r\n\r\nexport default withLeaflet(TileLayer)","import React, { memo, useEffect, useRef, cloneElement } from 'react'\r\nimport { connect, compose, useDispatch } from \"@ttungbmt/redux-toolkit\"\r\nimport { selectors, Popup } from \"../index\";\r\nimport { usePopupInfo } from \"../hooks\";\r\n\r\nconst acts = {\r\n    addCbToOd: function (id) {\r\n        return {type: '@odich/KHOANHVUNG', payload: id}\r\n    }\r\n}\r\n\r\n// function usePopupOnClick(popup, popupRef) {\r\n//     const dispatch = useDispatch()\r\n//     let content = popup.content\r\n//     useEffect(() => {\r\n//         if (content) {\r\n//             let $popupEl = $(popupRef.current.leafletElement.getElement())\r\n//             setTimeout(() => {\r\n//                 $popupEl.find('[data-react]').click(function () {\r\n//                     let {action} = $(this).data()\r\n//                     dispatch(acts[action.name](...action.params);)\r\n//                 })\r\n//             }, 200)\r\n//         }\r\n//     }, [content])\r\n// }\r\n\r\nfunction PopupWMS({map, popup, children}) {\r\n    const popupRef = useRef()\r\n    usePopupInfo()\r\n    // usePopupOnClick(popup || {}, popupRef)\r\n\r\n    if (!popup) return\r\n    if (!popup.position) return\r\n\r\n    return (\r\n        <Popup ref={popupRef} position={popup.position} minWidth={280}>\r\n            <div dangerouslySetInnerHTML={{__html: popup.content}}/>\r\n            {popup.model && cloneElement(children, popup)}\r\n        </Popup>\r\n    )\r\n}\r\n\r\nconst withConnect = connect((state) => {\r\n    return {\r\n        popup: selectors.getCurrentPopup(state)\r\n    }\r\n});\r\n\r\nexport default compose(\r\n    withConnect,\r\n    memo,\r\n)\r\n(PopupWMS)","import { useEffect } from \"react\"\r\nimport {useDispatch, useSelector } from \"@ttungbmt/redux-toolkit\"\r\nimport { selectors, actions as mapActs, useLeaflet } from \"../index\"\r\nimport { uniqid } from \"@ttungbmt/utils\";\r\nimport { getWMSLayers } from \"@ttungbmt/geo\";\r\n\r\nexport function usePopupInfo() {\r\n    const dispatch = useDispatch()\r\n    const {map} = useLeaflet()\r\n    const layers = useSelector(selectors.getLayers)\r\n\r\n    useEffect(() => {\r\n        const showInfo = ({latlng}) => {\r\n            let info = {\r\n                uuid: uniqid(),\r\n                position: [latlng.lat, latlng.lng],\r\n                items: []\r\n            }\r\n\r\n            getWMSLayers(map).map(l => {\r\n                let infoUrl = l.getFeatureInfoUrl(latlng)\r\n                info.items.push({\r\n                    loaded: false,\r\n                    infoUrl,\r\n                    layers: l.options.layers,\r\n                    zIndex: l.options.zIndex,\r\n                    uuid: l.uuid,\r\n                    content: ''\r\n                })\r\n            })\r\n\r\n            dispatch(mapActs.getWMSInfo(info))\r\n        }\r\n\r\n        map.on('click', showInfo)\r\n\r\n        return () => {\r\n            map.off('click', showInfo)\r\n        }\r\n    }, [JSON.stringify(layers)])\r\n\r\n}","import React, { memo, Fragment  } from 'react'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { isEmpty, get } from '@ttungbmt/utils'\r\nimport { LayersControl, selectors as sels } from '../../index'\r\n\r\n\r\nfunction LayersManager() {\r\n    const layersControl = useSelector(sels.getLayersControl)\r\n    const props = useSelector(state => sels.getControl(state, 'layers') || {})\r\n    if (isEmpty(layersControl) || !props || get(props, 'enabled') === false) return <Fragment/>\r\n\r\n    return (\r\n        <LayersControl {...props}>\r\n            {layersControl.map(({wrapper: Wrapper, wrapperProps, layer: Layer, layerProps}, k) => {\r\n                return (\r\n                    <Wrapper key={k} {...wrapperProps} checked={wrapperProps.checked}>\r\n                        <Layer {...layerProps}/>\r\n                    </Wrapper>\r\n                )\r\n            })}\r\n        </LayersControl>\r\n    )\r\n}\r\n\r\nexport default memo(LayersManager)","import React  from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport { geosearch } from 'esri-leaflet-geocoder'\r\n\r\nclass SearchControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return geosearch()\r\n    }\r\n}\r\n\r\nexport default withLeaflet(SearchControl)","import React from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport { Control } from 'leaflet'\r\nimport 'leaflet-fullscreen'\r\n\r\nclass FullscreenControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return new Control.Fullscreen(props)\r\n    }\r\n}\r\n\r\nexport default withLeaflet(FullscreenControl)","import React from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport { Control } from 'leaflet'\r\nimport 'leaflet.locatecontrol'\r\n\r\nclass LocateControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return new Control.Locate(props)\r\n    }\r\n}\r\n\r\n\r\nexport default withLeaflet(LocateControl)","import React from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport { Control } from 'leaflet'\r\nimport 'leaflet.polylinemeasure'\r\n\r\nclass MeasureControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return new Control.PolylineMeasure(props)\r\n    }\r\n}\r\n\r\nexport default withLeaflet(MeasureControl)","import React from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport SideBySide from 'leaflet-side-by-side'\r\n\r\nclass SideBySideControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return new SideBySide(props)\r\n    }\r\n}\r\n\r\nexport default withLeaflet(SideBySideControl)","import React from 'react'\r\nimport { MapControl, withLeaflet } from 'react-leaflet'\r\nimport { Control } from 'leaflet'\r\nimport 'leaflet.polylinemeasure'\r\nimport 'leaflet.polylinemeasure/Leaflet.PolylineMeasure.css'\r\n\r\nclass RulerControl extends MapControl {\r\n    createLeafletElement(props) {\r\n        return new Control.PolylineMeasure(props)\r\n    }\r\n}\r\n\r\nRulerControl.defaultProps = {\r\n    unit: 'metres',\r\n    showClearControl: true,\r\n    showUnitControl: true,\r\n    showBearings: false,\r\n    clearMeasurementsOnStop: true,\r\n\r\n    measureControlTitleOn: 'Bt thc o',\r\n    measureControlTitleOff: 'Tt thc o',\r\n    measureControlLabel: '<i class=\"icon-rulers\"/>',\r\n    clearControlTitle: 'Clear Measurements',\r\n}\r\n\r\nexport default withLeaflet(RulerControl)","import React, { memo, useEffect, useRef } from 'react'\r\nimport { useDidMount, useModal } from '@ttungbmt/react-hooks'\r\nimport { emitter } from '@ttungbmt/redux-toolkit'\r\nimport { Modal, ProgressBar, Button } from \"react-bootstrap\"\r\nimport { useLeaflet } from 'react-leaflet'\r\nimport leafletImage from 'leaflet-image'\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport { useImmer } from 'use-immer'\r\nimport FileSaver from 'file-saver'\r\n\r\nconst {Header, Title, Body, Footer} = Modal\r\n\r\nfunction getCroppedImg(image, pixelCrop) {\r\n\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = pixelCrop.width;\r\n    canvas.height = pixelCrop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(image, pixelCrop.x, pixelCrop.y, pixelCrop.width, pixelCrop.height, 0, 0, pixelCrop.width, pixelCrop.height);\r\n\r\n    return canvas.toDataURL()\r\n}\r\n\r\nfunction ExportMapModal({isOpen, onClose, map, ...props}) {\r\n    const [{loading, src, crop}, setSrc] = useImmer({loading: true, src: null, crop: {unit: '%'}, croppedSrc: null})\r\n    const imageRef = useRef()\r\n\r\n    const onCropChange = crop => setSrc(state => { state.crop = crop })\r\n    const onImageLoaded = image => imageRef.current = image\r\n\r\n    const onSave = () => {\r\n        let croppedImgSrc = (crop.width === 0 && crop.height === 0) ? src : getCroppedImg(imageRef.current, crop)\r\n        FileSaver.saveAs(croppedImgSrc, 'Bando.jpg')\r\n        onClose()\r\n    }\r\n\r\n    useEffect(() => {\r\n        leafletImage(map, function (err, canvas) {\r\n            setSrc(state => {\r\n                state.loading = false\r\n                state.src = canvas.toDataURL()\r\n            })\r\n        })\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Modal show={isOpen} onHide={onClose} dialogClassName=\"modal-export-map-w\">\r\n            <Header className=\"bordered\" closeButton>\r\n                <Title className=\"font-weight-semibold\">\r\n                    Xut bn \r\n                </Title>\r\n            </Header>\r\n\r\n            <Body style={{padding: '12px 0'}}>\r\n            {loading ? (<ProgressBar animated now={100} className=\"m-2\"/>) : (\r\n                <ReactCrop\r\n                    src={src}\r\n                    ruleOfThirds\r\n                    crop={crop}\r\n                    onChange={onCropChange}\r\n                    onImageLoaded={onImageLoaded}\r\n                />\r\n            )}\r\n            </Body>\r\n            <Footer>\r\n                <Button variant=\"secondary\" onClick={onClose}>ng</Button>\r\n                {!loading && <Button variant=\"primary\" onClick={onSave}>Lu file</Button>}\r\n            </Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nfunction ExportMapControl() {\r\n    const {map} = useLeaflet()\r\n\r\n    const [onShow, onHide] = useModal(ExportMapModal, {map})\r\n\r\n    useDidMount(() => {\r\n        emitter.on('exportMap', onShow)\r\n    })\r\n}\r\n\r\nexport default memo(ExportMapControl)","import { map } from 'lodash-es'\r\nimport L from 'leaflet'\r\n\r\nL.Control.Legend = L.Control.extend({\r\n    _map: null,\r\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\r\n    options: {\r\n        position: 'topright',\r\n        legends: [],   // array of legend entries - see README for format\r\n        detectStretched: false,  // if true, will test to see if legend entries look stretched.  These are usually in sets of 3 with the middle element having no label.\r\n        collapsed: true,\r\n        label: 'Legend'\r\n    },\r\n    onAdd: function (map) {\r\n        this._map = map;\r\n        let container = L.DomUtil.create('div', 'leaflet-control leaflet-legend');\r\n        this._container = container;\r\n\r\n        // Disable events on container\r\n        L.DomEvent.disableClickPropagation(container);\r\n        if (!L.Browser.touch) {\r\n            L.DomEvent.disableScrollPropagation(container);\r\n        }\r\n\r\n        this.render();\r\n\r\n        return this._container;\r\n    },\r\n\r\n    // render this.options.entries\r\n    render: function () {\r\n        L.DomUtil.empty(this._container);\r\n        let legends = this.options.legends,\r\n            collapsed = this.options.collapsed,\r\n            className = 'leaflet-legend'\r\n        ;\r\n\r\n        if (!legends) return;\r\n\r\n        let link = L.DomUtil.create('a', className + '-toggle', this._container);\r\n        link.href = '#';\r\n        link.title = 'legend';\r\n        link.innerHTML = this.options.label;\r\n\r\n        if (L.Browser.touch) {\r\n            L.DomEvent.on(link, 'click', L.DomEvent.stop);\r\n            L.DomEvent.on(link, 'click', this.expand, this);\r\n        } else {\r\n            L.DomEvent.on(link, 'focus', this.expand, this);\r\n        }\r\n\r\n        if (collapsed) {\r\n            this._map.on('click', this.collapse, this);\r\n\r\n            if (!L.Browser.android) {\r\n                L.DomEvent.on(this._container, {\r\n                    'mouseover': this.expand,\r\n                    'mouseout': this.collapse\r\n                }, this);\r\n            }\r\n        }\r\n\r\n        let list = L.DomUtil.create('div', className + '-list');\r\n\r\n        legends.forEach(function (legend) {\r\n            let items = legend.items;\r\n            if (legend.visible === false) return null\r\n\r\n            className = 'legend-block';\r\n\r\n            if (this.options.detectStretched) {\r\n                if (items && items.length === 3 && items[0].label !== '' && items[1].label === '' && items[2].label !== '') {\r\n                    legend.type = 'stretched';\r\n                }\r\n            }\r\n\r\n            if (legend.type === 'stretched') {\r\n                className += ' legend-stretched';\r\n            }\r\n\r\n            let block = L.DomUtil.create('div', className, list);\r\n\r\n            if (!items) {\r\n                this._addElement(legend, block);\r\n                return\r\n            }\r\n\r\n            if (legend.label) {\r\n                let closedClass = legend.collapsed === true ? 'closed' : ''\r\n                let header = L.DomUtil.create('h4', closedClass, block);\r\n                L.DomUtil.create('div', 'caret', header);\r\n                L.DomUtil.create('span', null, header).innerHTML = legend.label;\r\n\r\n                L.DomEvent.on(header, 'click', function () {\r\n                    if (L.DomUtil.hasClass(header, 'closed')) {\r\n                        L.DomUtil.removeClass(header, 'closed');\r\n                    }\r\n                    else {\r\n                        L.DomUtil.addClass(header, 'closed');\r\n                    }\r\n                }, this);\r\n            }\r\n            let elementContainer = L.DomUtil.create('div', 'legend-items', block);\r\n\r\n            items.forEach(function (element) {\r\n                if (element.visible === false) return null\r\n\r\n                this._addElement(element, elementContainer);\r\n            }, this);\r\n        }, this);\r\n\r\n        if (!collapsed) {\r\n            this.expand();\r\n        }\r\n\r\n        this._container.appendChild(list)\r\n    },\r\n\r\n    _addElement: function (legend, container) {\r\n        const {label, imageData, imageUrl, color, style, html} = legend\r\n\r\n        let row = L.DomUtil.create('div', 'legend-row', container);\r\n        if (imageData) {\r\n            L.DomUtil.create('img', null, row).src = imageData;\r\n        } else if (imageUrl) {\r\n            let imgbox = L.DomUtil.create('div', 'leaflet-legend-image-url', row);\r\n            imgbox.style.backgroundImage = `url(${imageUrl})`;\r\n            imgbox.style.backgroundSize = '20px';\r\n        } else if (color) {\r\n            let colorbox = L.DomUtil.create('div', 'leaflet-legend-color', row)\r\n            colorbox.style.backgroundColor = color\r\n            map(style, (v, k) => colorbox.style[k] = v)\r\n        } else if (html) {\r\n            L.DomUtil.create('div', 'leaflet-legend-html', row).innerHTML = html;\r\n        }\r\n\r\n        if (!!label) {\r\n            L.DomUtil.create('label', null, row).innerHTML = label;\r\n        }\r\n    },\r\n\r\n    expand: function () {\r\n        L.DomUtil.addClass(this._container, 'leaflet-legend-expanded');\r\n        return this;\r\n    },\r\n\r\n    collapse: function () {\r\n        L.DomUtil.removeClass(this._container, 'leaflet-legend-expanded');\r\n        return this;\r\n    },\r\n});\r\n\r\n\r\nL.control.legend = function (options) {\r\n    return new L.Control.Legend(options);\r\n};\r\n\r\n\r\nexport default L.control.legend","import { MapControl, withLeaflet } from 'react-leaflet'\r\n\r\nimport legendControl from  '../../vendor/leaflet-legend/leaflet-legend'\r\nimport '../../vendor/leaflet-legend/leaflet-legend.css'\r\n\r\nlet legends = [\r\n    {\r\n        \"label\": \"A simple element\",\r\n        // \"imageUrl\": \"https://image.flaticon.com/icons/png/512/361/361890.png\"\r\n        // \"color\": \"red\",\r\n        \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAO5JREFUOI3NlD0OgzAMhd+AIliYsnhHbD4Np+QwnVgjBq4QIeypHarQ0ECBlqFvc5R8evFf1rbtHRcqi4O+7zGO4+bluq4hIhiGIYmZ+QXsug4AYK39CBQR5HmexOE9My8dEhGIaPdbwU1Q0zQQkZdDay2maQIAlGUJY8wuFAC891DVhfMsOAsyxqCqqkNA5xxUdc7p/OU4B78q27/yBTDO4SXAI5U9Bfz/HP6quAaXAOMaXALcnGXgOU7OuUMg731ylgBVFap6yuFqDuMVRkRzvCVmXuzPxT6M++/MxBRFkezP2eF7Ux9p8pX9eXsAPNt0X7NgcsoAAAAASUVORK5CYII=\",\r\n    },\r\n    {\r\n        \"label\": \"A longer legend\",\r\n        // \"collapsed\": true,\r\n        // \"visible\": false,\r\n        \"items\": [{\r\n            \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHJJREFUOI1jYaAyYIExcnJyGigxaMqUKQ1wA3Nychq0VAXrRYS5yDLs/uNPDDk5OQxTpkxpgLtQRJiLQVNNlGwXPn76mQHuQmqCUQNHDRw1cJgZeP/xJ7INefP2G6qBU6ZMacjJyYEXQeQAlAIWWYBSAABjPiDfvMzQCwAAAABJRU5ErkJggg==\",\r\n            \"label\": \"Alabama\",\r\n        }, {\r\n            \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHFJREFUOI3t1CEOgDAQBMATJSGhjmDw8Lr9A/eI/WGDJCCqqEHRUNtWka66nJisWiOVY94DgJZAJDWCAHSZ7m20IQtzZy8AhKTGhqMNss4+u+F+DRIb1kwDG9jAn4Hu7LORw3cpSFIBxAnKSTKw30dpHoqHIAJwBO9uAAAAAElFTkSuQmCC\",\r\n            \"label\": \"Wyoming\"\r\n        }]\r\n    },\r\n];\r\n\r\nclass LegendControl extends MapControl {\r\n    createLeafletElement(props: Object): Object {\r\n        return legendControl(props)\r\n    }\r\n}\r\n\r\nLegendControl.propTypes = {}\r\nLegendControl.defaultProps = {\r\n    position: 'bottomleft',\r\n    label: 'Legend',\r\n    legends: legends,\r\n    collapsed: false,\r\n    detectStretched: true\r\n}\r\n\r\nexport default withLeaflet(LegendControl)","import { AttributionControl, ScaleControl, ZoomControl } from \"../index\";\r\nimport { FullscreenControl, LocateControl, MeasureControl, SearchControl, SideBySideControl, RulerControl, ExportMapControl } from '../components/controls'\r\n\r\nexport const ctrlComps = {\r\n    zoom: ZoomControl,\r\n    scale: ScaleControl,\r\n    attribute: AttributionControl,\r\n    search: SearchControl,\r\n    locate: LocateControl,\r\n    measure: MeasureControl,\r\n    fullscreen: FullscreenControl,\r\n    sidebyside: SideBySideControl,\r\n    ruler: RulerControl,\r\n    exportMap: ExportMapControl\r\n}\r\n","import React, { memo, Fragment  } from 'react'\r\nimport { useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { isEmpty, omit, get, isUndefined } from '@ttungbmt/utils'\r\nimport { selectors as sels } from '../../index'\r\n\r\nimport { fnFormatCtrls } from \"../../utils\";\r\nimport { ctrlComps } from \"../../fixtures/controls.fixture\";\r\n\r\nconst Empty = memo(() => <></>)\r\n\r\nfunction ControlsManager() {\r\n    let ctrls = omit(useSelector(sels.getControls), ['layers'])\r\n    if (isEmpty(ctrls)) return <Fragment/>\r\n\r\n    return fnFormatCtrls(ctrls).filter(v => v.enabled === true || isUndefined(v.enabled)).map(({name, ...props}, k) => {\r\n        let Component = get(ctrlComps, name, Empty)\r\n        return <Component key={k} {...props}/>\r\n    })\r\n}\r\n\r\nexport default memo(ControlsManager)","import {map, isPlainObject } from '@ttungbmt/utils'\r\n\r\nexport function fnFormatCtrls(items) {\r\n    return map(items, (props, name) => ({\r\n        ...(!isPlainObject(props) ? ({enabled: props}) : props),\r\n        name\r\n    }))\r\n}\r\n","import React, { memo, useEffect } from 'react'\r\nimport { useLeaflet } from 'react-leaflet'\r\nimport { emitter, useDispatch, useSelector } from \"@ttungbmt/redux-toolkit\"\r\nimport { selectors as mapSels, actions as mapActs } from '../../index'\r\n\r\nfunction useUpdateZoom(map) {\r\n    const dispatch = useDispatch()\r\n    const zoom = useSelector(mapSels.getZoom)\r\n\r\n    useEffect(() => {\r\n        if(zoom && zoom !== map.getZoom()) dispatch(mapActs.setZoom(map.getZoom()))\r\n\r\n        map.on('zoomend', (e) => dispatch(mapActs.setZoom(e.target.getZoom())))\r\n    }, [])\r\n}\r\n\r\nfunction useUpdateMapSize(map) {\r\n    const updateMapSize = (delay = 0) => setTimeout(() => map.invalidateSize(), delay)\r\n\r\n    useEffect(() => {\r\n        updateMapSize()\r\n        let onResizeSb = emitter.on(`@layout/RESIZE_SIDEBAR`, updateMapSize)\r\n        let onToggleMapFullscreen = emitter.on(`@layout/TOGGLE_MAP_FULLSCREEN`, () => updateMapSize(400))\r\n\r\n        return () => {\r\n            onResizeSb.remove()\r\n            onToggleMapFullscreen.remove()\r\n        }\r\n    }, [])\r\n}\r\n\r\n\r\n\r\nfunction EventsManager() {\r\n    const {map} = useLeaflet()\r\n    useUpdateZoom(map)\r\n    useUpdateMapSize(map)\r\n\r\n\r\n    return <></>\r\n}\r\n\r\nexport default memo(EventsManager)","import React, { memo } from 'react'\r\nimport { connect, compose, createSelector } from '@ttungbmt/redux-toolkit'\r\n\r\nimport { LayersManager, EventsManager, ControlsManager } from './components'\r\nimport { Map,  selectors as mapSels } from './index'\r\n\r\nfunction LeafletContainer({children, mapOptions, loading}) {\r\n    if (loading || !mapOptions.center) return null\r\n\r\n    return (\r\n        <>\r\n            <Map {...mapOptions}>\r\n                <LayersManager/>\r\n                <ControlsManager/>\r\n                <EventsManager/>\r\n                {children}\r\n            </Map>\r\n        </>\r\n    )\r\n}\r\n\r\nconst makeMapOptions = createSelector([mapSels.getConfig, mapSels.getMapOptions], (config, options) => {\r\n    return {\r\n        style: {height: '100%', background: 'white'},\r\n        ...options,\r\n        ...config\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state) => ({\r\n    mapOptions: makeMapOptions(state),\r\n    loading: mapSels.getLoading(state)\r\n})\r\n\r\nconst withConnect = connect(mapStateToProps)\r\n\r\nexport default compose(\r\n    withConnect,\r\n    memo\r\n)(LeafletContainer);\r\n","import React, { memo } from 'react'\r\nimport { Marker as BaseMarker } from 'react-leaflet'\r\nimport L from 'leaflet'\r\n\r\nimport 'leaflet-extra-markers'\r\n\r\nconst getIcon = ({selected}) => {\r\n    let options = {\r\n        icon: 'fa-circle-o',\r\n        markerColor: selected ? 'orange': 'cyan',\r\n        shape: selected ? 'square' : 'circle',\r\n        prefix: 'fa',\r\n    }\r\n\r\n    return L.ExtraMarkers.icon(options)\r\n}\r\n\r\nfunction Marker({children, ...props}) {\r\n    return (\r\n        <BaseMarker icon={getIcon(props)} {...props}>\r\n            {children}\r\n        </BaseMarker>\r\n    )\r\n}\r\n\r\nexport default memo(Marker)","import { GeoJSON as LeafletGeoJSON, type LatLng, type Layer } from 'leaflet'\r\n\r\nimport { withLeaflet, Path } from 'react-leaflet'\r\nimport { isEqual } from '@ttungbmt/utils'\r\n\r\nclass GeoJSON extends Path {\r\n    createLeafletElement(props) {\r\n        return new LeafletGeoJSON(props.data, this.getOptions(props))\r\n    }\r\n\r\n    updateLeafletElement(fromProps, toProps) {\r\n        if (typeof toProps.style === 'function') {\r\n            this.leafletElement.setStyle(toProps.style)\r\n        } else {\r\n            this.setStyleIfChanged(fromProps, toProps)\r\n        }\r\n\r\n        if (!isEqual(toProps.data, this.getPathOptions(fromProps.data))) {\r\n            this.layerContainer.removeLayer(this.leafletElement)\r\n            this.leafletElement = this.createLeafletElement(toProps)\r\n            this.layerContainer.addLayer(this.leafletElement)\r\n        }\r\n    }\r\n}\r\n\r\nexport default withLeaflet(GeoJSON)","module.exports = Vuex;","import React, { memo, useEffect } from 'react'\r\n\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport * as am4plugins_forceDirected from \"@amcharts/amcharts4/plugins/forceDirected\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\nam4core.useTheme(am4themes_animated);\r\n\r\nfunction AmCharts({data}) {\r\n    useEffect(() => {\r\n        let chart = am4core.create('chartdiv', am4plugins_forceDirected.ForceDirectedTree)\r\n        let series = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries())\r\n        series.data = data;\r\n\r\n        series.dataFields.value = \"value\";\r\n        series.dataFields.name = \"id\";\r\n        series.dataFields.children = \"children\";\r\n        series.dataFields.color = \"color\";\r\n\r\n        series.nodes.template.label.text = \"{label}\";\r\n        series.nodes.template.label.truncate = true;\r\n\r\n        series.fontSize = 13;\r\n        series.maxRadius = am4core.percent(6);\r\n        // series.minRadius = 30;\r\n        series.maxRadius = 70;\r\n        series.maxLevels = 1;\r\n        series.nodes.template.tooltipText = \"#{id}: {hoten}\";\r\n        // series.nodes.template.fillOpacity = 0.8;\r\n        // series.events.on(\"hit\", function(ev) {\r\n        //     console.log(ev.target);\r\n        // });\r\n\r\n        series.nodes.template.events.on(\"up\", function (event) {\r\n            // const node = event.target;\r\n            // node.expandAll = false;\r\n        });\r\n\r\n        let hoverState = series.links.template.states.create(\"hover\");\r\n        hoverState.properties.strokeWidth = 3;\r\n        hoverState.properties.strokeOpacity = 1;\r\n\r\n        series.nodes.template.events.on(\"over\", function(event) {\r\n            event.target.dataItem.childLinks.each(function(link) {\r\n                link.isHover = true;\r\n            })\r\n            if (event.target.dataItem.parentLink) {\r\n                event.target.dataItem.parentLink.isHover = true;\r\n            }\r\n\r\n        })\r\n\r\n        series.nodes.template.events.on(\"out\", function(event) {\r\n            event.target.dataItem.childLinks.each(function(link) {\r\n                link.isHover = false;\r\n            })\r\n            if (event.target.dataItem.parentLink) {\r\n                event.target.dataItem.parentLink.isHover = false;\r\n            }\r\n        })\r\n\r\n\r\n        // networkSeries.dataFields.linkWith = \"linkWith\";\r\n        // series.dataFields.name = \"name\";\r\n        // series.dataFields.id = \"name\";\r\n        // series.dataFields.value = \"value\";\r\n        // series.dataFields.children = \"children\";\r\n        //\r\n        // series.nodes.template.tooltipText = \"{name}\";\r\n        // series.nodes.template.fillOpacity = 1;\r\n        //\r\n        // series.nodes.template.label.text = \"{name}\"\r\n        // series.fontSize = 12;\r\n        // networkSeries.maxLevels = 2;\r\n        // networkSeries.maxRadius = am4core.percent(6);\r\n        // networkSeries.manyBodyStrength = -16;\r\n        // networkSeries.nodes.template.label.hideOversized = true;\r\n\r\n        return () => {\r\n            chart && chart.dispose()\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div id=\"chartdiv\" style={{ width: \"100%\", minHeight: 600 }} />\r\n    )\r\n}\r\nAmCharts.defaultProps = {\r\n    data: []\r\n}\r\n\r\nexport default memo(AmCharts)","import React, {memo} from 'react'\r\nimport { get, isEmpty } from '@ttungbmt/utils'\r\nimport { useFetch } from \"@ttungbmt/react-hooks\";\r\nimport arr2tree from 'array-to-tree'\r\nimport AmCharts from \"@core/components/AmCharts\";\r\n\r\nconst getColor = (index) => {\r\n    switch (index) {\r\n        case 0:\r\n            return '#DA251D'\r\n        case 1:\r\n            return '#E7781D'\r\n        case 2:\r\n            return '#00923F'\r\n        case 3:\r\n            return '#0093DD'\r\n        case 4:\r\n            return '#443C92'\r\n        case 5:\r\n            return '#974578'\r\n        default:\r\n            return '#974578'\r\n    }\r\n}\r\n\r\nconst updateValue = (data = [], index = 0) => {\r\n    return data.map(({children, ...d}) => {\r\n        if(children) return {\r\n            ...d,\r\n            label: `F${index} - #${d.id}`,\r\n            color: getColor(index),\r\n            children: updateValue(children, index+1)\r\n        }\r\n\r\n        return {\r\n            label: `F${index} - #${d.id}`,\r\n            color: getColor(index),\r\n            value: 1,\r\n            ...d\r\n        }\r\n    })\r\n}\r\n\r\nfunction TreeChart({data: props}) {\r\n    const {loading, data = []} = useFetch(`/admin/cabenh/get-tree?id=${props.id}`)\r\n\r\n    let chartData = arr2tree(get(data, 'data.related', []), {\r\n        parentProperty: 'parent_id', customID: 'id'\r\n    })\r\n        .filter(c => c.id !== 34)\r\n    // 91, 97, 98, 120, 124, 125, 126, 127, 159, 158, 157,\r\n    let model = get(data, 'data.model')\r\n\r\n\r\n    let chartData1 = [\r\n        {label: 'BUDDHA BAR', color: 'red', value: 2, parent_id: null, id: 0, children: updateValue(chartData)}\r\n    ]\r\n\r\n    // chartData = updateValue(chartData)\r\n\r\n\r\n    console.log(chartData);\r\n\r\n    return (\r\n        <div>\r\n            {loading && 'Loading...'}\r\n            {!isEmpty(chartData) && <AmCharts data={chartData1}/>}\r\n            {model && <div dangerouslySetInnerHTML={{__html: model.mota}} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(TreeChart)","module.exports = L;","import React, { memo } from 'react'\r\nimport { useDispatch } from '@ttungbmt/redux-toolkit'\r\nimport { actions as pcdActs } from 'app/reducers/pcd'\r\n\r\nfunction Pop(props) {\r\n    const dispatch = useDispatch()\r\n    let link = '/admin/cabenh/update?id=' + props.id\r\n\r\n    const onKhoanhvung = () => dispatch(pcdActs.khoanhVung(props))\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> #{props.ma_qg} {props.hoten} (<span className=\"text-capitalize\">{props.phanloai_text}</span>)</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        <li><b>a ch:</b> <span>{props.diachi}</span></li>\r\n                        <li><b>Ni pht hin:</b> <span>{props.noi_ph}</span></li>\r\n                        <li><b>Ngy pht hin:</b> <span>{props.ngay_ph}</span></li>\r\n                        <li><b>Ni lm vic:</b> <span>{props.noilamviec}</span></li>\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tit</a></li>\r\n                        <li className=\"list-inline-item\"><a onClick={onKhoanhvung} target=\"_blank\">Khoanh bng</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import { Util } from 'leaflet'\r\n\r\nfunction getFeatureInfoUrl(layer, latlng, params) {\r\n    const map = layer._map;\r\n    const url = layer._url;\r\n\r\n    let point = map.latLngToContainerPoint(latlng, map.getZoom()),\r\n        size = map.getSize(),\r\n        bounds = map.getBounds().toBBoxString(),\r\n        wmsParams = layer.wmsParams;\r\n\r\n    // var sw = bounds.getSouthWest(),\r\n    //     ne = bounds.getNorthEast(),\r\n    //     sw = crs.projection._proj.forward([sw.lng, sw.lat]),\r\n    //     ne = crs.projection._proj.forward([ne.lng, ne.lat]),\r\n    //     bbox = [sw.join(','), ne.join(',')].join(',');\r\n\r\n    let defaultParams = {\r\n        request: 'GetFeatureInfo',\r\n        service: 'WMS',\r\n        srs: 'EPSG:4326', //layer._crs.code,\r\n        transparent: wmsParams.transparent,\r\n        styles: wmsParams.styles,\r\n        version: wmsParams.version, //layer._wmsVersion,\r\n        env: wmsParams.env,\r\n        viewparams: wmsParams.viewparams,\r\n        format: layer.options.format,\r\n        bbox: bounds,\r\n        height: size.y,\r\n        width: size.x,\r\n        layers: layer.options.layers,\r\n        query_layers: layer.options.layers,\r\n        info_format: 'application/json'\r\n    };\r\n\r\n    params = Util.extend(defaultParams, params || {});\r\n    // Remove undefined field from object\r\n    Object.keys(params).forEach(key => params[key] === undefined ? delete params[key] : '');\r\n\r\n    params[params.version === '1.3.0' ? 'i' : 'x'] = _.round(point.x); // Fix WMS X and Y incorrectly specified\r\n    params[params.version === '1.3.0' ? 'j' : 'y'] = _.round(point.y);\r\n\r\n    return url + Util.getParamString(params, url, true);\r\n}\r\n\r\nexport default getFeatureInfoUrl","import L from 'leaflet'\r\n\r\nfunction getWMSLayers(map) {\r\n    let layer = []\r\n\r\n    map.eachLayer(l => {\r\n        if(l instanceof L.TileLayer.WMS) layer.push(l)\r\n    })\r\n\r\n    let timestamp = (new Date()).getTime(),\r\n        layerOrdered = [];\r\n\r\n    Object.keys(layer).sort().forEach(function(key) {\r\n        layerOrdered[key] = layer[key];\r\n        layerOrdered[key]._timestamp = timestamp\r\n    });\r\n    return layerOrdered\r\n}\r\n\r\nexport default getWMSLayers","import { Buffer } from 'buffer'\r\nimport { isString, parseJSON } from '@ttungbmt/utils'\r\nimport wkx from 'wkx'\r\n\r\nconst toGeometry = (value, type = 'geojson') => {\r\n    let geometry = null\r\n\r\n    switch (type) {\r\n        case 'ewkb':\r\n        case 'wkb':\r\n            value = Buffer.from(value, 'hex');\r\n            geometry = wkx.Geometry.parse(value)\r\n            break;\r\n        case 'geojson':\r\n            if (isString(value)) value = parseJSON(value)\r\n            geometry = wkx.Geometry.parseGeoJSON(value)\r\n            break;\r\n        default:\r\n            // support type: wkt\r\n            geometry = wkx.Geometry.parse(value)\r\n    }\r\n\r\n    return geometry\r\n}\r\n\r\nexport default toGeometry","import toGeometry from './toGeometry'\r\n\r\nconst toGeoJSON = (value, type) => {\r\n    let geometry = toGeometry(value, type)\r\n    if(!geometry) return null\r\n\r\n    return geometry.toGeoJSON()\r\n}\r\n\r\nexport default toGeoJSON","import toGeoJSON from './toGeoJSON'\r\nimport { get, isArray } from '@ttungbmt/utils'\r\nimport { center, getCoords, featureCollection, feature, getGeom } from '@turf/turf'\r\n\r\nfunction toCenter(geom, format = 'latlng') {\r\n    let geometry\r\n\r\n    if(isArray(geom)){\r\n        geometry = featureCollection(geom.map(g => feature(toGeoJSON(g))))\r\n    } else {\r\n        geometry = toGeoJSON(geom)\r\n    }\r\n\r\n    let centerGeo = center(geometry)\r\n    if(format == 'geometry') return getGeom(centerGeo)\r\n\r\n    let coords = getCoords(centerGeo)\r\n    return [get(coords, '1', 0), get(coords, '0', 0)]\r\n}\r\n\r\nexport default toCenter","import { map, isEmpty } from '@ttungbmt/utils'\r\nimport { latLngBounds } from 'leaflet'\r\nimport { feature, getCoords, flip, bboxPolygon, bbox, featureCollection, circle, getType } from '@turf/turf'\r\n\r\nconst pointToCir = (pt, radius = 200) => circle(pt, radius, {units: 'meters'})\r\n\r\nconst toBounds = (items) => {\r\n    if(isEmpty(items)) return null\r\n\r\n    let collection = featureCollection(items.map(i => {\r\n            let item = i.type === 'Feature' ? i : feature(i)\r\n            if (getType(item) === 'Point') {\r\n                item = pointToCir(item)\r\n            }\r\n\r\n            return item\r\n        })),\r\n        bounds = latLngBounds(getCoords(flip(bboxPolygon(bbox(collection))))),\r\n        southWest = map(bounds.getSouthWest()),\r\n        northEast = map(bounds.getNorthEast())\r\n\r\n    if (JSON.stringify(southWest) === JSON.stringify(northEast)) {\r\n        let item = pointToCir(southWest.reverse())\r\n        return toBounds([item])\r\n    }\r\n\r\n    return [southWest, northEast]\r\n}\r\n\r\nexport default toBounds","import React, { memo } from 'react'\r\nimport { useDispatch, useSelector } from '@ttungbmt/redux-toolkit'\r\nimport { actions as odichActs } from '../../reducers/odich'\r\nimport { actions as cabenhActs, selectors as cabenhSels } from '../../reducers/cabenh'\r\n\r\nfunction Pop(props) {\r\n    const dispatch = useDispatch()\r\n    const cabenh = useSelector(state => cabenhSels.getCabenhById(state, props.gid))\r\n    let link = '/sxh/default/update?id=' + props.gid\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> {props.hoten} (<span className=\"text-capitalize\"></span>)</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        <li><b>H tn:</b> <span>{props.hoten}</span></li>\r\n                        <li><b>a ch:</b> <span>{props.diachi} - {props.tenquan} - {props.tenphuong}</span></li>\r\n                        <li><b>Khu ph - T:</b> <span>{props.khupho_to}</span></li>\r\n                        <li><b>Ngy mc bnh:</b> <span>{props.ngaymacbenh}</span></li>\r\n                        <li><b>Ngy xut vin:</b> <span>{props.ngayxuatvien}</span></li>\r\n                        <li><b>Ngy bo co:</b> <span>{props.ngaybaocao}</span></li>\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tit</a></li>\r\n                        <li className=\"list-inline-item\"><a onClick={() => dispatch(odichActs.khoanhVung(props.gid))}>Khoanh\r\n                            vng</a></li>\r\n                        {cabenh && <li className=\"list-inline-item\"><a className=\"text-danger\"\r\n                                                                       onClick={() => dispatch(cabenhActs.deleteCabenhById(props.gid))}><i\r\n                            className=\"icon-bin\"/> Xa</a></li>}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import React, { memo } from 'react'\r\n\r\nfunction getLoaihinhText(props) {\r\n    return `${props.nhom} - ${props.loaihinh}`\r\n}\r\n\r\nfunction Pop(props = {}) {\r\n    let link = '/pt_nguyco/default/update?id=' + props.gid\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\">\r\n                        <div> {props.ten_cs}</div>\r\n                    </a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        <li><b>Tn/ Ngi:</b> <span>{props.ten_cs}</span></li>\r\n                        <li><b>a ch:</b> <span dangerouslySetInnerHTML={{__html: props.diachi}} /> - {props.tenquan} - {props.tenphuong}</li>\r\n                        <li><b>Khu ph - T dn ph:</b> <span>{props.khupho_to}</span></li>\r\n                        <li><b>Nhm - Loi hnh:</b> <span>{getLoaihinhText(props)}</span></li>\r\n                        <li><b>Ngy cp nht:</b> <span>{props.ngaycapnhat}</span></li>\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tit</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)","import React, { memo } from 'react'\r\n\r\nfunction Pop(props = {}) {\r\n    let link = '/sxh/odich/update?id=' + props.gid\r\n\r\n    let items = [\r\n        {title: 'Ngy mc bnh ca u tin', field: 'ngaymacbenh_1'},\r\n        {title: 'Ngy xc nh', field: 'ngayxacdinh'},\r\n        {title: 'Khu ph', field: 'khupho'},\r\n        {title: 'PX', field: 'px'},\r\n        {title: 'QH', field: 'qh'},\r\n        {title: 'Ngy d kin kt thc', field: 'ngaydukienkt'},\r\n        {title: 'Ngy ca gn nht', field: 'ngaymacbenh_last'},\r\n        {title: 'S ca', field: 'soca'},\r\n        {title: 'S ln x l', field: 'solan_xl'},\r\n        {title: 'Tnh trng', field: 'tinhtrang'},\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"pop-wrapper\">\r\n                <div className=\"pop-title text-uppercase\">\r\n                    <a href={link} target=\"_blank\"> dch #{props.id} ({props.soca})</a>\r\n                </div>\r\n                <div className=\"pop-body\">\r\n                    <ul className=\"list-data mb-10\">\r\n                        {items.map(({title, field}, k) => props[field] ? (<li key={k}><b>{title}:</b> <span>{props[field]}</span></li>) : '')}\r\n                    </ul>\r\n                    <ul className=\"list-actions list-inline mb-0 mt-1\">\r\n                        <li className=\"list-inline-item\"><a href={link} target=\"_blank\">Chi tit</a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Pop)"],"sourceRoot":""}