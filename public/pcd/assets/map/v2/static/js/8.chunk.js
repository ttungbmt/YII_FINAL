(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[8],{1178:function(e,t,n){"use strict";var a=n(17),r=n(50),c=n.n(r),o=n(48),l=n(1),i=n.n(l),u=n(1212),m=n(1180),s=(n(1184),function(e){return e?Object(a.k)(e)?e:Object(a.u)(e,(function(e,t){return{value:t,label:e}})):[]}),f=function(e){var t=e.url,n=e.depends,r=e.ajaxSettings,i=e.placeholder,u=void 0===i?"Ch\u1ecdn...":i,s=e.name,f=(Object(o.a)(e,["url","depends","ajaxSettings","placeholder","name"]),Object(m.c)().control);Object(l.useEffect)((function(){if(t&&n){var e=Object(a.h)(f,"fieldsRef.current.".concat(s,".ref"));c()(e).depdrop({depends:n,url:t,loadingText:"\u0110ang t\u1ea3i ...",placeholder:u,emptyMsg:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",ajaxSettings:r})}}),[])};var d=Object(l.memo)((function(e){var t=e.register,n=e.children,r=e.options,c=Object(o.a)(e,["register","children","options"]);f(c);var l=s(r),m=Object(a.x)(c,["ajaxSettings"]);return i.a.createElement(u.a.Control,Object.assign({as:"select",ref:t},m,{defaultValue:c.selected}),l.length>1&&i.a.createElement("option",{value:""},c.placeholder),n,Object(a.u)(l,(function(e,t){var n=e.value,a=e.label;return i.a.createElement("option",{key:t,value:n},a)})))}));n(1185),n(1186),n(1187);var b=Object(l.memo)((function(e){var t=e.register,n=(e.children,Object(o.a)(e,["register","children"]));return function(e,t){var n=e.as,r=e.name,o=Object(m.c)(),i=o.control,u=o.setValue;Object(l.useEffect)((function(){if("datepicker"===n){t.current=Object(a.h)(i,"fields.".concat(r,".ref"));c()(t.current).datepicker({format:"dd/mm/yyyy",todayBtn:"linked",clearBtn:!0,language:"vi",autoclose:!0,todayHighlight:!0}).on("changeDate",(function(e){return u(e.target.value)}))}return function(){"datepicker"===n&&c()(t.current).datepicker("destroy")}}),[])}(n,Object(l.useRef)(n)),i.a.createElement(u.a.Control,Object.assign({ref:t},Object(a.x)(n,["as"])))}));var h=Object(l.memo)((function(e){var t=e.children,n=e.label,a=e.as,r=Object(o.a)(e,["children","label","as"]),c=Object(m.c)().register,l=function(){return i.a.createElement(i.a.Fragment,null)};switch(a){case"select":l=d;break;case"datepicker":case"input":default:l=b}return i.a.createElement(u.a.Group,null,i.a.createElement(u.a.Label,null,n),i.a.createElement(l,Object.assign({register:c},r,{as:a}),t))}));n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return h}));var p=function(e,t){var n=t.control,r=t.register,c=t.setValue;Object(a.u)(e,(function(e,t){Object(a.h)(n,"fieldsRef.current.".concat(t,".ref"))||r(t),c(t,e)}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#btn-submit-form";return c()(e).trigger("click")}},1179:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(187),r=n(38),c=n(48),o=n(1),l=n.n(o),i=n(303),u=n(17),m=n(232),s=n.n(m),f=l.a.createContext(),d={key:null,url:"",page:1,values:{},data:{},filter:"",fields:[]},b={show:!1,loading:!1,forms:{}},h={setLoading:function(e,t){e.loading=t},createForm:function(e,t){var n=t.key,a=Object(c.a)(t,["key"]);e.forms[n]||(e.forms[n]=Object(r.a)({},d,{key:n},a))},nextPage:function(e,t){var n=t.key;Object(c.a)(t,["key"]);e.forms[n].page=e.forms[n].page+1},prevPage:function(e,t){var n=t.key;Object(c.a)(t,["key"]);e.forms[n].page=1===e.forms[n].page?1:e.forms[n].page-1},setShow:function(e,t){e.show=t},setFormData:function(e,t){var n=t.key,a=t.data;n&&a&&(e.forms[n]=Object(r.a)({},e.forms[n],{},a))},setFormValues:function(e,t){var n=t.key,a=t.values;e.forms[n]?e.forms[n].values=a:e.forms[n]=Object(r.a)({},d,{key:n,values:a})},setFormFields:function(e,t){var n=t.key,a=t.fields;e.forms[n].fields=a},refreshData:function(e,t){var n=t.key;e.forms[n].page=1,e.forms[n].values={}}},p=function(e,t){return h[t.type]&&h[t.type](e,t.payload)};t.b=Object(o.memo)((function(e){var t=e.children,n=Object(i.b)(p,b),c=Object(a.a)(n,2),o=c[0],m=c[1],d=Object(u.v)(h,(function(e,t){return function(e){return m({type:t,payload:e})}})),v=function(e){var t=e.actions,n=function(e){var n=e.form;if(n){t.setLoading(!0);var a=Object(r.a)({},n.values,{page:n.page});s.a.get(n.url,{params:a}).then((function(e){var a=e.data;t.setFormData({key:n.key,data:a}),t.setLoading(!1)}))}};return{fetchColumns:function(e){t.setLoading(!0),s.a.get("".concat(e.url,"?columns")).then((function(n){var a=n.data;t.createForm({key:e.key,url:e.url,columns:a.columns,filter:a.form})}))},fetchData:n,fetchForm:function(e,n,a){var r=e.form,c=e.values;r&&(t.setLoading(!0),s.a.post(r.url,c).then((function(e){var n=e.data;t.setFormData({key:r.key,data:n}),a&&a(n),t.setLoading(!1)})))},refreshData:function(e){return n({form:Object(r.a)({},Object(u.A)(e.form,["key","url"]),{page:1})})}}}({actions:d}),g=Object(r.a)({},o,{actions:Object(r.a)({},d,{},v),getForm:function(e){return Object(u.h)(o,"forms.".concat(e),{})}});return l.a.createElement(f.Provider,{value:g},t)}))},1181:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(151),o=n(1168),l=n(1206),i=n(616),u=n(50),m=n.n(u),s=n(17),f=n(265),d=n(1178),b=n(1179);var h=Object(a.memo)((function(e){var t=e.html,n=e.name,u=e.form,h=e.methods,p=Object(a.useContext)(b.a),v=p.show,g=p.actions,j=function(){return m()("#filterForm").find("form")};return Object(c.b)((function(){u.fields&&u.fields.map((function(e){return h.register(e)}))})),Object(c.c)((function(){v&&Object(s.m)(u.fields)&&g.setFormFields({key:n,fields:Object(s.s)(j().inputValues())})}),[v]),r.a.createElement(o.a,{id:"filterForm",show:v,onHide:function(){return g.setShow(!1)},onEntered:function(){var e=h.getValues();j().inputValues(e),m()("#drop-phuong1").on("depdrop:afterChange",(function(t,n,a,r,c){j().inputValues({maphuong:e.maphuong})}))}},r.a.createElement(o.a.Header,{closeButton:!0,style:{padding:"10px 10px",borderBottom:"1px solid #ddd"}},r.a.createElement(o.a.Title,{className:"font-weight-semibold",style:{fontSize:17}},r.a.createElement("i",{className:"icon-filter4 mr-2"})," B\u1ed9 l\u1ecdc")),r.a.createElement(o.a.Body,null,r.a.createElement(f.f,{html:t})),r.a.createElement(o.a.Footer,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{variant:"light",onClick:function(){var e=m()("#filterForm").find("form").get(0);e&&e.reset(),h.reset(),Object(d.c)(),g.setShow(!1)},size:"sm"},"X\xf3a"),r.a.createElement(i.a,{variant:"primary",onClick:function(){Object(d.b)(j().inputValues(),h),Object(d.c)(),g.setShow(!1)},size:"sm"},"L\u1ecdc"))))})),p=n(1212),v=n(1207),g=n(1192),j=n(266);var O=Object(a.memo)((function(e){var t=e.handleSubmit,n=(e.register,e.onSubmit),a=j.b.getCat("dm_quan"),c=j.b.getCat("dm_phuong"),o=function(e){"maquan"===e.target.name?m()("#drop-phuong").on("depdrop:afterChange",(function(e,t,n,a,r){Object(d.c)()})):Object(d.c)()};return r.a.createElement(p.a,{onSubmit:t(n)},r.a.createElement("div",{style:{padding:"10px 10px 0 10px"}},r.a.createElement(v.a,null,r.a.createElement(g.a,{md:6},r.a.createElement(d.a,{id:"drop-quan",as:"select",label:"Qu\u1eadn huy\u1ec7n",name:"maquan",placeholder:"Ch\u1ecdn qu\u1eadn huy\u1ec7n...",onChange:o,options:a})),r.a.createElement(g.a,{md:6},r.a.createElement(d.a,{id:"drop-phuong",as:"select",label:"Ph\u01b0\u1eddng x\xe3",name:"maphuong",placeholder:"Ch\u1ecdn ph\u01b0\u1eddng x\xe3...",options:c,depends:["drop-quan"],onChange:o,url:"/api/dm/phuong?role=true"})))),r.a.createElement("input",{id:"btn-submit-form",type:"submit",className:"d-none"}))})),E=n(1208);var y=Object(a.memo)((function(e){var t=e.form,n=e.name,c=e.methods,o=e.pageQl,l=Object(a.useContext)(b.a).actions,i=[{title:"\u0110\u1ebfn trang qu\u1ea3n l\xfd",icon:"icon-link2",href:o},{title:"B\u1ed9 l\u1ecdc",icon:"icon-filter4",onClick:function(){return l.setShow(!0)}},{title:"T\u1ea3i l\u1ea1i trang",icon:"icon-reset",onClick:function(){c.reset(),l.refreshData({form:t})}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{items:i}),r.a.createElement("div",{className:"ml-auto"},r.a.createElement(f.i,{title:"Trang tr\u01b0\u1edbc"},r.a.createElement("button",{onClick:function(){return l.prevPage({key:n})}},r.a.createElement("i",{className:"icon-square-left"})))),r.a.createElement("div",{className:"align-self-center pl-1 pr-1"},r.a.createElement(E.a,{variant:"success"},t.page)),r.a.createElement("div",null,r.a.createElement(f.i,{title:"Trang ti\u1ebfp theo"},r.a.createElement("button",{onClick:function(){return l.nextPage({key:n})}},r.a.createElement("i",{className:"icon-square-right"})))))})),k=n(1169);var C=Object(a.memo)((function(e){var t=e.items;return r.a.createElement(k.a,{display:"flex",width:"100%"},t.map((function(e,t){var n=e.className,a=e.title,c=e.icon,o=e.onClick,l=e.visible;return(void 0===l||l)&&r.a.createElement("div",{key:t,className:n},r.a.createElement(f.i,{title:a,key:t},r.a.createElement("button",{onClick:o},r.a.createElement("i",{className:c}))))})))})),x=n(48),N=n(212);var F=Object(a.memo)((function(e){var t=e.title,n=e.onClick,a=e.icon,c=e.href,o=e.to,l=(e.link,function(e){e.stopPropagation(),n&&n(e)}),i=r.a.createElement("button",{onClick:l},r.a.createElement("i",{className:a}));return o&&(i=r.a.createElement(N.a,{to:o,onClick:l},r.a.createElement("i",{className:a}))),c&&(i=r.a.createElement("button",{onClick:function(){return window.open(c)}},r.a.createElement("i",{className:a}))),t?r.a.createElement(f.i,{title:t},i):i}));var w=Object(a.memo)((function(e){return e.items.map((function(e,t){var n=e.className,a=Object(x.a)(e,["className"]);return r.a.createElement("div",{className:n,key:t},r.a.createElement(F,a))}))}));n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"a",(function(){return F}))},1182:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(265),o=n(39),l=n.n(o),i=n(17),u=Object(a.memo)((function(e){var t=e.items,n=e.model,a=e.html;return r.a.createElement("div",null,r.a.createElement("div",{className:"font-weight-semibold"},r.a.createElement(c.f,{html:a})),r.a.createElement("ul",{className:"list-inline mt-1"},t.map((function(e,t){var a=e.color,o=e.title,u=e.icon,m=e.href,s=e.visible,f=e.onClick;return r.a.createElement("li",{className:l()("list-inline-item",{color:a}),key:t},s||Object(i.r)(s)?r.a.createElement(c.i,{title:o},m?r.a.createElement("a",{href:Object(i.o)(m)?m(n):m,target:"_blank"},r.a.createElement("i",{className:u})):r.a.createElement("button",{className:"btn-link",onClick:f},r.a.createElement("i",{className:u}))):"")}))))}));t.a=Object(a.memo)((function(e){var t=e.index,n=e.col,a=e.options,o=e.model,l=n.attribute?n.attribute:Object(i.q)(n.value)?n.value:"",m=Object(i.h)(o,l,"");return r.a.createElement("td",null,0===t?r.a.createElement(u,{items:a.items,html:m,model:o}):r.a.createElement(c.f,{html:m}))}))},1183:function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(17);var o=Object(a.memo)((function(e){var t=e.form;return Object(c.m)(t.columns)?r.a.createElement(r.a.Fragment,null):r.a.createElement("thead",null,r.a.createElement("tr",null,t.columns.map((function(e,t){var n=e.label,a=e.width;return r.a.createElement("th",{key:t,style:{width:a}},n)}))))})),l=n(163);function i(){var e=Object(l.a)(["\n    .table-responsive {height: 100%;}\n    .list-inline-item {\n        margin-right: 5px;\n        cursor: pointer;\n        i {font-size: 14px; color: #2196f3}\n        button {outline: none;}\n    }\n"]);return i=function(){return e},e}var u=n(84).b.div(i()),m=n(38),s=n(151),f=n(1118),d=n(1179),b=n(50),h=n.n(b);function p(e){var t=e.children,n=e.form,c=e.style;return Object(s.b)((function(){setTimeout((function(){var e=h()("#sb-body"),t=e.height()-e.find("form").height();e.find(".tb-scrollable").css("max-height",t).freezeTable({scrollable:!0,shadow:!0})}),100)})),r.a.createElement("table",{className:"table table-sm table-bordered",style:Object(m.a)({},c)},r.a.createElement(o,{form:n}),Object(a.cloneElement)(t,{form:n}))}var v=Object(a.memo)((function(e){var t=e.style,n=e.children,c=e.form,o=e.name,l=e.url,i=Object(a.useContext)(d.a),m=i.loading,b=i.actions;return Object(s.b)((function(){c.columns||b.fetchColumns({key:o,url:l})})),Object(s.c)((function(){c.columns&&b.fetchData({form:c})}),[c.page,JSON.stringify(c.values)]),r.a.createElement(u,null,r.a.createElement("div",{className:"table-responsive tb-scrollable"},m?r.a.createElement(f.a,{animated:!0,now:100,className:"m-2"}):c.columns&&r.a.createElement(p,{form:c,style:t},n)))}));n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return v}));var g=function(e){var t=e.recordsFiltered;return t?"(".concat(t,")"):""}},1215:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(17),o=n(151),l=n(1180),i=n(1178),u=n(48),m=(n(265),n(15)),s=n(233),f=n(1182);var d=Object(a.memo)((function(e){var t=e.form,n=Object(m.m)(),a=Object(m.l)(),o=Object(c.h)(t,"columns"),l=Object(c.h)(t,"data");return!l&&Object(c.m)(Object(c.h)(l,"data"))?r.a.createElement(r.a.Fragment,null):r.a.createElement("tbody",null,Object(c.u)(l,(function(e,t){var c=e.cabenhs,l=Object(u.a)(e,["cabenhs"]),i=function(e){return a(s.a.clickOdich({cabenhs:c,props:l,id:0}))},m={items:[{title:"Xem chi ti\u1ebft",color:"text-success",icon:"icon-location4",onClick:function(e){e.stopPropagation(),n.push("/maps/odich/view/0"),i()}},{title:"Ch\u1ec9nh s\u1eeda",color:"text-primary",icon:"icon-pencil7",href:function(e){var t=e.gid;return"/sxh/odich/update?id=".concat(t)}}]};return r.a.createElement("tr",{key:t,onClick:i},o.map((function(e,t){return r.a.createElement(f.a,{key:t,index:t,col:e,options:m,model:l})})))})))})),b=n(1179),h=n(1181),p=n(1183),v="odich";t.default=Object(a.memo)((function(e){var t=e.SidebarLayout,n=e.defaultValues,u=Object(a.useContext)(b.a),m=u.getForm,s=u.actions,f=m(v),g=Object(l.b)({defaultValues:n});return Object(o.b)((function(){f.values&&Object(i.b)(f.values,g)})),r.a.createElement(l.a,g,r.a.createElement(t,{title:"\u1ed4 d\u1ecbch "+Object(p.d)(f),icon:"icon-brain",subTitle:r.a.createElement(h.d,{name:v,form:f,methods:g,pageQl:"/sxh/odich"}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.b,{name:v,form:f,methods:g,html:Object(c.h)(f,"filter","")}),r.a.createElement(h.c,Object.assign({form:f},g,{onSubmit:function(e){return s.setFormValues({key:v,values:e})}})),r.a.createElement(p.b,{name:v,url:"/sxh/maps/ds-odich",form:f,style:{minWidth:1300}},r.a.createElement(d,null)))}))}))}}]);
//# sourceMappingURL=8.chunk.js.map