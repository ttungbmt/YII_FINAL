{"version":3,"sources":["@core/components/Form/Select.js","@core/components/Form/Input.js","@core/components/Form/Field.js","@core/components/Form/index.js","app/main/maps/ContainerProvider.js","app/main/maps/components/FormModal.js","app/main/maps/components/FormSearch.js","app/main/maps/components/NavList.js","app/main/maps/components/SubTitle.js","app/main/maps/components/BtnTool.js","app/main/maps/components/ToolGroup.js","app/main/maps/components/index.js","app/main/maps/views/odich/list/FormSearch.js","app/main/maps/views/odich/list/index.js"],"names":["transOpts","opts","isArray","map","v","k","value","label","useDepDrop","url","depends","ajaxSettings","placeholder","name","control","useFormContext","useEffect","el","get","$","depdrop","loadingText","emptyMsg","memo","register","children","options","props","data","dropProps","omit","Form","Control","as","ref","defaultValue","selected","length","key","setValue","current","datepicker","format","todayBtn","clearBtn","language","autoclose","todayHighlight","on","e","target","useDatepicker","useRef","Select","Input","Group","Label","setFormValues","values","submitForm","selector","trigger","ContainerContext","React","createContext","initForm","page","filter","fields","initialState","show","loading","forms","caseReducer","setLoading","state","payload","createForm","nextPage","prevPage","setShow","setFormData","setFormFields","refreshData","reducer","draft","action","type","useImmerReducer","dispatch","actions","mapValues","fetchFn","acts","fetchData","form","params","axios","then","fetchColumns","p","columns","fetchForm","callback","post","pick","useFetch","getForm","Provider","html","methods","useContext","find","useDidMount","f","useDidUpdate","isEmpty","keys","inputValues","Modal","id","onHide","onEntered","getValues","event","jqXHR","textStatus","maphuong","Header","closeButton","style","padding","borderBottom","Title","className","fontSize","Body","Footer","ButtonGroup","Button","variant","onClick","$form","reset","size","handleSubmit","onSubmit","dm_quan","gt","getCat","dm_phuong","onChange","Row","Col","md","pageQl","items","title","icon","href","Badge","Box","display","width","visible","to","onBtnClick","link","stopPropagation","child","window","open","onReset","Wrapper","styles","div","Item","cabenhs","useDispatch","firstCb","head","lastCb","last","getData","extra","soca","ngaymacbenh_1","ngaymacbenh_last","cx","active","odichActs","clickOdich","redirect","pill","hoten","ngaymacbenh_nv","KEY","SidebarLayout","defaultValues","odichs","useSelector","odichSels","getOdich","useForm","date_from","moment","subtract","date_to","content","ngmacbenh_from","ngmacbenh_to","distance","day1","day2","table","createAutoOD","removeAll","ProgressBar","animated","now","o"],"mappings":"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","file":"static/js/12.chunk.js","sourcesContent":["import React, {memo, useEffect, useState} from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { map, get, isArray, omit } from '@ttungbmt/utils'\r\nimport {  useFormContext  } from \"react-hook-form\"\r\nimport $ from 'jquery'\r\nimport 'dependent-dropdown'\r\n\r\nconst transOpts = (opts) => {\r\n    if(!opts) return []\r\n    if(isArray(opts)) return opts\r\n\r\n    return map(opts, (v, k) => ({value: k, label: v}))\r\n}\r\n\r\nconst useDepDrop = ({url, depends, ajaxSettings, placeholder = 'Chọn...', name, ...props}) => {\r\n    const { control } = useFormContext()\r\n    useEffect(() => {\r\n        if(url && depends){\r\n            let el = get(control, `fieldsRef.current.${name}.ref`)\r\n            $(el).depdrop({\r\n                depends,\r\n                url,\r\n                loadingText: 'Đang tải ...',\r\n                placeholder,\r\n                emptyMsg: 'Không có dữ liệu',\r\n                ajaxSettings\r\n            })\r\n        }\r\n    }, [])\r\n}\r\n\r\nfunction Select({register, children, options, ...props}) {\r\n    useDepDrop(props)\r\n    const data = transOpts(options)\r\n    const dropProps = omit(props, ['ajaxSettings'])\r\n\r\n    return (\r\n        <Form.Control as=\"select\" ref={register} {...dropProps} defaultValue={props.selected}>\r\n            {data.length > 1 && <option value=\"\">{props.placeholder}</option>}\r\n            {children}\r\n            {map(data, ({value, label}, k) => (<option key={k} value={value}>{label}</option>))}\r\n        </Form.Control>\r\n    )\r\n}\r\n\r\nexport default memo(Select)","import React, { memo, useEffect, useRef } from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { get, omit } from '@ttungbmt/utils'\r\nimport $ from 'jquery'\r\nimport { useFormContext } from \"react-hook-form\"\r\nimport 'bootstrap-datepicker'\r\nimport 'bootstrap-datepicker/dist/locales/bootstrap-datepicker.vi.min.js'\r\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css'\r\n\r\nfunction useDatepicker({as, name}, ref) {\r\n    const {control, setValue} = useFormContext()\r\n\r\n    useEffect(() => {\r\n        if (as === 'datepicker') {\r\n            ref.current = get(control, `fields.${name}.ref`)\r\n            let options = {\r\n                    format: \"dd/mm/yyyy\",\r\n                    todayBtn: \"linked\",\r\n                    clearBtn: true,\r\n                    language: \"vi\",\r\n                    autoclose: true,\r\n                    todayHighlight: true\r\n                }\r\n\r\n            $(ref.current).datepicker(options).on('changeDate', e => setValue(e.target.value))\r\n        }\r\n\r\n        return () => {\r\n            if (as === 'datepicker') $(ref.current).datepicker('destroy')\r\n        }\r\n    }, [])\r\n\r\n}\r\n\r\nfunction Input({register, children, ...props}) {\r\n    let ref = useRef(props)\r\n\r\n    useDatepicker(props, ref)\r\n\r\n    return (\r\n        <Form.Control ref={register} {...omit(props, ['as'])}>\r\n        </Form.Control>\r\n    )\r\n}\r\n\r\nexport default memo(Input)","import React, {memo} from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport {  useFormContext  } from \"react-hook-form\"\r\n\r\nimport Select from './Select'\r\nimport Input from \"./Input\";\r\n\r\nfunction Field({children, label, as, ...props}) {\r\n    const { register } = useFormContext()\r\n\r\n    let Control = () => <></>\r\n\r\n    switch (as){\r\n        case 'select':\r\n            Control = Select\r\n            break\r\n        case 'datepicker':\r\n        case 'input':\r\n            Control = Input\r\n            break\r\n        default:\r\n            Control = Input\r\n            break\r\n    }\r\n\r\n\r\n    return (\r\n        <Form.Group>\r\n            <Form.Label>{label}</Form.Label>\r\n            <Control register={register} {...props} as={as}>\r\n                {children}\r\n            </Control>\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default memo(Field)\r\n","import {map, get} from '@ttungbmt/utils'\r\nimport $ from 'jquery'\r\n\r\nexport {default as Field} from './Field'\r\n// export {default as FormProvider, FormContext} from './FormProvider'\r\n\r\nexport const setFormValues = (values, {control, register, setValue}) => {\r\n    map(values, (v, k) => {\r\n        if(!get(control, `fieldsRef.current.${k}.ref`)) register(k)\r\n        setValue(k, v)\r\n    })\r\n}\r\n\r\nexport const submitForm = (selector = '#btn-submit-form') => $(selector).trigger('click')\r\n","import React, { memo } from 'react'\r\nimport { useImmerReducer } from 'use-immer'\r\nimport { mapValues, get, pick } from '@ttungbmt/utils'\r\nimport axios from 'axios'\r\n\r\nexport const ContainerContext = React.createContext()\r\n\r\nconst initForm = {\r\n    key: null,\r\n    url: '',\r\n    page: 1,\r\n    values: {},\r\n    data: {},\r\n    filter: '',\r\n    fields: []\r\n}\r\n\r\nconst initialState = {\r\n    show: false,\r\n    loading: false,\r\n    forms: {\r\n\r\n    }\r\n}\r\n\r\nconst caseReducer = {\r\n    setLoading: (state, payload) => {\r\n        state.loading = payload\r\n    },\r\n    createForm: (state, {key, ...props}) => {\r\n        if(!state.forms[key]) {\r\n            state.forms[key] = {...initForm, key, ...props}\r\n        }\r\n    },\r\n    nextPage: (state, {key, ...props}) => {\r\n        state.forms[key].page = state.forms[key].page + 1\r\n    },\r\n    prevPage: (state, {key, ...props}) => {\r\n        state.forms[key].page = state.forms[key].page === 1 ? 1 : state.forms[key].page -1\r\n    },\r\n    setShow: (state, payload) => {\r\n        state.show = payload\r\n    },\r\n    setFormData: (state, {key, data}) => {\r\n        if(key && data) state.forms[key] = {...state.forms[key], ...data}\r\n    },\r\n    setFormValues: (state, {key, values}) => {\r\n        if(state.forms[key]) {\r\n            state.forms[key].values = values\r\n        } else {\r\n            state.forms[key] = {...initForm, key, values}\r\n        }\r\n    },\r\n    setFormFields: (state, {key, fields}) => {\r\n        state.forms[key].fields = fields\r\n    },\r\n    refreshData: (state, {key}) => {\r\n        state.forms[key].page = 1\r\n        state.forms[key].values = {}\r\n    },\r\n}\r\n\r\nconst reducer = (draft, action) => caseReducer[action.type] && caseReducer[action.type](draft, action.payload)\r\n\r\nfunction useFetch({actions: acts}) {\r\n    const fetchData = ({form}) => {\r\n        if(form) {\r\n            acts.setLoading(true)\r\n            let params = {\r\n                ...form.values,\r\n                page: form.page,\r\n            }\r\n            axios.get(form.url, {params}).then(({data}) => {\r\n                acts.setFormData({key: form.key, data})\r\n                acts.setLoading(false)\r\n            })\r\n        }\r\n    }\r\n\r\n    const fetchColumns = (p) => {\r\n        acts.setLoading(true)\r\n        axios.get(`${p.url}?columns`).then(({data}) => {\r\n            acts.createForm({\r\n                key: p.key,\r\n                url: p.url,\r\n                columns: data.columns,\r\n                filter: data.form\r\n            })\r\n        })\r\n    }\r\n\r\n    const fetchForm = ({form, values}, options, callback) => {\r\n        if(form) {\r\n            acts.setLoading(true)\r\n            axios.post(form.url, values).then(({data}) => {\r\n                acts.setFormData({key: form.key, data})\r\n                callback && callback(data)\r\n                acts.setLoading(false)\r\n            })\r\n        }\r\n    }\r\n\r\n    const refreshData = (p) => fetchData({form: {\r\n        ...pick(p.form, ['key', 'url']),\r\n        page: 1,\r\n    }})\r\n\r\n    return {fetchColumns, fetchData, fetchForm, refreshData}\r\n}\r\n\r\nfunction ContainerProvider({children}) {\r\n    const [state, dispatch] = useImmerReducer(reducer, initialState)\r\n    const actions = mapValues(caseReducer, (v, type) => (payload) => dispatch({type, payload }))\r\n    const fetchFn = useFetch({actions})\r\n\r\n    const value = {\r\n        ...state,\r\n        actions: {\r\n            ...actions,\r\n            ...fetchFn,\r\n        },\r\n        getForm: (key) => get(state, `forms.${key}`, {}),\r\n    }\r\n\r\n    return (\r\n        <ContainerContext.Provider value={value}>\r\n            {children}\r\n        </ContainerContext.Provider>\r\n    )\r\n}\r\n\r\nexport default memo(ContainerProvider)","import React, { memo, useContext } from 'react'\r\nimport { useDidMount, useDidUpdate } from '@ttungbmt/react-hooks'\r\nimport { Modal, ButtonGroup, Button } from 'react-bootstrap'\r\nimport $ from \"jquery\"\r\nimport { keys, isEmpty } from '@ttungbmt/utils'\r\nimport { InnerHTML } from \"@core/components\"\r\n\r\nimport { submitForm, setFormValues } from '@core/components/Form'\r\nimport { ContainerContext } from \"../ContainerProvider\"\r\n\r\nfunction FormModal({html, name: key, form, methods}) {\r\n    const {show, actions: acts} = useContext(ContainerContext)\r\n    const getForm = () => $('#filterForm').find('form')\r\n\r\n    useDidMount(() => {\r\n        form.fields && form.fields.map(f => methods.register(f))\r\n    })\r\n\r\n    useDidUpdate(() => {\r\n        if (show && isEmpty(form.fields)) {\r\n            acts.setFormFields({key, fields: keys(getForm().inputValues())})\r\n        }\r\n    }, [show])\r\n\r\n    const onEntered = () => {\r\n        let values = methods.getValues()\r\n        getForm().inputValues(values)\r\n        $('#drop-phuong1').on('depdrop:afterChange', function (event, id, value, jqXHR, textStatus) {\r\n            getForm().inputValues({maphuong: values.maphuong})\r\n        })\r\n    }\r\n\r\n    const handleFilter = () => {\r\n        setFormValues(getForm().inputValues(), methods)\r\n        submitForm()\r\n        acts.setShow(false)\r\n    }\r\n\r\n    const handleReset = () => {\r\n        let $form = $('#filterForm').find('form').get(0)\r\n        $form && $form.reset()\r\n        methods.reset()\r\n        submitForm()\r\n        acts.setShow(false)\r\n    }\r\n\r\n    return (\r\n        <Modal id=\"filterForm\" show={show} onHide={() => acts.setShow(false)} onEntered={onEntered}>\r\n            <Modal.Header closeButton\r\n                          style={{padding: '10px 10px', borderBottom: '1px solid #ddd'}}>\r\n                <Modal.Title className=\"font-weight-semibold\" style={{fontSize: 17}}><i\r\n                    className=\"icon-filter4 mr-2\"/> Bộ lọc</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <InnerHTML html={html}/>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <ButtonGroup>\r\n                    <Button variant=\"light\" onClick={handleReset} size=\"sm\">\r\n                        Xóa\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={handleFilter} size=\"sm\">\r\n                        Lọc\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default memo(FormModal)","import React, { memo } from 'react'\r\nimport { Row, Col, Form } from 'react-bootstrap'\r\nimport { Field } from '@core/components/Form'\r\nimport { getters as gt } from \"app/Store\"\r\nimport $ from 'jquery'\r\n\r\nimport { submitForm } from '@core/components/Form'\r\n\r\nfunction FormSearch({handleSubmit, register, onSubmit}) {\r\n    let dm_quan = gt.getCat('dm_quan'),\r\n        dm_phuong = gt.getCat('dm_phuong')\r\n\r\n    const onChange = (e) => {\r\n        if(e.target.name === 'maquan') {\r\n            $('#drop-phuong').on('depdrop:afterChange', function(event, id, value, jqXHR, textStatus) {submitForm()})\r\n        } else {\r\n            submitForm()\r\n        }\r\n    }\r\n\r\n    return (\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <div style={{padding: '10px 10px 0 10px'}}>\r\n                    <Row>\r\n                        <Col md={6}>\r\n                            <Field\r\n                                id=\"drop-quan\"\r\n                                as=\"select\"\r\n                                label=\"Quận huyện\"\r\n                                name=\"maquan\"\r\n                                placeholder=\"Chọn quận huyện...\"\r\n                                onChange={onChange}\r\n                                options={dm_quan}\r\n                            />\r\n                        </Col>\r\n                        <Col md={6}>\r\n                            <Field\r\n                                id=\"drop-phuong\"\r\n                                as=\"select\"\r\n                                label=\"Phường xã\"\r\n                                name=\"maphuong\"\r\n                                placeholder=\"Chọn phường xã...\"\r\n                                options={dm_phuong}\r\n                                depends={['drop-quan']}\r\n                                onChange={onChange}\r\n                                url={`/api/dm/phuong?role=true`}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </div>\r\n                <input id=\"btn-submit-form\" type=\"submit\" className=\"d-none\"/>\r\n            </Form>\r\n    )\r\n}\r\n\r\nexport default memo(FormSearch)","import React, { memo, useContext } from 'react'\r\nimport { Tooltip } from '@core/components'\r\nimport { Badge } from 'react-bootstrap'\r\nimport { ContainerContext } from \"../ContainerProvider\";\r\n\r\nimport { ToolGroup } from \"./index\"\r\n\r\nfunction NavList({form, name: key, methods, pageQl}) {\r\n    const {actions: acts} = useContext(ContainerContext)\r\n\r\n    const refreshData = () => {\r\n        methods.reset()\r\n        acts.refreshData({form})\r\n    }\r\n\r\n    const items = [\r\n        {title: 'Đến trang quản lý', icon: 'icon-link2', href: pageQl},\r\n        {title: 'Bộ lọc', icon: 'icon-filter4', onClick: () => acts.setShow(true)},\r\n        {title: 'Tải lại trang', icon: 'icon-reset', onClick: refreshData},\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <ToolGroup items={items}/>\r\n            <div className=\"ml-auto\"><Tooltip title=\"Trang trước\">\r\n                <button onClick={() => acts.prevPage({key})}><i className=\"icon-square-left\"/></button>\r\n            </Tooltip></div>\r\n            <div className=\"align-self-center pl-1 pr-1\">\r\n                <Badge variant=\"success\">{form.page}</Badge>\r\n            </div>\r\n            <div><Tooltip title=\"Trang tiếp theo\">\r\n                <button onClick={() => acts.nextPage({key})}><i className=\"icon-square-right\"/></button>\r\n            </Tooltip></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(NavList)","import React, { memo } from 'react'\r\nimport { Tooltip } from '@core/components'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nfunction SubTitle({items}) {\r\n    return (\r\n        <Box display=\"flex\" width=\"100%\">\r\n            {items.map(({className, title, icon, onClick, visible = true}, k) => visible && (\r\n                <div key={k} className={className}>\r\n                    <Tooltip title={title} key={k}>\r\n                        <button onClick={onClick}>\r\n                            <i className={icon}/>\r\n                        </button>\r\n                    </Tooltip>\r\n                </div>\r\n            ))}\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default memo(SubTitle)","import React, {memo} from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { Tooltip } from '@core/components'\r\n\r\nfunction BtnTool({title, onClick, icon, href, to, link}) {\r\n    let onBtnClick = (e) => {\r\n        e.stopPropagation()\r\n        onClick && onClick(e)\r\n    }\r\n\r\n    let child = <button onClick={onBtnClick}><i className={icon}/></button>\r\n    if(to) child = <Link to={to} onClick={onBtnClick}><i className={icon}/></Link>\r\n    if(href) child = <button onClick={() => window.open(href)}><i className={icon}/></button>\r\n\r\n    if(title) return <Tooltip title={title}>{child}</Tooltip>\r\n\r\n    return child\r\n}\r\n\r\nexport default memo(BtnTool)","import React, { memo } from 'react'\r\nimport BtnTool from \"./BtnTool\"\r\nimport { Tooltip } from '@core/components'\r\n\r\nfunction ToolGroup({items}) {\r\n    return items.map(({className, ...props}, k) => (\r\n        <div className={className} key={k}>\r\n            <BtnTool {...props}/>\r\n        </div>\r\n    ))\r\n}\r\n\r\nexport default memo(ToolGroup)","export {default as FormModal} from './FormModal'\r\nexport {default as FormSearch} from './FormSearch'\r\nexport {default as NavList} from './NavList'\r\nexport {default as SubTitle} from './SubTitle'\r\nexport {default as ToolGroup} from './ToolGroup'\r\nexport {default as BtnTool} from './BtnTool'","import React, { memo } from 'react'\r\nimport { Row, Col, Form } from 'react-bootstrap'\r\nimport { Field, submitForm } from '@core/components/Form'\r\nimport { Button, BtnSubmit } from \"@core/components\"\r\n\r\nimport { getters as gt } from \"app/Store\"\r\n\r\nfunction FormSearch({handleSubmit, register, onSubmit, onReset, loading}) {\r\n    let dm_quan = gt.getCat('dm_quan'),\r\n        dm_phuong = gt.getCat('dm_phuong')\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmit)}>\r\n            <div style={{padding: '10px 10px 0 10px'}}>\r\n                <Row>\r\n                    <Col md={6}>\r\n                        <Field\r\n                            id=\"drop-quan\"\r\n                            as=\"select\"\r\n                            label=\"Quận huyện\"\r\n                            name=\"maquan\"\r\n                            placeholder=\"Chọn quận huyện...\"\r\n                            options={dm_quan}\r\n                        />\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <Field\r\n                            id=\"drop-phuong\"\r\n                            as=\"select\"\r\n                            label=\"Phường xã\"\r\n                            name=\"maphuong\"\r\n                            placeholder=\"Chọn phường xã...\"\r\n                            options={dm_phuong}\r\n                            depends={['drop-quan']}\r\n                            url={`/api/dm/phuong?role=true`}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={6}>\r\n                        <Field as=\"datepicker\" label=\"Thời gian\" name=\"date_from\" placeholder=\"Từ ngày\"/>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <Field as=\"datepicker\" label=\"&nbsp;\" name=\"date_to\" placeholder=\"Đến ngày\"/>\r\n                    </Col>\r\n                </Row>\r\n                <div className=\"text-right\">\r\n                    <Button variant=\"contained\" className=\"mr-1\" onClick={onReset}>Xóa</Button>\r\n                    <BtnSubmit id=\"btn-submit-form\" type=\"submit\" loading={loading}>Tìm kiếm</BtnSubmit>\r\n                </div>\r\n            </div>\r\n            <div className=\"clearfix\"/>\r\n            <hr className=\"m-2\"/>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default memo(FormSearch)","import React, { memo, useContext } from 'react'\r\nimport { useDispatch, useSelector, useDidMount } from \"@ttungbmt/react-hooks\";\r\nimport { actions as odichActs, selectors as odichSels } from 'app/reducers/odich'\r\nimport { FormContext, useForm } from \"react-hook-form\"\r\nimport { get, head, last } from '@ttungbmt/utils'\r\nimport { Badge, ProgressBar } from 'react-bootstrap'\r\nimport Box from '@material-ui/core/Box'\r\nimport styles from 'styled-components'\r\nimport cx from 'classnames'\r\nimport { BtnTool } from \"../../../components\";\r\nimport FormSearch from \"./FormSearch\"\r\nimport { ContainerContext } from \"../../../ContainerProvider\";\r\nimport { setFormValues } from '@core/components/Form'\r\n\r\nimport moment from 'app/utils/moment'\r\n\r\nconst Wrapper = styles.div`\r\n    .row-item {\r\n        cursor: pointer;\r\n        border-bottom: 1px solid #dfdfdf;\r\n        &:hover {background: hsla(0, 0%, 92%, 0.8)};\r\n        &.active {background: #ffeee8}\r\n        > div {\r\n            padding: 10px 7px;\r\n        }\r\n        .divider { padding: 10px 0; }\r\n        .info-soca { width: 32px;};\r\n    }\r\n`\r\n\r\nconst Item = memo(({id, selected, cabenhs, ...props}) => {\r\n    const dispatch = useDispatch()\r\n    let firstCb = head(cabenhs) || {},\r\n        lastCb = last(cabenhs) || {}\r\n\r\n    const getData = (extra) => ({\r\n        ...extra,\r\n        id,\r\n        props: {\r\n            soca: cabenhs.length,\r\n            ngaymacbenh_1: get(head(cabenhs), 'ngaymacbenh_nv'),\r\n            ngaymacbenh_last: get(last(cabenhs), 'ngaymacbenh_nv')\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Box display=\"flex\" className={cx('row-item', {active: selected})} onClick={() => dispatch(odichActs.clickOdich(getData()))}>\r\n            <Box><Badge variant=\"primary\">{id}</Badge></Box>\r\n            <Box><BtnTool title={'Xem chi tiết'} icon=\"icon-eye8\" onClick={() => dispatch(odichActs.clickOdich(getData({redirect: '/maps/odich/view/' + id})))}/></Box>\r\n            <Box display=\"flex\">\r\n                <Box>\r\n                    <div className=\"info-soca\"><Badge pill variant=\"success\">{cabenhs.length}</Badge></div>\r\n                </Box>\r\n                <Box>\r\n                    <div className=\"font-weight-semibold\">{firstCb.hoten}</div>\r\n                    <div className=\"text-muted\">{firstCb.ngaymacbenh_nv}</div>\r\n                </Box>\r\n\r\n            </Box>\r\n            <Box className=\"divider\">|</Box>\r\n            <Box>\r\n                <div>{lastCb.hoten}</div>\r\n                <div className=\"text-muted\">{lastCb.ngaymacbenh_nv}</div>\r\n            </Box>\r\n        </Box>\r\n    )\r\n})\r\n\r\nconst KEY = 'odich_auto'\r\n\r\nfunction OdichListPage({SidebarLayout, defaultValues}) {\r\n    const dispatch = useDispatch()\r\n    const {getForm, actions: acts, loading} = useContext(ContainerContext)\r\n    const form = getForm(KEY)\r\n\r\n    const odichs = (useSelector(odichSels.getOdich) || []).filter(({id}) => id)\r\n\r\n    const methods = useForm({\r\n        defaultValues: {\r\n            ...defaultValues,\r\n            date_from: moment().subtract(3, 'months').format('L'),\r\n            date_to: moment().format('L'),\r\n        }\r\n    })\r\n\r\n    useDidMount(() => {\r\n        if (form.values) setFormValues(form.values, methods)\r\n    })\r\n\r\n    const onSubmit = values => {\r\n        acts.setFormValues({key: KEY, values})\r\n        acts.fetchForm({\r\n            form: {url: '/api/odich/tim-odich?table=cabenh_sxh'}, values: {\r\n                ...values,\r\n                ngmacbenh_from: values.date_from,\r\n                ngmacbenh_to: values.date_to,\r\n                distance: 200,\r\n                day1: 14,\r\n                day2: 30,\r\n                table: 'cabenh_sxh',\r\n            }\r\n        }, {}, (data) => {\r\n            dispatch(odichActs.createAutoOD(data))\r\n        })\r\n    }\r\n\r\n    const onReset = () => {\r\n        dispatch(odichActs.removeAll())\r\n    }\r\n\r\n\r\n    return (\r\n        <FormContext {...methods} >\r\n            <SidebarLayout\r\n                title={`Danh sách ổ dịch (${odichs.length})`}\r\n                icon={`icon-list-numbered`}\r\n                content={(\r\n                    <>\r\n                        <Wrapper>\r\n                            <FormSearch form={form} {...methods} onSubmit={onSubmit} onReset={onReset} loading={loading}/>\r\n                            {loading ? <ProgressBar className=\"m-2\" animated now={100}/> : odichs.map((o, k) => <Item key={k} {...o}/>) }\r\n                        </Wrapper>\r\n                    </>\r\n                )}\r\n            >\r\n            </SidebarLayout>\r\n        </FormContext>\r\n\r\n    )\r\n}\r\n\r\nexport default memo(OdichListPage)"],"sourceRoot":""}