(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[150],{1388:function(e,t,a){"use strict";a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return k}));var n=a(23),c=a(0),r=a.n(c),o=(a(5),a(1146)),l=(a(3),a(2),a(7),a(1166)),i=a(47),s=a(1277),u=(a(1316),a(419)),m=(a(81),a(1304)),b=(a(105),a(39),a(190),a(225),a(226),a(1365)),d=a(1280),p=a(1224),f=a(1225),O=a(221),j=function(e){return"date"===e||"year"===e?"date":"time"},h=Object(l.a)((function(e){var t="light"===e.palette.type?e.palette.primary.main:e.palette.background.default;return{tabs:{color:e.palette.getContrastText(t),backgroundColor:t}}}),{name:"MuiPickerDTTabs"}),v=function(e){var t=e.view,a=e.onChange,n=e.dateRangeIcon,r=e.timeIcon,o=h(),l="light"===Object(i.a)().palette.type?"secondary":"primary";return Object(c.createElement)(O.a,null,Object(c.createElement)(f.a,{variant:"fullWidth",value:j(t),onChange:function(e,n){n!==j(t)&&a("date"===n?"date":"hours")},className:o.tabs,indicatorColor:l},Object(c.createElement)(p.a,{value:"date",icon:Object(c.createElement)(c.Fragment,null,n)}),Object(c.createElement)(p.a,{value:"time",icon:Object(c.createElement)(c.Fragment,null,r)})))};v.defaultProps={dateRangeIcon:Object(c.createElement)((function(e){return r.a.createElement(u.a,e,r.a.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}),null),timeIcon:Object(c.createElement)((function(e){return r.a.createElement(u.a,e,r.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))}),null)};var g=Object(l.a)((function(e){return{toolbar:{paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"}}}),{name:"MuiPickerDTToolbar"}),x=function(e){var t=e.date,a=e.openView,n=e.setOpenView,r=e.ampm,l=e.hideTabs,u=e.dateRangeIcon,m=e.timeIcon,p=e.onChange,f=Object(o.c)(),O=g(),j=!l&&"undefined"!==typeof window&&window.innerHeight>667,h=Object(b.b)(t,r,p),x=h.meridiemMode,y=h.handleMeridiemChange,C="rtl"===Object(i.a)().direction;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(s.b,{isLandscape:!1,className:O.toolbar},Object(c.createElement)(d.a,{container:!0,justify:"center",wrap:"nowrap"},Object(c.createElement)(d.a,{item:!0,container:!0,xs:5,justify:"flex-start",direction:"column"},Object(c.createElement)("div",null,Object(c.createElement)(s.c,{variant:"subtitle1",onClick:function(){return n("year")},selected:"year"===a,label:f.getYearText(t)})),Object(c.createElement)("div",null,Object(c.createElement)(s.c,{variant:"h4",onClick:function(){return n("date")},selected:"date"===a,label:f.getDateTimePickerHeaderText(t)}))),Object(c.createElement)(d.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"flex-end",direction:C?"row-reverse":"row"},Object(c.createElement)(s.c,{variant:"h3",onClick:function(){return n("hours")},selected:"hours"===a,label:f.getHourText(t,r)}),Object(c.createElement)(s.f,{variant:"h3",label:":",className:O.separator}),Object(c.createElement)(s.c,{variant:"h3",onClick:function(){return n("minutes")},selected:"minutes"===a,label:f.getMinuteText(t)})),r&&Object(c.createElement)(d.a,{item:!0,container:!0,xs:1,direction:"column",justify:"flex-end"},Object(c.createElement)(s.c,{variant:"subtitle1",selected:"am"===x,label:f.getMeridiemText("am"),onClick:function(){return y("am")}}),Object(c.createElement)(s.c,{variant:"subtitle1",selected:"pm"===x,label:f.getMeridiemText("pm"),onClick:function(){return y("pm")}})))),j&&Object(c.createElement)(v,{dateRangeIcon:u,timeIcon:m,view:a,onChange:n}))};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},m.b,{wider:!0,orientation:"portrait",openTo:"date",views:["year","date","hours","minutes"]});function w(e){var t=Object(o.c)();if("portrait"!==e.orientation)throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return{getDefaultFormat:function(){return Object(s.h)(e.format,e.ampm,{"12h":t.dateTime12hFormat,"24h":t.dateTime24hFormat})}}}var N=Object(s.g)({useOptions:w,Input:s.d,useState:s.i,DefaultToolbarComponent:x}),k=Object(s.g)({useOptions:w,Input:s.a,useState:s.e,DefaultToolbarComponent:x,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});N.defaultProps=C,k.defaultProps=C},1692:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),i=(n=l)&&n.__esModule?n:{default:n};var s={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.reCalculateColumnCount=a.reCalculateColumnCount.bind(a),a.reCalculateColumnCountDebounce=a.reCalculateColumnCountDebounce.bind(a);var n=void 0;return n=a.props.breakpointCols&&a.props.breakpointCols.default?a.props.breakpointCols.default:parseInt(a.props.breakpointCols)||2,a.state={columnCount:n},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!==("undefined"===typeof t?"undefined":r(t))&&(t={default:parseInt(t)||2});var a=1/0,n=t.default||2;for(var c in t){var o=parseInt(c);o>0&&e<=o&&o<a&&(a=o,n=t[c])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),a=[].concat(this.props.children||[]),n=0;n<a.length;n++){var c=n%e;t[c]||(t[c]=[]),t[c].push(a[n])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,a=e.columnAttrs,n=void 0===a?{}:a,r=e.columnClassName,o=this.itemsInColumns(),l=100/o.length+"%",s=r;"string"!==typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof s&&(s="my-masonry-grid_column"));var u=c({},t,n,{style:c({},n.style,{width:l}),className:s});return o.map((function(e,t){return i.default.createElement("div",c({},u,{key:t}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,t=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),n=t;return"string"!==typeof t&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof t&&(n="my-masonry-grid")),i.default.createElement("div",c({},a,{className:n}),this.renderColumns())}}]),t}(i.default.Component);u.defaultProps=s,t.default=u},2974:function(e,t,a){"use strict";a.r(t);var n,c=a(189),r=a(258),o=a(0),l=a.n(o),i=a(6),s=a(1205),u=a(22),m=a(16),b=a.n(m),d=a(37),p=a(13),f=a(51),O=a.n(f),j=Object(p.b)("notesApp/labels/getLabels",Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/notes-app/labels");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),h=Object(p.b)("notesApp/labels/updateLabels",function(){var e=Object(d.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/notes-app/update-labels",{labels:Object.values(t)});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(p.c)({}),g=v.getSelectors((function(e){return e.notesApp.labels})),x=g.selectAll,y=g.selectEntities,C=(g.selectById,Object(p.d)({name:"notesApp/labels",initialState:v.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:function(e,t){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,t){e.labelsDialogOpen=!1}},extraReducers:(n={},Object(u.a)(n,j.fulfilled,v.setAll),Object(u.a)(n,h.fulfilled,v.setAll),n)})),w=C.actions,N=w.openLabelsDialog,k=w.closeLabelsDialog,S=C.reducer,D=a(14),I=a(151),E=a(9),z=a(547),A=a(399),T=a(574),L=a(1129),P=a(1130),_=a(169),M=a(34);var F=function(e){var t=e||{};return{id:t.id||M.a.generateGUID(),name:t.name||"",get handle(){return M.a.handleize(this.name)}}},H=a(3),R=a(1);var W=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.notesApp.labels.entities})),n=Object(o.useState)(a),c=Object(D.a)(n,2),r=c[0],s=c[1],u=Object(I.c)({name:""}),m=u.form,b=u.handleChange,d=u.resetForm;Object(o.useEffect)((function(){s(a)}),[a]);var p=Object(I.a)((function(e){t(h(e))}),600);function f(){return""===m.name}return Object(o.useEffect)((function(){r&&!E.a.isEqual(r,a)&&p(r)}),[p,a,r]),Object(R.a)(l.a.Fragment,null,Object(R.a)(_.a,{className:"text-16 mb-8 font-600"},"Edit Labels"),Object(R.a)(L.a,{dense:!0},Object(R.a)("form",{onSubmit:function(e){if(e.preventDefault(),!f()){var t=new F(m);s(E.a.setIn(r,t.id,t)),d()}}},Object(R.a)(P.a,{className:"p-0 mb-16",dense:!0},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"add"),Object(R.a)(T.a,{className:Object(H.default)("flex flex-1 mx-8"),name:"name",value:m.name,onChange:b,placeholder:"Create new label"}),Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",disabled:f(),type:"submit"},Object(R.a)(z.a,{fontSize:"small"},"check")))),Object(o.useMemo)((function(){return Object.entries(r).map((function(e){var t=Object(D.a)(e,2),a=(t[0],t[1]);return Object(R.a)(P.a,{className:"p-0",key:a.id,dense:!0},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"label"),Object(R.a)(T.a,{className:Object(H.default)("flex flex-1 mx-8"),name:"name",value:a.name,onChange:function(e){return function(e,t){var a=new F(E.a.setIn(t,e.target.name,e.target.value));s(E.a.setIn(r,a.id,a))}(e,a)},disableUnderline:!0}),Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(e){return function(e){s(E.a.omit(r,[e.id]))}(a)}},Object(R.a)(z.a,{fontSize:"small"},"delete")))}))}),[r])))};var U=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.notesApp.labels.labelsDialogOpen}));return Object(R.a)(s.a,{classes:{paper:"w-full max-w-320 p-16 m-24 rounded-8"},onClose:function(e){return t(k())},open:a},Object(R.a)(W,null))},B=a(20),V=a(1132),q=a(35),Y=a(1170),G=a(1212),J=a(1171);var K=function(e){var t=e||{};return{id:t.id||M.a.generateGUID(),title:t.title||"",description:t.description||"",archive:t.archive||!1,image:t.image||"",time:t.time||null,reminder:t.reminder||null,checklist:t.checklist||[],labels:t.labels||[]}},Q=a(8),X=a(1178),Z=a(31);var $=function(e){var t=Object(i.d)(y);if(!t)return null;var a=t[e.id];if(!a)return null;var n=e.linkable?{component:Z.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id)}:{};return Object(R.a)(X.a,Object(B.a)({},n,{label:a.name,classes:Object(Q.a)({root:Object(H.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}))},ee=a(120),te=a.n(ee);var ae=function(e){return e.date?Object(R.a)(X.a,{icon:Object(R.a)(z.a,{className:"text-16"},"access_time"),label:te()(e.date).format("MMM DD YY, h:mm A"),classes:Object(Q.a)({root:Object(H.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}):null},ne=a(52),ce=a(18);var re=function(e){var t=e||{};return{id:t.id||M.a.generateGUID(),checked:t.checked||!1,text:t.text||""}};var oe=function(e){var t=Object(I.c)({text:""}),a=t.form,n=t.handleChange,c=t.resetForm;function r(){return""===a.text}return Object(R.a)("form",{onSubmit:function(t){t.preventDefault(),r()||(e.onListItemAdd(new re(a)),c())}},Object(R.a)(P.a,{className:"p-0",dense:!0},Object(R.a)(A.a,{className:"w-32 h-32 p-0 -mx-4","aria-label":"Add",type:"submit",disabled:r()},Object(R.a)(z.a,{fontSize:"small"},"add")),Object(R.a)(T.a,{className:"flex flex-1 px-8",name:"text",value:a.text,onChange:n,placeholder:"Add an item",disableUnderline:!0,autoFocus:!0})))},le=a(1176);var ie=function(e){function t(t){e.onListItemChange(E.a.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?Object(R.a)(P.a,{className:"p-0",key:e.item.id,dense:!0},Object(R.a)(le.a,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),Object(R.a)(T.a,{className:Object(H.default)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)}},Object(R.a)(z.a,{fontSize:"small"},"delete"))):null};var se=function(e){function t(t){e.onCheckListChange(e.checklist.map((function(e){return e.id===t.id?t:e})))}function a(t){e.onCheckListChange(e.checklist.filter((function(e){return e.id!==t})))}return e.checklist?Object(R.a)("div",{className:e.className},Object(R.a)(L.a,{dense:!0},e.checklist.map((function(e){return Object(R.a)(ie,{item:e,key:e.id,onListItemChange:t,onListItemRemove:a})})),Object(R.a)(oe,{onListItemAdd:function(t){e.onCheckListChange([].concat(Object(ce.a)(e.checklist),[t]))}}))):null},ue=a(1123),me=a(1173),be=a(1127);var de=function(e){var t=Object(i.d)((function(e){return e.notesApp.labels.entities})),a=Object(o.useState)(null),n=Object(D.a)(a,2),c=n[0],r=n[1];function l(){r(null)}return Object(R.a)("div",null,Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),r(e.currentTarget)}},Object(R.a)(z.a,{fontSize:"small"},"label")),Object(R.a)(be.a,{hideBackdrop:!0,open:Boolean(c),anchorEl:c,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"}},Object(R.a)(ue.a,{onClickAway:l},Object(R.a)(L.a,{className:"p-0"},Object.entries(t).map((function(t){var a=Object(D.a)(t,2),n=(a[0],a[1]);return Object(R.a)(P.a,{key:n.id,button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(E.a.xor(e.note.labels,[t]));var t}},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},e.note.labels.includes(n.id)?"check_box":"check_box_outline_blank"),Object(R.a)(me.a,{className:"truncate px-8",primary:n.name,disableTypography:!0}))}))))))},pe=a(1450),fe=a(1146),Oe=a(1388);var je=function(e){var t=Object(o.useState)(!1),a=Object(D.a)(t,2),n=a[0],c=a[1],r=new Date(e.reminder);return Object(R.a)(l.a.Fragment,null,Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return c(!0)}},Object(R.a)(z.a,{fontSize:"small"},"notifications_active")),Object(R.a)(fe.a,{utils:pe.default},Object(R.a)(Oe.a,{className:"hidden",open:n,onOpen:function(){return c(!0)},onClose:function(){return c(!1)},clearable:!0,showTodayButton:!0,disablePast:!0,value:r,onChange:e.onChange,DialogProps:{className:"prevent-add-close"}})))};var he=function(e){return Object(R.a)(l.a.Fragment,null,Object(R.a)("label",{htmlFor:"button-file"},Object(R.a)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:e.onChange}),Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",component:"span"},Object(R.a)(z.a,{fontSize:"small"},"image"))))};function ve(e){var t=Object(o.useState)(!1),a=Object(D.a)(t,2),n=a[0],c=a[1],r=Object(ne.j)(),i=Object(I.c)(E.a.merge({},new K,e.note,r.labelId?{labels:[r.labelId]}:null,"archive"===r.id?{archive:!0}:null)),s=i.form,u=i.handleChange,m=i.setForm,b=e.onChange;function d(t){e.onCreate&&e.onCreate(s)}function p(){return""===s.title&&""===s.image&&""===s.description&&0===s.checklist.length}return Object(I.e)((function(){s&&b&&b(s)}),[s,b]),s?Object(R.a)("div",{className:"flex flex-col w-full"},Object(R.a)(q.a,{className:"flex flex-auto w-full max-h-640"},Object(R.a)("div",{className:"w-full"},s.image&&""!==s.image&&Object(R.a)("div",{className:"relative"},Object(R.a)("img",{src:s.image,className:"w-full block",alt:"note"}),Object(R.a)(G.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:function(){m(E.a.setIn(s,"image",""))}},Object(R.a)(z.a,{fontSize:"small"},"delete"))),Object(R.a)("div",{className:"p-16 pb-12"},Object(R.a)(T.a,{className:"font-bold",placeholder:"Title",type:"text",name:"title",value:s.title,onChange:u,disableUnderline:!0,fullWidth:!0})),Object(R.a)("div",{className:"p-16 pb-12"},Object(R.a)(T.a,{placeholder:"Take a note...",multiline:!0,rows:"4",name:"description",value:s.description,onChange:u,disableUnderline:!0,fullWidth:!0,autoFocus:!0})),(s.checklist.length>0||n)&&Object(R.a)("div",{className:"px-16"},Object(R.a)(se,{checklist:s.checklist,onCheckListChange:function(e){m(E.a.setIn(s,"checklist",e))}})),(s.labels||s.reminder||s.time)&&Object(R.a)("div",{className:"flex flex-wrap w-full p-16 pb-12 -mx-4"},s.reminder&&Object(R.a)(ae,{className:"mt-4 mx-4",date:s.reminder}),s.labels&&s.labels.map((function(e){return Object(R.a)($,{id:e,key:e,className:"mt-4 mx-4",onDelete:function(){return function(e){m(E.a.setIn(s,"labels",s.labels.filter((function(t){return t!==e}))))}(e)}})})),s.time&&Object(R.a)(_.a,{color:"textSecondary",className:"text-12 mt-8 mx-4"},"Edited: ",te()(s.time).format("MMM DD YY, h:mm A"))))),Object(R.a)("div",{className:"flex flex-auto justify-between items-center h-48"},Object(R.a)("div",{className:"flex items-center px-4"},Object(R.a)(J.a,{title:"Remind me",placement:"bottom"},Object(R.a)("div",null,Object(R.a)(je,{reminder:s.reminder,onChange:function(e){m(E.a.setIn(s,"reminder",e))}}))),Object(R.a)(J.a,{title:"Add image",placement:"bottom"},Object(R.a)("div",null,Object(R.a)(he,{onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsBinaryString(t),a.onload=function(){m(E.a.setIn(s,"image","data:".concat(t.type,";base64,").concat(btoa(a.result))))},a.onerror=function(){console.log("error on load image")}}}}))),Object(R.a)(J.a,{title:"Add checklist",placement:"bottom"},Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){c(!n)}},Object(R.a)(z.a,{fontSize:"small"},"playlist_add_check"))),Object(R.a)(J.a,{title:"Change labels",placement:"bottom"},Object(R.a)("div",null,Object(R.a)(de,{note:s,onChange:function(e){m(E.a.setIn(s,"labels",e))}}))),Object(R.a)(J.a,{title:s.archive?"Unarchive":"Archive",placement:"bottom"},Object(R.a)("div",null,Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){m(E.a.setIn(s,"archive",!s.archive)),"new"===e.variant&&setTimeout((function(){return d()}))},disabled:p()},Object(R.a)(z.a,{fontSize:"small"},s.archive?"unarchive":"archive"))))),Object(R.a)("div",{className:"flex items-center px-4"},"new"===e.variant?Object(R.a)(Y.a,{className:"m-4",onClick:d,variant:"outlined",size:"small",disabled:p()},"Create"):Object(R.a)(l.a.Fragment,null,Object(R.a)(J.a,{title:"Delete Note",placement:"bottom"},Object(R.a)(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove},Object(R.a)(z.a,{fontSize:"small"},"delete"))),Object(R.a)(Y.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"Close"))))):null}ve.defaultProps={variant:"edit",note:null};var ge,xe=Object(ne.k)(ve),ye=Object(p.b)("notesApp/notes/getNotes",Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/notes-app/notes");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Ce=Object(p.b)("notesApp/notes/createNote",function(){var e=Object(d.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/notes-app/create-note",{note:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),we=Object(p.b)("notesApp/notes/updateNote",function(){var e=Object(d.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/notes-app/update-note",{note:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ne=Object(p.b)("notesApp/notes/removeNote",function(){var e=Object(d.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/notes-app/remove-note",{noteId:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=Object(p.c)({}),Se=ke.getSelectors((function(e){return e.notesApp.notes})),De=Se.selectAll,Ie=(Se.selectEntities,Se.selectById,Object(p.d)({name:"notesApp/notes",initialState:ke.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},resetNotesSearchText:function(e,t){e.searchText=""},toggleVariateDescSize:function(e,t){e.variateDescSize=!e.variateDescSize},openNoteDialog:function(e,t){e.noteDialogId=t.payload},closeNoteDialog:function(e,t){e.noteDialogId=t.null}},extraReducers:(ge={},Object(u.a)(ge,ye.fulfilled,ke.setAll),Object(u.a)(ge,Ce.fulfilled,ke.addOne),Object(u.a)(ge,we.fulfilled,ke.upsertOne),Object(u.a)(ge,Ne.fulfilled,ke.removeOne),ge)})),Ee=Ie.actions,ze=Ee.setNotesSearchText,Ae=Ee.resetNotesSearchText,Te=Ee.toggleVariateDescSize,Le=Ee.openNoteDialog,Pe=Ee.closeNoteDialog,_e=Ie.reducer,Me=l.a.forwardRef((function(e,t){return Object(R.a)(V.a,Object(B.a)({direction:"up",ref:t},e))}));var Fe=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.notesApp.notes})),n=Object(I.a)((function(e){t(we(e))}),600);return a.entities?Object(R.a)(s.a,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:Me,onClose:function(e){return t(Pe())},open:Boolean(a.noteDialogId)},Object(R.a)(xe,{note:a.entities[a.noteDialogId],onChange:n,onClose:function(e){return t(Pe())},onRemove:function(){t(Ne(a.noteDialogId))}})):null},He=a(221),Re=a(1166),We=Object(Re.a)({button:{cursor:"text"}});var Ue=function(e){var t=Object(i.c)(),a=We(e),n=Object(o.useState)(!1),c=Object(D.a)(n,2),r=c[0],l=c[1];function s(){r&&(l(!1),document.removeEventListener("keydown",u,!1))}function u(e){27===e.keyCode&&s()}return Object(R.a)(He.a,{className:Object(H.default)(a.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 rounded-8"),elevation:1},r?Object(R.a)(ue.a,{onClickAway:function(e){var t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||s()}},Object(R.a)("div",null,Object(R.a)(xe,{onCreate:function(e){t(Ce(e)),s()},variant:"new"}))):Object(R.a)(_.a,{className:"w-full px-16 py-12 font-500 text-16 w-full",color:"textSecondary",onClick:function(e){e.stopPropagation(),l(!0),document.addEventListener("keydown",u,!1)}},"Take a note.."))},Be=a(1692),Ve=a.n(Be),qe=a(129),Ye=a(1218),Ge={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var Je=function(e,t,a){if(t){t.style.fontSize=null,t.style.lineHeight=null;var n=t.clientWidth;if(0!==n&&a){var c,r=document.createElement("div");r.style.display="inline-block",r.style.fontSize="10px",r.style.fontWeight="200",r.style.lineHeight="10px",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.wordWrap="break-word",r.style.pointerEvents="none",r.style.visibility="hidden",document.body.appendChild(r);var o=e.split(" ").map((function(e){return r.textContent=e.toString(),r.clientWidth})),l=Math.max.apply(Math,Object(ce.a)(o)),i=Math.floor(10*n/l);i<18?c=1:i>=18&&i<24?c=2:i>=24&&i<36?c=3:i>=36&&i<48?c=4:i>=48&&(c=5);var s=Ge[c],u=s.lineHeight,m=s.fontSize;r.textContent=e,r.style.width="".concat(n,"px"),r.style.fontSize="".concat(m,"px"),r.style.lineHeight="".concat(u,"px");var b=r.clientHeight/u;b>4&&b<6?c=4:b>=6&&b<9?c=3:b>=9&&b<11?c=2:b>=11&&(c=1),document.body.removeChild(r),u=Ge[c].lineHeight,m=Ge[c].fontSize,t.style.fontSize="".concat(m,"px"),t.style.lineHeight="".concat(u,"px")}}};var Ke=function(e){var t=Object(i.c)();return Object(R.a)(qe.a,{animation:"transition.fadeIn",duration:400,delay:100},Object(R.a)(Ye.a,{className:Object(H.default)("cursor-pointer",e.className),onClick:function(){return t(Le(e.note.id))}},e.note.image&&""!==e.note.image&&Object(R.a)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&Object(R.a)(_.a,{className:"p-16 pb-8 text-14 font-bold"},e.note.title),e.note.description&&""!==e.note.description&&Object(R.a)(_.a,{className:"py-8 px-16",component:"div"},Object(R.a)("div",{className:Object(H.default)("w-full break-words",e.variateDescSize?"font-200":"text-14"),ref:function(t){setTimeout((function(){return Je(e.note.description,t,e.variateDescSize)}))}},e.note.description)),e.note.checklist&&e.note.checklist.length>0&&Object(R.a)("ul",{className:"py-8 px-16 flex flex-wrap list-reset"},e.note.checklist.map((function(e){return Object(R.a)("li",{key:e.id,className:"flex items-center w-full"},Object(R.a)(z.a,{color:"action",className:"text-16"},e.checked?"check_box_outline":"check_box_outline_blank"),Object(R.a)(_.a,{className:Object(H.default)("truncate mx-8",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit"},e.text))}))),(e.note.labels.length>0||e.note.reminder)&&Object(R.a)("div",{className:"py-8 px-16 flex flex-wrap w-full -mx-2"},e.note.reminder&&Object(R.a)(ae,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((function(e){return Object(R.a)($,{id:e,key:e,className:"mt-4 mx-2 max-w-full",linkable:!0})})))))};var Qe=Object(ne.k)((function(e){var t=Object(i.d)(De),a=Object(i.d)((function(e){return e.notesApp.notes.variateDescSize})),n=Object(i.d)((function(e){return e.notesApp.notes.searchText})),c=Object(o.useState)(null),r=Object(D.a)(c,2),l=r[0],s=r[1];return Object(o.useEffect)((function(){t.length>0&&s(function(){var a=e.match.params,c=a.id,r=a.labelId,o=t;return r&&(o=o.filter((function(e){return e.labels.includes(r)&&!e.archive}))),c||(o=o.filter((function(e){return!e.archive}))),"archive"===c&&(o=o.filter((function(e){return e.archive}))),"reminders"===c&&(o=o.filter((function(e){return Boolean(e.reminder)&&!e.archive}))),0===n.length?o:o=M.a.filterArrayByString(o,n)}())}),[t,n,e.match]),l&&0!==l.length?Object(R.a)("div",{className:"flex flex-wrap w-full"},Object(R.a)(Ve.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-0 md:p-8"},l.map((function(e){return Object(R.a)(Ke,{key:e.id,note:e,className:"w-full rounded-8 mb-16",variateDescSize:a})})))):Object(R.a)("div",{className:"flex items-center justify-center h-full"},Object(R.a)(_.a,{color:"textSecondary",variant:"h5"},"There are no notes!"))})),Xe=a(1177),Ze=Object(Re.a)((function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}}));function $e(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.notesApp.notes.notesSearchText})),n=Ze(e),c=Object(o.useState)(!1),r=Object(D.a)(c,2),l=r[0],s=r[1];function u(e){e.stopPropagation(),s(!0),document.addEventListener("keydown",b,!1)}function m(){s(!1),t(Ae()),document.removeEventListener("keydown",b,!1)}function b(e){27===e.keyCode&&m()}return Object(R.a)("div",{className:Object(H.default)(n.root,"flex",e.className)},Object(R.a)(J.a,{title:"Click to search",placement:"bottom"},Object(R.a)("div",{onClick:u,onKeyDown:u,role:"button",tabIndex:0},e.trigger)),l&&Object(R.a)(ue.a,{onClickAway:function(){m()}},Object(R.a)("div",{className:Object(H.default)(n.inputWrapper,"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24")},Object(R.a)("div",{className:"flex items-center w-full h-full"},Object(R.a)(T.a,{placeholder:"Search for anything",className:"flex flex-1 py-0 px-16 h-64",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(ze(e))},autoFocus:!0}),Object(R.a)(A.a,{onClick:m,className:"mx-8"},Object(R.a)(z.a,null,"close"))))))}$e.defaultProps={trigger:Object(R.a)(A.a,{className:"w-64 h-64"},Object(R.a)(z.a,null,"search"))};var et=$e;var tt=function(e){var t=Object(i.c)(),a=Object(i.d)((function(e){return e.notesApp.notes.variateDescSize}));return Object(R.a)("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative"},Object(R.a)("div",{className:"flex flex-shrink items-center sm:w-224"},Object(R.a)(Xe.a,{lgUp:!0},Object(R.a)(A.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},Object(R.a)(z.a,null,"menu"))),Object(R.a)("div",{className:"flex items-center"},Object(R.a)(qe.a,{animation:"transition.expandIn",delay:300},Object(R.a)(z.a,{className:"text-32"},"account_box")),Object(R.a)(qe.a,{animation:"transition.slideLeftIn",delay:300},Object(R.a)(_.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Notes")))),Object(R.a)("div",{className:"flex flex-1 items-center justify-end"},Object(R.a)(J.a,{title:"Toggle Variate Description Size"},Object(R.a)(A.a,{onClick:function(e){return t(Te())}},Object(R.a)(z.a,{color:a?"action":"disabled"},"format_size"))),Object(R.a)(et,null)))},at=a(109),nt=a(1217),ct=a(1216),rt=Object(Re.a)((function(e){return{paper:Object(u.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var ot=function(e){var t=Object(i.c)(),a=Object(i.d)(x),n=rt(e);return Object(R.a)("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4"},Object(R.a)(qe.a,{animation:"transition.slideLeftIn",delay:200},Object(R.a)(He.a,{elevation:1,className:Object(H.default)(n.paper,"rounded-8")},Object(R.a)(L.a,null,Object(R.a)(P.a,{button:!0,component:at.a,to:"/apps/notes",exact:!0,activeClassName:"active",className:n.listItem},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"label"),Object(R.a)(me.a,{className:"truncate",primary:"Notes",disableTypography:!0})),Object(R.a)(P.a,{button:!0,component:at.a,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:n.listItem},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"notifications"),Object(R.a)(me.a,{className:"truncate",primary:"Reminders",disableTypography:!0}))),Object(R.a)(nt.a,null),Object(R.a)(L.a,null,Object(R.a)(ct.a,null,"Labels"),a.map((function(e){return Object(R.a)(P.a,{key:e.id,button:!0,component:at.a,to:"/apps/notes/labels/".concat(e.handle,"/").concat(e.id),exact:!0,activeClassName:"active",className:n.listItem},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"label"),Object(R.a)(me.a,{className:"truncate",primary:e.name,disableTypography:!0}))})),Object(R.a)(P.a,{button:!0,className:n.listItem,onClick:function(e){return t(N())}},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"edit"),Object(R.a)(me.a,{className:"truncate",primary:"Edit Labels",disableTypography:!0}))),Object(R.a)(nt.a,null),Object(R.a)(L.a,null,Object(R.a)(P.a,{button:!0,component:at.a,to:"/apps/notes/archive",activeClassName:"active",className:n.listItem},Object(R.a)(z.a,{className:"list-item-icon text-16",color:"action"},"archive"),Object(R.a)(me.a,{className:"truncate",primary:"Archive",disableTypography:!0}))))))},lt=a(124),it=Object(lt.c)({notes:_e,labels:S});t.default=Object(r.a)("notesApp",it)((function(e){var t=Object(i.c)(),a=Object(o.useRef)(null);return Object(o.useEffect)((function(){t(ye()),t(j())}),[t]),Object(R.a)(l.a.Fragment,null,Object(R.a)(c.a,{classes:{contentWrapper:"p-16 sm:p-24 pb-80",content:"flex min-h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:Object(R.a)(tt,{pageLayout:a}),content:Object(R.a)("div",{className:"flex flex-col w-full items-center"},Object(R.a)(Ue,null),Object(R.a)(Qe,null),Object(R.a)(Fe,null),Object(R.a)(U,null)),leftSidebarContent:Object(R.a)(ot,null),sidebarInner:!0,ref:a,innerScroll:!0}))}))}}]);